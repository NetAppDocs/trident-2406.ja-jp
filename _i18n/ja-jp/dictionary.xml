<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="summary">バージョンセレクタを使用して、最新バージョンと以前の4つのバージョンを切り替えることも、以下のリンクを使用することもできます。</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">以前のバージョンのドキュメント</block>
  <block id="1c62ad76355c68d0de5faf475ab1861e" category="inline-link-macro">Astra Tridentのサポートライフサイクル</block>
  <block id="4ec89978678dcaf5641d829fd81d45d2" category="paragraph">Astra Trident 24.06を実行していない場合は、以前のリリースのドキュメントをベースに提供してい <block ref="6e1ac221c7aa10f6bb30cbfd51cb3204" category="inline-link-macro-rx"></block>ます。</block>
  <block id="41bda7aee3e78b3069b70a544ebe6b22" category="inline-link">Astra Trident 24.02</block>
  <block id="87a363f7751a408bbc16c5c6f7a206bd" category="list-text"><block ref="87a363f7751a408bbc16c5c6f7a206bd" category="inline-link-rx"></block></block>
  <block id="7a1b797fd20321e22ea865d10d6f2cf3" category="inline-link">Astra Trident 23.10</block>
  <block id="76d4c03ecd62786ee18e99e8d58edc07" category="list-text"><block ref="76d4c03ecd62786ee18e99e8d58edc07" category="inline-link-rx"></block></block>
  <block id="6933dffe806f29980dbedda6aef6fda7" category="inline-link">Astra Trident 23.07</block>
  <block id="5190d8b9f5b246f225722ffa2f20e6b3" category="list-text"><block ref="5190d8b9f5b246f225722ffa2f20e6b3" category="inline-link-rx"></block></block>
  <block id="35e136dc2ee53639294dbf7dbadf4436" category="inline-link">Astra Trident 23.04</block>
  <block id="b409a213a2362e60968efbd1c87c6713" category="list-text"><block ref="b409a213a2362e60968efbd1c87c6713" category="inline-link-rx"></block></block>
  <block id="4693b2393d80830cd4f198db20bf2b72" category="inline-link">Astra Trident 23.01</block>
  <block id="cd494508ccf1cdc45163d6d9d0f401ff" category="list-text"><block ref="cd494508ccf1cdc45163d6d9d0f401ff" category="inline-link-rx"></block></block>
  <block id="3fe5d266a33f137293c314a2e334b611" category="inline-link">Astra Trident 22.10</block>
  <block id="9fefe9ff51badc61edd8a36c8240aa29" category="list-text"><block ref="9fefe9ff51badc61edd8a36c8240aa29" category="inline-link-rx"></block></block>
  <block id="21d437ff7c8ceb5481603b5d2c05442a" category="inline-link">Astra Trident 22.07</block>
  <block id="8a7908446b584a99ce1055c602a9c74e" category="list-text"><block ref="8a7908446b584a99ce1055c602a9c74e" category="inline-link-rx"></block></block>
  <block id="c53358822905bb04d312060d1cb568af" category="inline-link">Astra Trident 22.04</block>
  <block id="fdd380631ba8063e7b8f842282a01e40" category="list-text"><block ref="fdd380631ba8063e7b8f842282a01e40" category="inline-link-rx"></block></block>
  <block id="4af8991c21dff2f779496b8350d1124b" category="inline-link">Astra Trident 22.01</block>
  <block id="7669b0b69333e81c7c208aea3d1a3c6f" category="list-text"><block ref="7669b0b69333e81c7c208aea3d1a3c6f" category="inline-link-rx"></block></block>
  <block id="cce172403b73af5c2a4e93081affcc7f" category="inline-link">Astra Trident 21.10</block>
  <block id="606b9e83fb467a43b3065d4fd5037094" category="list-text"><block ref="606b9e83fb467a43b3065d4fd5037094" category="inline-link-rx"></block></block>
  <block id="3d522b99ca94333433532daa23e7ceab" category="summary">Trident が提供する Astra のインストール、設定、アップグレード、トラブルシューティングに関する FAQ を掲載しています。</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">よくある質問</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般的な質問</block>
  <block id="b34c3d20de0f1b2c7a69bdc59002ad47" category="section-title">Trident がリリースされる頻度を教えてください。</block>
  <block id="bcc0d666d9b662d2f170630526389c46" category="paragraph">24.02リリース以降、Astra Tridentは2月、6月、10月の4カ月ごとにリリースされます。</block>
  <block id="15602d1e4b699ebca549a3d953672d8c" category="section-title">Astra Trident は、特定のバージョンの Kubernetes でリリースされたすべての機能をサポートしていますか。</block>
  <block id="d860923e20119473e7f7d50683cb0559" category="paragraph">Astra Trident は、通常、 Kubernetes でアルファ機能をサポートしていません。Trident は、 Kubernetes ベータリリースに続く 2 つの Trident リリースでベータ機能をサポートしています。</block>
  <block id="52ffcf336df0055235949cf324a8624b" category="section-title">Astra Trident には、他のネットアップ製品との依存関係はありますか。</block>
  <block id="9a10bc69a2553cd055c7b66932fd3864" category="paragraph">Astra Trident は、他のネットアップソフトウェア製品に依存しないため、スタンドアロンアプリケーションとして機能します。ただし、ネットアップのバックエンドストレージデバイスが必要です。</block>
  <block id="bda04f64eaa9613cb4923cf43e24954c" category="section-title">Astra Trident の設定の詳細をすべて取得するにはどうすればよいですか。</block>
  <block id="6d6d1fbb6191413b3262aed487048f1e" category="paragraph">使用して<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>コマンドを、Astra Trident構成に関する詳細情報を取得します。</block>
  <block id="d8634bcd1659c9cdf6f1a7a92ec00c30" category="section-title">Astra Trident を使用してストレージをプロビジョニングする方法に関するメトリクスを取得できますか。</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights</block>
  <block id="46792977f68671d8fa16e6cf46018cf1" category="paragraph">はい。Prometheusエンドポイント：管理対象のバックエンド数、プロビジョニングされたボリューム数、消費されたバイト数など、Astra Tridentの処理に関する情報を収集できます。を監視および分析に使用することもできます<block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block>。</block>
  <block id="3e9ebf4af3f0b9d1852396d46171ef99" category="section-title">Astra Trident を CSI プロビジョニング担当者として使用すると、ユーザエクスペリエンスは変化しますか。</block>
  <block id="05f95d89af1ccd9b986014406a4b1fc8" category="paragraph">いいえ。ユーザーエクスペリエンスと機能に関しては変更はありません。使用されるプロビジョニングツール名はです<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>。現在および将来のリリースで提供される新しい機能をすべて使用する場合は、 Astra Trident をインストールする方法を推奨します。</block>
  <block id="0a7e87df44869b8d60a83f35d1e2747b" category="section-title">Kubernetes クラスタに Astra Trident をインストールして使用</block>
  <block id="bde6cb03741f92107c63aeebe62d3278" category="section-title">Astra Trident はプライベートレジストリからのオフラインインストールをサポートしていますか。</block>
  <block id="0769d1459ee3d99d6454d7f99246c894" category="inline-link-macro">Astra Tridentのインストール方法をご確認ください</block>
  <block id="766de722cbe43c4790012aceeda5883a" category="paragraph">はい、 Astra Trident はオフラインでインストールできます。を参照してください <block ref="0a151f2172e9de7ac683f78c751f7c2c" category="inline-link-macro-rx"></block>。</block>
  <block id="1c51806b370d428d5779dbcacd940174" category="section-title">Astra Trident はリモートからインストールできますか。</block>
  <block id="bf858450c271da75a3df3a15ca761330" category="paragraph">はい。Astra Trident 18.10以降では、クラスタにアクセスできる任意のマシンからのリモートインストール機能がサポートされます<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。アクセスが確認されたら<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>（たとえば、リモートマシンからコマンドを実行し<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>て確認する）、インストール手順に従います。</block>
  <block id="12694c2de4575e39a6f7e81d55e35de9" category="section-title">Astra Trident でハイアベイラビリティを構成できますか。</block>
  <block id="f1cf2ca3af6ca7c374ad2104f570c790" category="paragraph">Astra Tridentは、インスタンスが1つのKubernetesデプロイメント（ReplicaSet）としてインストールされるため、HAが組み込まれています。デプロイメント内のレプリカの数を増やすことはできません。Astra Trident がインストールされているノードが失われた場合や、ポッドにアクセスできない場合は、 Kubernetes によって、クラスタ内の正常なノードにポッドが自動的に再導入されます。Astra Trident はコントロールプレーンのみであるため、 Astra Trident を再導入しても、現在マウントされているポッドには影響しません。</block>
  <block id="1656e4b34abdb6d497b40cac65366767" category="section-title">Astra Trident は kube-system ネームスペースにアクセスする必要がありますか。</block>
  <block id="6f67e1edfd4aa5b0e695528a9c7d8898" category="paragraph">Astra Trident は Kubernetes API Server からデータを読み取り、アプリケーションが新しい PVC を要求するタイミングを判断して、 kube-system へのアクセスを必要とします。</block>
  <block id="16cdb35003b5bcf0f30556e0bc477511" category="section-title">Astra Trident で使用されるロールと権限を教えてください。</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="inline-link-macro">tridentctlのインストールをカスタマイズします</block>
  <block id="3a766ef0e7ab8dbf17dc86487efd5fbf" category="paragraph">TridentインストーラによってKubernetes ClusterRoleが作成され、KubernetesクラスタのPersistentVolume、PersistentVolumeClaim、StorageClass、およびSecretリソースに特定のアクセス権が付与されます。を参照してください <block ref="118dd7a3d307a499ad0f9c547981393b" category="inline-link-macro-rx"></block>。</block>
  <block id="8ff39a39871cc30228035bc0580a6af4" category="section-title">Astra Trident がインストールに使用するマニフェストファイルをローカルで生成できますか。</block>
  <block id="56c2b95cf7c24d68342cacfbe43204bd" category="paragraph">必要に応じて、マニフェストファイルである Astra Trident のインストールに使用するものをローカルで生成して変更できます。を参照してください <block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>。</block>
  <block id="e6af67b71bd46d7588b50f28e1414f9b" category="section-title">2 つの別々の Kubernetes クラスタに対して、同じ ONTAP バックエンド SVM を 2 つの別々の Astra Trident インスタンスに対して共有できますか。</block>
  <block id="7bbf9b47e035f0f9bb7c46098e78fb4d" category="paragraph">推奨されませんが、同じバックエンド SVM を 2 つの Astra Trident インスタンスに使用できます。インストール時に各インスタンスに一意のボリューム名を指定するか、ファイルで一意のパラメータを<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block>指定し<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block>ます。これは、両方のインスタンスで同じ FlexVol を使用しないためです。</block>
  <block id="9840a5bb6278469ed550bcdcc92c29c5" category="section-title">ContainerLinux （旧 CoreOS ）に Astra Trident をインストールすることはできますか。</block>
  <block id="7a35680d9db247612b732ae47144f030" category="paragraph">Astra Trident は Kubernetes ポッドとして機能し、 Kubernetes が実行されている場所に導入できます。</block>
  <block id="5fc6de1b535ebb2a5380b6aa607e4cca" category="section-title">ネットアップの Cloud Volumes ONTAP で Astra Trident を使用できますか。</block>
  <block id="5d1cff73e26dc54ef52bdca5a29b319c" category="paragraph">はい、 Astra Trident は AWS 、 Google Cloud 、 Azure でサポートされています。</block>
  <block id="2ddee53d5c18f6e78f18dad82851303e" category="section-title">Astra Trident は Cloud Volume サービスと連携していますか。</block>
  <block id="ba600e29b197aa569df1df520cc4e4c9" category="paragraph">はい。 Astra Trident は、 Azure の Azure NetApp Files サービスと GCP の Cloud Volumes Service をサポートしています。</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">トラブルシューティングとサポート</block>
  <block id="9985a592486717ae388709b9267da4f9" category="section-title">ネットアップは Astra Trident をサポートしていますか。</block>
  <block id="cc56e0da96ceaf708545923f1094815b" category="paragraph">Astra Trident はオープンソースであり、無償で提供されますが、ネットアップのバックエンドがサポートされていれば、完全にサポートされています。</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">サポートケースを作成するにはどうすればよいですか？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">サポートケースを作成するには、次のいずれかを実行します。</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">サポートアカウントマネージャーに連絡して、チケットの発行に関するサポートを受けてください。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetAppのサポート</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">に連絡してサポートケースを提起し<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>ます。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">サポートログバンドルを生成するにはどうすればよいですか？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">を実行すると、サポートバンドルを作成できます<block ref="7466d048454007a33a6e078578c48a86" prefix=" " category="inline-code"></block>。バンドルでキャプチャされたログに加えて、 kubelet ログをキャプチャして、 Kubernetes 側のマウントの問題を診断します。kubelet ログの取得手順は、 Kubernetes のインストール方法によって異なります。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">新しい機能のリクエストを発行する必要がある場合は、どうすればよいですか。</block>
  <block id="4c1d312c39e7048d2c634824e243fdba" category="inline-link">Astra Trident Github</block>
  <block id="4169ad079be240db45893881a795d255" category="paragraph">問題を作成し<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block>、問題の件名と説明に*RFE*を記載します。</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">不具合を発生させる場所</block>
  <block id="a814c59a6fef2fb64a2a32dedcf6f82e" category="paragraph">で問題を作成し<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block>ます。問題に関連する必要なすべての情報とログを記録しておいてください。</block>
  <block id="fd0759571f12527967b660b5b327c65b" category="section-title">ネットアップが Trident の Astra について簡単に質問できたらどうなりますか。コミュニティやフォーラムはありますか？</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">チャネルを外します</block>
  <block id="c0ecc0f40acc112b78de6c3fd3c29e83" category="paragraph">ご質問、問題、リクエストがある場合は、AstraまたはGitHubからお問い合わせ<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>ください。</block>
  <block id="1a4c36220ae60b6a6a4c2285be05a43a" category="section-title">ストレージシステムのパスワードが変更され、Astra Tridentが機能しなくなったため、どのようにリカバリすればよいですか？</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">バックエンドのパスワードをで更新し<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>ます。この例では、をバックエンド名と<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block>正しいファイルへのパスに<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>置き換えます<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block>。</block>
  <block id="6100f37d544e87e462129f21e52bae7f" category="section-title">Astra Trident が Kubernetes ノードを検出できない。この問題を解決するにはどうすればよいですか</block>
  <block id="d5cf5c734786394c838bacc6597594c6" category="paragraph">Trident が Kubernetes ノードを検出できない場合、次の 2 つのケースが考えられます。Kubernetes または DNS 問題内のネットワーク問題が原因の場合もあります。各 Kubernetes ノードで実行される Trident ノードのデデーモンが Trident コントローラと通信し、 Trident にノードを登録できる必要があります。Astra Trident のインストール後にネットワークの変更が発生した場合、この問題が発生するのはクラスタに追加された新しい Kubernetes ノードだけです。</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">Trident ポッドが破損すると、データは失われますか？</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">Trident ポッドが削除されても、データは失われません。TridentのメタデータはCRDオブジェクトに格納されます。Trident によってプロビジョニングされた PVS はすべて正常に機能します。</block>
  <block id="3386987a97643481040e99019808e020" category="section-title">Astra Trident をアップグレード</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">古いバージョンから新しいバージョンに直接アップグレードできますか（いくつかのバージョンはスキップします）？</block>
  <block id="ce44cbbc54839f39b351c091b0e3caa5" category="paragraph">ネットアップでは、 Astra Trident のメジャーリリースから次回のメジャーリリースへのアップグレードをサポートしています。バージョン 18.xx から 19.xx 、 19.xx から 20.xx にアップグレードできます。本番環境の導入前に、ラボでアップグレードをテストする必要があります。</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">Trident を以前のリリースにダウングレードできますか。</block>
  <block id="7786076739da628161f45de338cd6e69" category="inline-link-macro">Astra Tridentをアンインストールします</block>
  <block id="3d8f9a401d2f14d3d617f589c6df7432" category="paragraph">アップグレード、依存関係の問題、またはアップグレードの失敗または不完全な実行後に見つかったバグの修正が必要な場合は、そのバージョンに固有の手順を使用して以前のバージョンを再インストールする必要があります<block ref="a77ee044a82010691ba331df7568f289" category="inline-link-macro-rx"></block>。これは、以前のバージョンにダウングレードするための唯一の推奨方法です。</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">バックエンドとボリュームを管理</block>
  <block id="ffe72215dff9a93d62ee68905212025e" category="section-title">ONTAP バックエンド定義ファイルに管理 LIF とデータ LIF の両方を定義する必要がありますか。</block>
  <block id="7911fdf4657d2e334f854a18bd855d10" category="paragraph">管理LIFは必須です。データLIFのタイプはさまざまです。</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">ONTAP の選択的LUNマップ</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="inline-link-macro">ONTAP SANの設定オプションと例</block>
  <block id="0f118344f15151d321a269948a521caf" category="list-text">ONTAP SAN：iSCSIには指定しないでください。Astra Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCI LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。詳細については、を参照してください <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> 。</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="inline-link-macro">ONTAP NASの設定オプションと例</block>
  <block id="f09a3c9e4e8e8413b0a9e74e8e29bcdd" category="list-text">ONTAP NAS:を指定することを推奨します<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。詳細は、を参照してください。<block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block></block>
  <block id="f3997f0b9446951754e665cfe7591cef" category="section-title">Astra Trident が ONTAP バックエンドに CHAP を設定できるか。</block>
  <block id="8bcc65cd81ef7ffed875ca40674efa09" category="paragraph">はい。Astra Tridentでは、ONTAPバックエンドの双方向CHAPがサポートされます。これには、バックエンド構成での設定が必要です<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>。</block>
  <block id="952cc22022a80bb8079f6dd7afb289d2" category="section-title">Astra Trident を使用してエクスポートポリシーを管理するにはどうすればよいですか。</block>
  <block id="10318a43fca1fe376b7af5445f41fec8" category="paragraph">Astra Trident では、バージョン 20.04 以降からエクスポートポリシーを動的に作成、管理できます。これにより、ストレージ管理者はバックエンド構成に 1 つ以上の CIDR ブロックを指定でき、 Trident では、その範囲に含まれるノード IP を作成したエクスポートポリシーに追加できます。このようにして、 Astra Trident は特定の CIDR 内に IP アドレスが割り当てられたノードのルールの追加と削除を自動的に管理します。</block>
  <block id="1d08384060bd88a7801faae4fe346d06" category="section-title">管理 LIF とデータ LIF に IPv6 アドレスを使用できますか。</block>
  <block id="cb16cfa78684ba0c7fc9cff3e67df72b" category="paragraph">Astra Tridentでは、次の機能に対してIPv6アドレスを定義できます。</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block>また<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>、ONTAP NASバックエンドにも対応しています。</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block>ONTAP SANバックエンドの場合。ONTAP SANバックエンドでは指定できません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。</block>
  <block id="3fd1a9bc30bcd7efc9fd65fa7a4eccb8" category="paragraph">Astra TridentをIPv6で機能させるには、フラグ（インストール用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>）、（Trident Operator用）、<block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix=" " category="inline-code"></block>または（Helmインストール用）<block ref="b63589bf34442180f04a6b46488afa6d" prefix=" " category="inline-code"></block>を使用してインストールする必要があります<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block>。</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">バックエンドの管理 LIF を更新できますか。</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">はい、コマンドを使用してバックエンドの管理LIFを更新できます<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="c56cd7a01da4acc4fc86aa498cabfd99" category="section-title">バックエンドのデータ LIF を更新できるか。</block>
  <block id="f53ad7a29c3832e7ce3b551fa5add12d" category="paragraph">データLIFの更新は、および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>でのみ実行できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="1e0e6fcec605e6450ba12b95969c8959" category="section-title">Kubernetes 向け Astra Trident で複数のバックエンドを作成できますか。</block>
  <block id="fb3cb30bfe23466a98407256c8b5164f" category="paragraph">Astra Trident では、同じドライバまたは別々のドライバを使用して、多数のバックエンドを同時にサポートできます。</block>
  <block id="6454319cc2398418b67f5b2df5aa5cd3" category="section-title">Astra Trident はバックエンドクレデンシャルをどのように保存しますか。</block>
  <block id="1d406f7ac7268b602da0989a4675480e" category="paragraph">Astra Trident では、バックエンドのクレデンシャルを Kubernetes のシークレットとして格納します。</block>
  <block id="64a610ffaa66abeebc73d8159b9f73ec" category="section-title">Astra Trident ではどのようにして特定のバックエンドを選択しますか。</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">バックエンド属性を使用してクラスに適したプールを自動的に選択できない場合は<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>、および<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>パラメータを使用して特定のプールセットを選択します。</block>
  <block id="3beefa69a05dde01d93a438a943a5a7a" category="section-title">Astra Trident が特定のバックエンドからプロビジョニングされないようにするにはどうすればよいですか。</block>
  <block id="b5c265487a1fed6a3367664ccab664bb" category="paragraph">パラメータを<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>使用して、Astra Tridentがプロビジョニングに使用する一連のプールをフィルタリングし、に一致するプールをすべて削除します。</block>
  <block id="e124ac30adf3eea60a13cd5f93980e7e" category="section-title">同じ種類のバックエンドが複数ある場合、 Astra Trident はどのバックエンドを使用するかをどのように選択しますか。</block>
  <block id="c02ba3e7f8a02e0d1e29e2190a86e352" category="paragraph">同じタイプの設定済みバックエンドが複数ある場合は、との<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>パラメータに基づいて適切なバックエンドがAstra Tridentによって選択され<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。たとえば、ONTAPとNASのドライババックエンドが複数ある場合、Astra Tridentは、と<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>を組み合わせてのパラメータを照合し、と<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>に記載されている要件を満たすバックエンドを<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>照合し<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。この要求に一致するバックエンドが複数ある場合、 Astra Trident はいずれかのバックエンドからランダムに選択します。</block>
  <block id="7a2fd62f4a63259a7f94543a0ae01e76" category="section-title">Astra Trident は、 Element / SolidFire で双方向 CHAP をサポートしていますか。</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">はい。</block>
  <block id="7880810a250adc4ccf5108fe88325055" category="section-title">Trident が ONTAP ボリュームに qtree を導入する方法を教えてください。1 つのボリュームに配置できる qtree の数はいくつですか。</block>
  <block id="657cbdac1a85665b0b38b37c9a306925" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、同じFlexVolに最大200個のqtree（50~300の間で設定可能）、クラスタノードあたり100,000個、クラスタあたり2.4M個のqtreeを作成します。エコノミードライバによって処理される新しいを入力すると、<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>新しいqtreeに対応できるFlexVolがすでに存在するかどうかが確認されます。qtree を提供できる FlexVol が存在しない場合は、新しい FlexVol が作成されます。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">ONTAP NAS でプロビジョニングされたボリュームに UNIX アクセス権を設定するにはどうすればよいですか。</block>
  <block id="a535e502931280dfaa539ecd1cbdfc0c" category="paragraph">Astra Trident でプロビジョニングしたボリュームに対して UNIX 権限を設定するには、バックエンド定義ファイルにパラメータを設定します。</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">ボリュームをプロビジョニングする際に、明示的な ONTAP NFS マウントオプションを設定するにはどうすればよいですか。</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">ここをクリック</block>
  <block id="8e6b1878428055edaef42698026bd1b5" category="paragraph">Trident では、デフォルトでマウントオプションが Kubernetes でどの値にも設定されていません。Kubernetesストレージクラスでマウントオプションを指定するには、次の例を参照して<block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>ください。</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">プロビジョニングしたボリュームを特定のエクスポートポリシーに設定するにはどうすればよいですか？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">適切なホストにボリュームへのアクセスを許可するには、バックエンド定義ファイルで設定されているパラメータを使用し<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block>ます。</block>
  <block id="9d5813dee71bcbf3d3a03c62354c3e55" category="section-title">ONTAP を使用して Astra Trident 経由でボリューム暗号化を設定する方法を教えてください。</block>
  <block id="ea4a2eeab32b5cd82414bd4a2fc3e8e6" category="inline-link-macro">Astra TridentとNVEおよびNAEの相互運用性</block>
  <block id="de05556ddd203d92c70611ab918d657a" category="paragraph">Trident によってプロビジョニングされたボリュームで暗号化を設定するには、バックエンド定義ファイルの暗号化パラメータを使用します。詳細については、以下を参照してください。<block ref="22dccd9f6b27b25deeed93972d237440" category="inline-link-macro-rx"></block></block>
  <block id="ef1581716b653c4364dd5005dbe9e40a" category="section-title">Trident 経由で ONTAP に QoS を実装するには、どのような方法が最適ですか。</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">ONTAPのQoSを実装するために使用し<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1c771b761835123a135e64f70567d768" category="section-title">Trident 経由でシンプロビジョニングやシックプロビジョニングを指定するにはどうすればよいですか。</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">ONTAP ドライバは、シンプロビジョニングまたはシックプロビジョニングをサポートします。ONTAP ドライバはデフォルトでシンプロビジョニングに設定されています。シックプロビジョニングが必要な場合は、バックエンド定義ファイルまたはを設定する必要があります<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。両方が設定されている場合は、が<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>優先されます。ONTAP で次の項目を設定します。</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">で<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>、属性をthickに設定し<block ref="b713baf75bcf13859037b5274d27d4b8" prefix=" " category="inline-code"></block>ます。</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">バックエンド定義ファイルで、をvolumeに設定してシックボリュームを有効にします<block ref="f78b8fc8b3b9f77533234c7f4a240613" prefix=" " category="inline-code"></block>。</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">誤って PVC を削除した場合でも、使用中のボリュームが削除されないようにするにはどうすればよいですか。</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">Kubernetes では、バージョン 1.10 以降、 PVC 保護が自動的に有効になります。</block>
  <block id="8d766c7d692523686b8954d72ee86ea4" category="section-title">Astra Trident によって作成された NFS PVC を拡張できますか。</block>
  <block id="328e34871ba32779f27f3e8a8e78499a" category="paragraph">はい。Astra Trident によって作成された PVC を拡張できます。ボリュームの自動拡張は ONTAP の機能であり、 Trident には適用されません。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">ボリュームが SnapMirror データ保護（ DP ）モードまたはオフラインモードの間にインポートできますか。</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">外部ボリュームが DP モードになっているかオフラインになっている場合、ボリュームのインポートは失敗します。次のエラーメッセージが表示されます。</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">リソースクォータをネットアップクラスタに変換する方法</block>
  <block id="45f78013e46c8f3e884ed0f7becbd5ab" category="paragraph">Kubernetes ストレージリソースクォータは、ネットアップストレージの容量があるかぎり機能します。容量不足が原因でネットアップストレージが Kubernetes のクォータ設定を受け入れられない場合、 Astra Trident はプロビジョニングを試みますがエラーになります。</block>
  <block id="491a93842f7a65b8cbe82aca71db0d3f" category="section-title">Trident を使用してボリューム Snapshot を作成できますか。</block>
  <block id="9792ac41ce6f91861f84548e1b4a2b1c" category="paragraph">はい。Trident が、 Snapshot からオンデマンドのボリューム Snapshot と永続的ボリュームを作成できるようになりました。スナップショットからPVSを作成するには、フィーチャーゲートが有効になっていることを確認し<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1eedb8a6574b0c07ea61689a7e3ec8d4" category="section-title">Astra Trident のボリュームスナップショットをサポートするドライバを教えてください。</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">現時点では<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>、および<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>バックエンドドライバ。</block>
  <block id="24c649a639a2c31810a4dfc6ed0190da" category="section-title">ONTAP を使用して Astra Trident でプロビジョニングしたボリュームの Snapshot バックアップを作成する方法を教えてください。</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">これは、、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバで使用でき<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。ドライバの<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>をFlexVolレベルで指定することもできます<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>。</block>
  <block id="933b520ff6d70262ddb482995c684d57" category="paragraph">これはドライバでも使用できますが、qtreeレベルではなく、FlexVolレベルで使用でき<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ます。Astra TridentでプロビジョニングされたボリュームのSnapshotを作成できるようにするには、バックエンドパラメータオプションをONTAPバックエンドで定義されている目的のSnapshotポリシーに設定し<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>ます。ストレージコントローラで作成された Snapshot は Astra Trident で認識されません。</block>
  <block id="594e8a352537de25938bdd663d6211b5" category="section-title">Trident 経由でプロビジョニングしたボリュームの Snapshot リザーブの割合を設定できますか。</block>
  <block id="8db5662205f3a6430af4bea6f08e7d45" category="paragraph">はい。バックエンド定義ファイルで属性を設定することで、Astra TridentでSnapshotコピーの格納用に特定の割合のディスクスペースをリザーブできます<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>。を設定し、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>バックエンド定義ファイルでスナップショット予約の割合が設定されている場合は<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>、バックエンドファイルで指定されている割合に従って設定され<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>ます。パーセンテージ番号が指定されていない場合<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>、ONTAPはデフォルトでスナップショット予約のパーセンテージを5とします。この<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>オプションをnoneに設定すると、Snapshotリザーブの割合は0に設定されます。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">ボリュームの Snapshot ディレクトリに直接アクセスしてファイルをコピーできますか。</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">はい。Tridentによってプロビジョニングされるボリューム上のsnapshotディレクトリには、バックエンド定義ファイルでパラメータを設定することでアクセスできます<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block>。</block>
  <block id="81dbf5e91cc69bfcf6477128389d8a25" category="section-title">Astra Trident を使用して、ボリューム用の SnapMirror をセットアップできますか。</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">現時点では、 SnapMirror は ONTAP CLI または OnCommand System Manager を使用して外部に設定する必要があります。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">永続ボリュームを特定の ONTAP Snapshot にリストアするにはどうすればよいですか？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">ボリュームを ONTAP Snapshot にリストアするには、次の手順を実行します。</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">永続ボリュームを使用しているアプリケーションポッドを休止します。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">ONTAP CLI または OnCommand システムマネージャを使用して、必要な Snapshot にリバートします。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">アプリケーションポッドを再起動します。</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">Tridentは、負荷共有ミラーが設定されているSVMでボリュームをプロビジョニングできますか。</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">負荷共有ミラーは、NFS経由でデータを提供するSVMのルートボリューム用に作成できます。ONTAP は、Tridentによって作成されたボリュームの負荷共有ミラーを自動的に更新します。ボリュームのマウントが遅延する可能性があります。Tridentを使用して複数のボリュームを作成する場合、ボリュームをプロビジョニングする方法は、負荷共有ミラーを更新するONTAP によって異なります。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">お客様 / テナントごとにストレージクラスの使用状況を分離するにはどうすればよいですか。</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes では、ネームスペース内のストレージクラスは使用できません。ただし、 Kubernetes を使用すると、ネームスペースごとにストレージリソースクォータを使用することで、ネームスペースごとに特定のストレージクラスの使用量を制限できます。特定のストレージへのネームスペースアクセスを拒否するには、そのストレージクラスのリソースクォータを 0 に設定します。</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">ネットアップでは、さまざまな方法で Trident をサポートしています。ディスコード・チャネルなど、24時間365日利用可能な広範な無料セルフ・サポート・オプションをご用意しています。</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">サポート</block>
  <block id="a14a78392cb7980f1ecc5ee325c25d37" category="paragraph">NetAppは、Astra Tridentをさまざまな方法でサポートします。ナレッジベース（KB）記事やDiscordチャネルなど、24時間365日利用可能な無料のセルフサポートオプションをご用意しています。</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">定義に対するNetAppソフトウェアバージョンのサポート</block>
  <block id="3042651f925f3e8415fae909364e667c" category="paragraph">Astra Tridentでは、バージョンに応じて3つのレベルのサポートが提供されます。を参照してください <block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>。</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">フルサポート</block>
  <block id="e3ecfbc1273c567e1d485c5a67ea7b2a" category="list-text">Astra Tridentは、リリース日から12カ月間フルサポートを提供します。</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">限定サポート</block>
  <block id="09be36d73ff7ca920196ef5ddc6b1cc3" category="list-text">Astra Tridentでは、リリース日から13~24カ月目に限定的なサポートを提供します。</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">セルフサポート</block>
  <block id="a880ae57450a3d9e2d8dd4c89d54126f" category="list-text">Astra Tridentのドキュメントは、リリース日から25~36カ月間提供されます。</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">バージョン</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="38999be4c01ec9d8c11d4405b7dc50e0" category="inline-link-macro">24.06</block>
  <block id="a3067ef324b1158d38cb3329c3b7fb88" category="paragraph"><block ref="a3067ef324b1158d38cb3329c3b7fb88" category="inline-link-macro-rx"></block></block>
  <block id="94d267f658e04734eb2e098127293a89" category="cell">2025年6月</block>
  <block id="c21446b3ecfb30ed6c2760d686bd4578" category="cell">2026年6月</block>
  <block id="2f57a6988da045d1c26e2c5016ad0900" category="cell">2027年6月</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="inline-link-macro">24.02</block>
  <block id="b82311f71a5beb2fadeeab6836e53fc1" category="paragraph"><block ref="b82311f71a5beb2fadeeab6836e53fc1" category="inline-link-macro-rx"></block></block>
  <block id="6cc5c9e930ea3d3b8bff4367c60ceea4" category="cell">2025年2月</block>
  <block id="be90349da04be71a620e68314d810f7f" category="cell">2026年2月</block>
  <block id="4b7cb6c36399bdd4e8724de18a1c079b" category="cell">2027年2月</block>
  <block id="766995a062c6503acd7ac4752fbb865d" category="inline-link-macro">23.10</block>
  <block id="bcb8f00239af2cecd5a6b534dabea922" category="paragraph"><block ref="bcb8f00239af2cecd5a6b534dabea922" category="inline-link-macro-rx"></block></block>
  <block id="09ea156cd1da2f7e3fda8aefab96074a" category="cell">2024年10月</block>
  <block id="99dfa28920a40a7be0858c50f989a3e5" category="cell">2025年10月</block>
  <block id="78c875172f37f031a2632dc008815ee1" category="cell">2026年10月</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23.07</block>
  <block id="62bc04158f931e9b0a26f5676c8ab043" category="paragraph"><block ref="62bc04158f931e9b0a26f5676c8ab043" category="inline-link-macro-rx"></block></block>
  <block id="f66bc2df80ac37f354b591907be92e18" category="cell">2024年7月</block>
  <block id="928f12ce7e1197fe962e09f979b98d0d" category="cell">2025年7月</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">2026年7月</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23.04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="42ce83dc3f5ef22d986311b267a5ac20" category="cell">2025年4月</block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">2026年4月</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23.01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="9dd6e3f1271bf8cdcd9a0becace5f06f" category="cell">2025年1月</block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">2026年1月</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="inline-link-macro">22.10</block>
  <block id="1d064e71d708bc66779c604db1339850" category="paragraph"><block ref="1d064e71d708bc66779c604db1339850" category="inline-link-macro-rx"></block></block>
  <block id="b321f6c1ada34a3fa850996d673e01ca" category="inline-link-macro">22.07</block>
  <block id="295e1f077ca9f1e68f56c558741bad74" category="paragraph"><block ref="295e1f077ca9f1e68f56c558741bad74" category="inline-link-macro-rx"></block></block>
  <block id="e764fe6b8f8825a307a87cedbef45678" category="inline-link-macro">22.04</block>
  <block id="865d5fc74524e198b7d4edc0b0f93cd6" category="paragraph"><block ref="865d5fc74524e198b7d4edc0b0f93cd6" category="inline-link-macro-rx"></block></block>
  <block id="955ddf0f7e289ee80cdea4b5324b620d" category="inline-link-macro">22.01</block>
  <block id="1d6d13ec4b4db5f5d3487f7624ba2730" category="paragraph"><block ref="1d6d13ec4b4db5f5d3487f7624ba2730" category="inline-link-macro-rx"></block></block>
  <block id="ecdd0ca053bad0e4dd13561a556a27a2" category="inline-link-macro">21.10</block>
  <block id="26868cf4e34a30cd32082fe3a81f7a5b" category="paragraph"><block ref="26868cf4e34a30cd32082fe3a81f7a5b" category="inline-link-macro-rx"></block></block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">ネットアップナレッジベース（ログインが必要）</block>
  <block id="02156e884c41dcd300cb53b1bedf09d8" category="paragraph">トラブルシューティング記事の包括的なリストについては、を参照してください<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>。また、Astraに関連する問題のトラブルシューティングに関する情報も確認できます<block ref="695f48b1d8b7348c0e2828947d24161e" category="inline-link-rx"></block>。</block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">コミュニティサポート</block>
  <block id="314c5cdde6da009a7b0571d60c8422ae" category="paragraph">ネットアップのAstraには、コンテナユーザ（Astra Trident開発者を含む）の活発なパブリックコミュニティがあり<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>ます。プロジェクトに関する一般的な質問をしたり、同じような気のある同僚と関連するトピックについて話し合うのには、この場所が最適です。</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">NetAppテクニカルサポート</block>
  <block id="8ef0ab9bbedaa7608c9abed7c7213218" category="paragraph">Astra Tridentに関するサポートが必要な場合は、を使用してサポートバンドルを作成し<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>、に送信します<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>。</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">詳細情報</block>
  <block id="6394eceb2639574114b02e6e817eb19a" category="inline-link-macro">Astra ブログ</block>
  <block id="44c86da066b2aa1cdbeb7ae4dcc42baf" category="list-text"><block ref="44c86da066b2aa1cdbeb7ae4dcc42baf" category="inline-link-macro-rx"></block></block>
  <block id="3334dfda9735f9b3ed55a34ef316b599" category="inline-link-macro">Astra Trident のブログ</block>
  <block id="a7266bb27e7415b120f5e25460dc32fe" category="list-text"><block ref="a7266bb27e7415b120f5e25460dc32fe" category="inline-link-macro-rx"></block></block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="inline-link-macro">Kubernetes ハブ</block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="inline-link-macro">netapp.io のコマンドです</block>
  <block id="b86b16f39688f208b4a554adb7958c46" category="list-text"><block ref="b86b16f39688f208b4a554adb7958c46" category="inline-link-macro-rx"></block></block>
  <block id="3cb5107653d42fd909d7ef9362684dca" category="summary">Astra Trident は、ネットアップが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。** Astra Trident 24.06へのアップグレードに関する重要な情報については、リリースノートをご覧ください。**</block>
  <block id="745a5f126dcf9acea2e952485cadb871" category="doc">Astra Trident 24.06ドキュメント</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法的通知</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">法的通知では、著作権に関する声明、商標、特許などにアクセスできます。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">著作権</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp、NetAppのロゴ、およびNetAppの商標ページに記載されているマークは、NetApp、Inc.の商標です。 その他の会社名および製品名は、それを所有する各社の商標である場合があります。</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">特許</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">NetAppが所有する特許の最新リストは、次のサイトで参照できます。</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">プライバシーポリシー</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">オープンソース</block>
  <block id="0172b29a9f5d94dc62ee592a98183f3b" category="paragraph">Astra TridentのNetAppソフトウェアで使用されているサードパーティの著作権とライセンスは、各リリースのnoticesファイルで確認できます<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>。</block>
  <block id="b56253bf92505bda20b38657c778bccf" category="doc">ページタイトルがここに表示されます</block>
  <block id="5d9328ee3f628e51f1a4f871ccff7313" category="paragraph">このテンプレートは、記事やトピックなど、どのような呼び名でも使用できます。index.adocファイルには、記事ページの正しいキーワードが含まれておらず、それをテンプレートとして使用すると、後で発行の問題が原因で発生する可能性があります。</block>
  <block id="26739de98ff2a207a5c145caf27c2508" category="admonition">このファイルは、サイドバーにリンクされていなくても公開されるため、最初の公開前に削除してください。いくつかの記事を作成したら、代わりにそれらをスターターとして使用できます。</block>
  <block id="38b255c5af258b1f086fb7c9aa4f252c" category="paragraph">記事がコンテンツサブフォルダにある場合は、上記の表記を2つ調整する必要があります。</block>
  <block id="df25e29acec650a07b41041946158355" category="list-text"><block ref="abc9d0bfc8d5688ddd4babf6a5402ee4" prefix="" category="inline-code"></block></block>
  <block id="97df5ffadc97296dc727ffddf2d2e1fe" category="list-text"><block ref="ff695bd1637208b4929c7ae2085cd551" prefix="" category="inline-code"></block></block>
  <block id="7458188f037f23dc14a7396825f28eca" category="summary">Trident の Astra プロビジョニングの主なフェーズは 2 つあります。最初のフェーズでは、ストレージクラスを適切なバックエンドストレージプールのセットに関連付け、プロビジョニング前の必要な準備として実行します。2番目のフェーズではボリュームの作成自体が行われ、保留状態のボリュームのストレージクラスに関連付けられたストレージプールの中からストレージプールを選択する必要があります。</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">プロビジョニング</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">ストレージクラスの関連付け</block>
  <block id="2bd42f922a8c0b54b90557eba2071a76" category="paragraph">バックエンドストレージプールをストレージクラスに関連付けるには、ストレージクラスの要求された属性と、<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>の<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>リストの両方が<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>必要です。ストレージクラスを作成すると、 Trident はバックエンドごとに提供される属性とプールを、ストレージクラスから要求された属性とプールと比較します。要求された属性とプール名がストレージプールの属性と名前ですべて一致した場合、 Astra Trident がそのストレージプールを、そのストレージクラスに適した一連のストレージプールに追加します。さらに、Astra Tridentは、リストに表示されているすべてのストレージプールをそのセットに追加します。プール<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>の属性がストレージクラスの要求された属性のすべてまたは一部を満たしていない場合でも同様です。このリストを使用して、ストレージクラスでのストレージプールの使用を無効にしたり削除したりする必要があり<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>ます。Astra Trident では、新しいバックエンドを追加するたびに同様のプロセスが実行され、ストレージプールが既存のストレージクラスのストレージクラスを満たしているかどうかが確認され、除外済みとマークされているストレージが削除されます。</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">ボリュームの作成</block>
  <block id="668ccb4dd1c284f07a3062637c57d21a" category="paragraph">Trident がさらに、ストレージクラスとストレージプールの間の関連付けを使用して、ボリュームのプロビジョニング先を決定します。ボリュームを作成すると、最初にそのボリュームのストレージクラス用の一連のストレージプールが Trident から取得されます。 また、ボリュームにプロトコルを指定した場合、 Astra Trident は要求されたプロトコルを提供できないストレージプールを削除します（たとえば、 NetApp HCI / SolidFire バックエンドはファイルベースのボリュームを提供できませんが、 ONTAP NAS バックエンドはブロックベースのボリュームを提供できません）。Trident がこのセットの順序をランダム化し、ボリュームを均等に分散してから、各ストレージプールでボリュームを順番にプロビジョニングしようとします。成功した場合は正常に返され、プロセスで発生したエラーが記録されます。Astra Trident は、要求されたストレージクラスとプロトコルで使用可能なすべてのストレージプールで * プロビジョニングに失敗した場合にのみ、障害 * を返します。</block>
  <block id="4d5445eb6c70cdab8d3ad5e71367f42a" category="summary">Trident がドライバ用のボリュームスナップショットの作成をどのように処理するかについては、こちらをご覧ください。</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">ボリューム Snapshot</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">ボリュームSnapshotの作成方法について説明します</block>
  <block id="fdd92355bcecae670f43576c4c4951c5" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、、、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>ドライバの場合、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>各永続ボリューム（PV）はFlexVolにマッピングされます。その結果、ボリューム Snapshot はネットアップ Snapshot として作成されます。NetAppのスナップショット・テクノロジーは'競合するスナップショット・テクノロジーよりも安定性'拡張性'リカバリ性'パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">ドライバの場合<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、各永続ボリューム（PV）はFlexGroupにマッピングされます。その結果、ボリューム Snapshot は NetApp FlexGroup Snapshot として作成されます。NetAppのスナップショット・テクノロジーは'競合するスナップショット・テクノロジーよりも安定性'拡張性'リカバリ性'パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="f85752654c0e718ddc1911dc26c4bf0a" category="list-text">ドライバの場合<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、PVSは共有FlexVolに作成されたLUNにマッピングされます。PVS のボリューム Snapshot は、関連付けられた LUN の FlexClone を実行することで実現されます。ONTAP FlexCloneテクノロジを使用すると、大規模なデータセットのコピーをほぼ瞬時に作成できます。コピーと親でデータブロックが共有されるため、メタデータに必要な分しかストレージは消費されません。</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">ドライバの場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、各PVは、NetApp Elementソフトウェア/ NetApp HCIクラスタ上に作成されたLUNにマッピングされます。ボリューム Snapshot は、基盤となる LUN の Element Snapshot で表されます。これらの Snapshot はポイントインタイムコピーであり、消費するシステムリソースとスペースはごくわずかです。</block>
  <block id="34f731018ae783f70901b14b4950c3a7" category="list-text">ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバを使用する場合、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ONTAPスナップショットはFlexVolのポイントインタイムコピーであり、FlexVol自体のスペースを消費します。その結果、ボリューム内の書き込み可能なスペースが、 Snapshot の作成やスケジュール設定にかかる時間を短縮できます。この問題に対処する簡単な方法の 1 つは、 Kubernetes を使用してサイズを変更することでボリュームを拡張することです。もう 1 つの方法は、不要になった Snapshot を削除することです。Kubernetes で作成されたボリューム Snapshot を削除すると、関連付けられている ONTAP Snapshot が Astra Trident から削除されます。Kubernetes で作成されていない ONTAP スナップショットも削除できます。</block>
  <block id="4d6bd66a7857ea48a856f389fbea7d9d" category="paragraph">ネットアップの Trident では、ボリューム Snapshot を使用して PVS を新規作成できます。これらの Snapshot から PVS を作成するには、サポート対象の ONTAP および CVS バックエンドに対して FlexClone テクノロジを使用します。SnapshotからPVを作成する場合、元のボリュームはSnapshotの親ボリュームのFlexCloneになります。<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバは、Elementソフトウェアのボリュームクローンを使用してSnapshotからPVSを作成します。ここで、 Element Snapshot からクローンを作成します。</block>
  <block id="a330e835c41b0ff1dfc7e483e7e7f70e" category="summary">仮想プールは、Astra TridentのストレージバックエンドとKubernetesのストレージクラスの間に抽象化レイヤを提供します。ストレージクラスを作成することなく、管理者は各バックエンドの場所、パフォーマンス、保護などの側面を共通のバックエンドに依存しない方法で定義できます。 StorageClass は、目的の基準を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定する必要はありません。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="doc">仮想プール</block>
  <block id="9f77ac8822dd45ff19910e0170669eb7" category="paragraph">仮想プールは、Astra TridentのストレージバックエンドとKubernetesの間に抽象化レイヤを提供します<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。管理者は、必要な基準を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定することなく、バックエンドに依存しない共通の方法で、各バックエンドの場所、パフォーマンス、保護などの側面を定義でき<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">仮想プールについて説明します</block>
  <block id="f66146f5a5a305009d0129474f6fc10e" category="paragraph">ストレージ管理者は、任意のAstra TridentバックエンドにJSONまたはYAML定義ファイルで仮想プールを定義できます。</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">に、仮想プールの概念図を示します。</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">仮想プールリストの外部で指定されたすべての要素はバックエンドにグローバルであり、すべての仮想プールに適用されます。一方、各仮想プールは、 1 つまたは複数の要素を個別に指定できます（バックエンドグローバルな要素を上書きします）。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">仮想プールを定義する場合は、バックエンド定義内の既存の仮想プールの順序を変更しないでください。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">既存の仮想プールの属性を変更しないことをお勧めします。変更を行うには、新しい仮想プールを定義する必要があります。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">ほとんどの項目はバックエンド固有の用語で指定されます。重要なことに、アスペクト値はバックエンドのドライバの外部に公開されず、での照合に使用できません<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。代わりに、管理者は仮想プールごとに1つ以上のラベルを定義します。各ラベルはキー：値のペアで、ラベルは一意のバックエンド間で共通です。側面と同様に、ラベルはプールごとに指定することも、バックエンドに対してグローバルに指定することもできます。名前と値があらかじめ定義されている側面とは異なり、管理者は必要に応じてラベルキーと値を定義する完全な裁量を持っています。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">は<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>、セレクタパラメータ内のラベルを参照して、使用する仮想プールを識別します。仮想プールセレクタでは、次の演算子がサポートされます。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">運用者</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">例</block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">プールのラベル値は次のとおりです。</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell"><block ref="43ec3e5dee6e706af7766fffea512721" prefix="" category="inline-code"></block></block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">パフォーマンス = プレミアム</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">一致</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell"><block ref="de0219f9333d57ea89a9ba235df098ba" prefix="" category="inline-code"></block></block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">パフォーマンス！ = 非常に優れています</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">一致しません</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell"><block ref="13b5bfe96f3e2fe411c9f66f4a582adf" prefix="" category="inline-code"></block></block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">場所（東部、西部）</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">値のセットに含まれています</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell"><block ref="935f754ecc68ca688f61c154c404ed06" prefix="" category="inline-code"></block></block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">パフォーマンス記名（シルバー、ブロンズ）</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">値のセットに含まれていません</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">任意の値で存在します</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">存在しません</block>
  <block id="ae8e28c37a725c4bb4a74663ac8615ea" category="summary">Trident がボリュームアクセスグループをどのように使用しているかをご確認ください。</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">ボリュームアクセスグループ</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">ボリュームアクセスグループ</block>
  <block id="649833006ff7b612c3d988173b6417d5" category="paragraph">Astra Tridentの使用方法の詳細をご確認<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>ください。</block>
  <block id="e93c18adf30bc91499234d0ec7863499" category="admonition">CHAP を使用する場合は、このセクションを無視してください。 CHAP では、管理を簡易化し、以下に説明する拡張の制限を回避することが推奨されます。また、 CSI モードで Astra Trident を使用している場合は、このセクションを無視できます。Astra Trident は、強化された CSI プロビジョニングツールとしてインストールされた場合、 CHAP を使用します。</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">ボリュームアクセスグループについて学習する</block>
  <block id="3c56a859b413098b6bf2c54aff32a842" category="paragraph">Astra Trident は、ボリュームアクセスグループを使用して、プロビジョニングするボリュームへのアクセスを制御できるCHAPが無効な場合は、構成で1つ以上のアクセスグループIDを指定しないかぎり、というアクセスグループが検索され<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fcf85cd17f22ed47dfe9169453e44dc1" category="paragraph">Astra Tridentは、設定されたアクセスグループに新しいボリュームを関連付けますが、アクセスグループ自体の作成や管理は行いません。アクセスグループには、ストレージバックエンドをAstra Tridentに追加する前に存在している必要があります。また、そのバックエンドでプロビジョニングされたボリュームをマウントできる可能性があるKubernetesクラスタ内のすべてのノードのiSCSI IQNが含まれている必要があります。ほとんどのインストール環境では、クラスタ内のすべてのワーカーノードがこれに含まれます。</block>
  <block id="054e161b9c33938d4cac2bab4e4d46b8" category="paragraph">Kubernetes クラスタに 64 個を超えるノードがある場合は、複数のアクセスグループを使用する必要があります。各アクセスグループには最大 64 個の IQN を含めることができ、各ボリュームは 4 つのアクセスグループに属することができます。最大 4 つのアクセスグループを設定すると、クラスタ内の任意のノードから最大 256 ノードのサイズのすべてのボリュームにアクセスできるようになります。ボリュームアクセスグループの最新の制限については、を参照してください<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">デフォルトのアクセスグループを使用しているアクセスグループから他のアクセスグループを使用しているアクセスグループに設定を変更する場合<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>は、リストにアクセスグループのIDを含め<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">トラブルシューティングに役立つログを収集できます。ログの収集方法は、 Docker プラグインの実行方法によって異なります。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">ログを収集します</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">トラブルシューティング用にログを収集する</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">手順</block>
  <block id="83f4d02d2dd31f09291e098bf4ae502b" category="list-text">推奨される管理プラグイン方式（コマンドを使用）でAstra Tridentを実行している場合は<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block>、次のように確認します。</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">標準的なロギングレベルでは、ほとんどの問題を診断できます。十分でない場合は、デバッグロギングを有効にすることができます。</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">デバッグロギングをイネーブルにするには、デバッグロギングをイネーブルにしてプラグインをインストールします。</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">または、プラグインがすでにインストールされている場合にデバッグログを有効にします。</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">ホストでバイナリ自体を実行している場合、ログはホストのディレクトリにあり<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block>ます。デバッグログを有効にするには、プラグインを実行するタイミングを指定します<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block>。</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般的なトラブルシューティングのヒント</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新しいユーザーが実行する最も一般的な問題は、プラグインの初期化を妨げる構成ミスです。この場合、プラグインをインストールまたは有効にしようとすると、次のようなメッセージが表示されることがあります。</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph"><block ref="e10704aaf501d617a85e30884eb05c0b" prefix="" category="inline-code"></block></block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">これは、プラグインの起動に失敗したことを意味します。幸い、このプラグインには、発生する可能性の高い問題のほとんどを診断するのに役立つ包括的なログ機能が組み込まれています。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">コンテナへのPVのマウントに問題がある場合は、がインストールされて実行されていることを確認して<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>ください。ホストOSに必要なパッケージマネージャを使用して、が実行されているかどうかを確認します<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>。rpcbindサービスのステータスを確認するには、または同等のを実行し<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ee4c63201b5c5c6c9da139c0a39bcb7b" category="summary">Docker向けAstra Tridentは、NetAppストレージプラットフォーム向けのDockerエコシステムと直接統合できます。ストレージプラットフォームから Docker ホストまで、ストレージリソースのプロビジョニングと管理をサポートします。また、将来プラットフォームを追加するためのフレームワークもサポートします。</block>
  <block id="486632f7d2196e772b742db4a4a0ad7c" category="doc">Astra Trident を導入</block>
  <block id="d2eb05d1990246a079aeb2f56e3a4237" category="paragraph">Astra Trident の複数のインスタンスを同じホストで同時に実行できます。これにより、複数のストレージシステムとストレージタイプへの同時接続が可能になり、 Docker ボリュームに使用するストレージをカスタマイズできます。</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">必要なもの</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">導入の前提条件</block>
  <block id="756efcb3a97cdd37e8b34de3913c3d8f" category="paragraph">を参照してください<block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。前提条件を満たしていることを確認したら、 Astra Trident を導入する準備ができました。</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker Managed Plugin メソッド（バージョン 1.13 / 17.03 以降）</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">開始する前に</block>
  <block id="070ecb002d71e4e7618a4b46a5ba690f" category="admonition">従来のデーモン方式で Astra Trident 以前の Docker 1.13 / 17.03 を使用していた場合は、マネージドプラグイン方式を使用する前に Astra Trident プロセスを停止し、 Docker デーモンを再起動してください。</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">実行中のインスタンスをすべて停止します。</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">Docker を再起動します。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">Docker Engine 17.03 （新しい 1.13 ）以降がインストールされていることを確認します。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">インストール環境をインストールまたは更新します</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">バージョンが古い場合は、<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>。</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">構成ファイルを作成し、次のオプションを指定します。</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text"><block ref="2245023265ae4cf87d02c8b6ba991139" prefix="" category="inline-code"></block>:デフォルトのファイル名はです<block ref="06b2d3b23dce96e1619d2b53d6c947ec" prefix=" " category="inline-code"></block>が、ファイル名とともにオプションを指定することで、任意の名前を使用できます<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>。構成ファイルは、ホストシステムのディレクトリに配置する必要があります<block ref="82a4d1e835ca8dc19ea6a437e4af9493" prefix=" " category="inline-code"></block>。</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text"><block ref="6ab0f208312cdf3ab62b4b1061d4f7c0" prefix="" category="inline-code"></block>：ログレベル<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="(" category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block><block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block><block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>を指定します）。デフォルトはです<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block>:デバッグロギングを有効にするかどうかを指定します。デフォルトは false です。true の場合、ログレベルを上書きします。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">構成ファイルの場所を作成します。</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">構成ファイルを作成します</block>
  <block id="0d41f8565b8b74a59fc029ccf2becd83" category="list-text">マネージドプラグインシステムを使用して Astra Trident を起動を、使用しているプラグインのバージョン（xxx.xx.x）に置き換えます<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block>。</block>
  <block id="a4574d19d34a14aa0accde782f35318b" category="list-text">Astra Trident を使用して、構成したシステムのストレージを使用しましょう。</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">「 firstVolume 」という名前のボリュームを作成します。</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">コンテナの開始時にデフォルトのボリュームを作成します。</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">ボリューム「 firstVolume 」を削除します。</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">従来の方法（バージョン 1.12 以前）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">バージョン 1.10 以降の Docker がインストールされていることを確認します。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">使用しているバージョンが最新でない場合は、インストールを更新します。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">ご使用のディストリビューションの指示に従ってください</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">または、<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block></block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">NFS または iSCSI がシステムに対して設定されていることを確認します。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">NetApp Docker Volume Plugin をインストールして設定します。</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">アプリケーションをダウンロードして開梱します。</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">ビンパス内の場所に移動します。</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">バイナリを配置して構成ファイルを作成したら、目的の構成ファイルを使用してTridentデーモンを起動します。</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">指定されていない場合、ボリュームドライバのデフォルト名は「NetApp」です。</block>
  <block id="9ad37c975c341297c49c69353516a727" category="paragraph">デーモンが開始されたら、 Docker CLI インターフェイスを使用してボリュームを作成および管理できます</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">ボリュームを作成します。</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">コンテナの開始時に Docker ボリュームをプロビジョニング：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">Docker ボリュームを削除します。</block>
  <block id="e63e2a2b9c9184e703ff8d93bb92508b" category="section-title">システム起動時に Astra Trident を起動</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">systemdベースのシステム用のサンプルユニットファイルは、<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block>Gitリポジトリにあります。RHELでファイルを使用するには、次の手順を実行します。</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">ファイルを正しい場所にコピーします。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">複数のインスタンスを実行している場合は、ユニットファイルに一意の名前を使用してください。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">ファイルを編集し、概要（ 2 行目）を変更してドライバ名と構成ファイルのパス（ 9 行目）を環境に合わせます。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">変更を取り込むためにシステムをリロードします。</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">サービスを有効にします。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">この名前は、ディレクトリ内のファイルの名前によって異なります<block ref="dce2a9642217836d54f614dfd625b753" prefix=" " category="inline-code"></block>。</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">サービスを開始します。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">ステータスを確認します。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">ユニット・ファイルを変更するたびに'コマンドを実行して<block ref="269b117015efb12595eebf74692e5cbc" prefix=" " category="inline-code"></block>変更を認識します</block>
  <block id="c2bccf4258de19dd1e03e25f66d80f98" category="summary">Astra Trident と Docker を使用する際の既知の問題に関する情報を入手できます。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">既知の問題および制限事項</block>
  <block id="ba6bb78ba304725781af9e773f1957e2" category="paragraph">Astra Trident と Docker を使用する際の既知の問題と制限事項について説明しています。</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">Trident Docker Volume Plugin を旧バージョンから 20.10 以降にアップグレードすると、該当するファイルエラーまたはディレクトリエラーなしでアップグレードが失敗します。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">回避策</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">プラグインを無効にします。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">プラグインを削除します。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">追加のパラメータを指定してプラグインを再インストールし<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">ボリューム名は 2 文字以上にする必要があります。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">バグ 25773 を参照</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">これは Docker クライアントの制限事項です。クライアントは、1文字の名前をWindowsパスと解釈します。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>です。</block>
  <block id="3c4f022a33d4aace82350c9966fa238b" category="section-title">Docker Swarm には、 Astra Trident がストレージやドライバのあらゆる組み合わせでサポートしないようにする一定の動作があります。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm は現在、ボリューム ID ではなくボリューム名を一意のボリューム識別子として使用します。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">ボリューム要求は、 Swarm クラスタ内の各ノードに同時に送信されます。</block>
  <block id="521e51548c3f7c96e72d432edf4af42d" category="list-text">ボリュームプラグイン（ Astra Trident を含む）は、 Swarm クラスタ内の各ノードで個別に実行する必要があります。ONTAPの動作方法とドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバの機能により、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>これらの制限内で動作できるのはこれらのドライバだけです。</block>
  <block id="69418caf7b92279073f695612c68de99" category="paragraph">その他のドライバには、競合状態などの問題があります。このような問題が発生すると、ボリュームを同じ名前で異なる ID にする機能が Element に備わっているため、「勝者」を明確にせずに 1 回の要求で大量のボリュームを作成できるようになります。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">ネットアップは Docker チームにフィードバックを提供しましたが、今後の変更の兆候はありません。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">FlexGroup をプロビジョニングする場合、プロビジョニングする FlexGroup と共通のアグリゲートが 2 つ目の FlexGroup に 1 つ以上あると、 ONTAP は 2 つ目の FlexGroup をプロビジョニングしません。</block>
  <block id="c412f3b9b270250331aa1ef4102ef8c1" category="summary">複数のストレージ構成を同時に使用する場合は、 Astra Trident の複数のインスタンスが必要です。複数のインスタンスにキーを渡すには、コンテナ化されたプラグインで --alias オプションを使用して、ホストで Trident をインスタンス化するときに --volume-driver オプションを使用して、さまざまな名前を指定します。</block>
  <block id="4f07a71d2e33da91dec1396b7a204a40" category="doc">複数の Astra Trident インスタンスを管理</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">複数のストレージ構成を同時に使用する必要がある場合は、 Trident の複数のインスタンスが必要です。複数のインスタンスには、コンテナ化されたプラグインのオプションを使用して異なる名前を付けるか、<block ref="3462d72f00482b2e9f6fcfcdf665289b" prefix=" " category="inline-code"></block>ホスト上でTridentをインスタンス化するときにオプションを使用して異なる名前を付けることが重要です<block ref="14742efbfd1451d64cd78e6664734234" prefix=" " category="inline-code"></block>。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker Managed Plugin （バージョン 1.13 / 17.03 以降）の手順</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">エイリアスと構成ファイルを指定して、最初のインスタンスを起動します。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">別のエイリアスと構成ファイルを指定して、 2 番目のインスタンスを起動します。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">ドライバ名としてエイリアスを指定するボリュームを作成します。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">たとえば、 gold ボリュームの場合：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">たとえば、 Silver ボリュームの場合：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">従来の（バージョン 1.12 以前）の場合の手順</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">カスタムドライバ ID を使用して NFS 設定でプラグインを起動します。</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">カスタムドライバ ID を使用して、 iSCSI 構成でプラグインを起動します。</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">ドライバインスタンスごとに Docker ボリュームをプロビジョニングします。</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">たとえば、 NFS の場合：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">たとえば、 iSCSI の場合：</block>
  <block id="23c9c608b55b9071002aeddfd6c5563c" category="summary">Trident を導入するには、必要なプロトコルをホストにインストールして設定しておく必要があります。</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">導入の前提条件</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">要件を確認します</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">要件</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">導入環境がすべてのを満たしていることを確認します<block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">インストールまたは更新します</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">サポートされているバージョンの Docker がインストールされていることを確認します。Dockerのバージョンが古い場合は、を参照してください<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>。</block>
  <block id="fdb5bcd69c8617adc24a528d074b060b" category="list-text">プロトコルの前提条件がホストにインストールおよび設定されていることを確認します。</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="section-title">NFSツール</block>
  <block id="dc3c80fe7e62048ec7f179f78dd1d918" category="paragraph">オペレーティングシステム用のコマンドを使用して、NFSツールをインストールします。</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="open-title">RHEL 8以降</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="open-title">Ubuntu</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">NFSツールをインストールしたあとにワーカーノードをリブートして、コンテナにボリュームを接続する際の障害を回避します。</block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="section-title">iSCSIツール</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用しているオペレーティングシステム用のコマンドを使用して、iSCSIツールをインストールします。</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">次のシステムパッケージをインストールします。</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">iscsi-initiator-utils のバージョンが 6.2.0.874-2.el7 以降であることを確認します。</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">スキャンを手動に設定：</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">マルチパスを有効化：</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">の下に<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>含むを<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block>確認します<block ref="7901fe536dc82e3cb12052c3fac7fef6" prefix=" " category="inline-code"></block>。</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">および<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block>が実行されていることを確認し<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">有効にして開始<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>：</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">open-iscsi バージョンが 2.0.874-5ubuntu2.10 以降（ bionic の場合）または 2.0.874-7.1ubuntu6.1 以降（ Focal の場合）であることを確認します。</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">とが<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block>有効で実行されていることを確認し<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b00fd28ef92c5c525d66d12aa0d5e4dd" category="section-title">NVMeツール</block>
  <block id="cfd4e84c111973cbf00e30acfd3af3b1" category="paragraph">オペレーティングシステムに対応したコマンドを使用してNVMeツールをインストールします。</block>
  <block id="c5c04ab13d0b9dcc3187f7e5cdfb7a00" category="list-text">NVMeにはRHEL 9以降が必要です。</block>
  <block id="f961ae7e5a407c3c3df6f5facf3c1ef3" category="list-text">Kubernetesノードのカーネルバージョンが古すぎる場合や、使用しているカーネルバージョンに対応するNVMeパッケージがない場合は、ノードのカーネルバージョンをNVMeパッケージで更新しなければならないことがあります。</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="open-title">RHEL 9</block>
  <block id="2358ca3eef46b0e25466e80dbea7ea4b" category="summary">Astra Trident 構成で使用できる設定オプションを確認してください。</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">ストレージ構成オプション</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">グローバル構成オプション</block>
  <block id="b22d82aea9557ba6aa7b915d40309d9b" category="paragraph">以下の設定オプションは、使用するストレージプラットフォームに関係なく、すべての Astra Trident 構成に適用されます。</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">オプション</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">説明</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell"><block ref="2af72f100c356273d46284f6fd1dfc08" prefix="" category="inline-code"></block></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">構成ファイルのバージョン番号</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell"><block ref="d45aebe724c55b101f2ae8924ba3d486" prefix="" category="inline-code"></block></block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">ストレージドライバの名前</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">ボリューム名のオプションのプレフィックス。デフォルト：<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block></block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell"><block ref="e083f2ed1275af0ce4336a068ebee72a" prefix="" category="inline-code"></block></block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">ボリュームサイズに関するオプションの制限。デフォルト：""（強制なし）</block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="3eed2a7dac1f2329f3a9574a68e5e1c4" category="admonition">Elementバックエンドには（デフォルトを含めて）使用しない<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>でください。デフォルトでは、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバはこの設定を無視し、プレフィックスは使用しません。Docker ボリュームマッピングには特定の tenantID を使用するか、 Docker バージョン、ドライバ情報、名前の munging が使用されている可能性がある場合には Docker から取得した属性データを使用することを推奨します。</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。この<block ref="f7bd60b75b29d79b660a2859395c1a24" prefix=" " category="inline-code"></block>オプションは、すべてのコントローラタイプで使用できます。デフォルトのボリュームサイズの設定方法の例については、 ONTAP の設定に関するセクションを参照してください。</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell"><block ref="f7bd60b75b29d79b660a2859395c1a24" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新しいボリュームのオプションのデフォルトサイズ。デフォルト：<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">ONTAP構成</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">ONTAP を使用する場合は、上記のグローバル構成値に加えて、次のトップレベルオプションを使用できます。</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block></block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">ONTAP 管理 LIF の IP アドレス。Fully Qualified Domain Name （ FQDN ；完全修飾ドメイン名）を指定できます。</block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell"><block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix="" category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">プロトコル LIF の IP アドレス。</block>
  <block id="8d9cb98e50e02ba3850a7ebcaeccc076" category="paragraph">* ONTAP NASドライバ*：を指定することをお勧めします<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。</block>
  <block id="d26c127ab3dc860f4758d7b6a9b70413" category="paragraph">* ONTAP SANドライバ*: iSCSIには指定しないでくださいAstra Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCI LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。</block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell"><block ref="924ff83ff1e671bacfb07ff12b845703" prefix="" category="inline-code"></block></block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">使用する Storage Virtual Machine （管理 LIF がクラスタ LIF である場合は必須）</block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell"><block ref="14c4b06b824ec593239362517f538b29" prefix="" category="inline-code"></block></block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">ストレージデバイスに接続するユーザ名</block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell"><block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix="" category="inline-code"></block></block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">ストレージ・デバイスに接続するためのパスワード</block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell"><block ref="39adbeb6bc21a3133e5fdcf1ec05d1a0" prefix="" category="inline-code"></block></block>
  <block id="ac53191a99c328660eafa4696375dbfb" category="paragraph">プロビジョニング用のアグリゲート（オプション。設定する場合は SVM に割り当てる必要があります）。ドライバの場合<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、このオプションは無視されます。SVM に割り当てられたすべてのアグリゲートを使用して FlexGroup ボリュームがプロビジョニングされます。</block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell"><block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix="" category="inline-code"></block></block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">オプション。使用率がこの割合を超えている場合は、プロビジョニングを失敗させます</block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell"><block ref="e477739f39dbd2f1e1c5268912135e92" prefix="" category="inline-code"></block></block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">ここでは、 NFS ホストの設定情報を参照してください</block>
  <block id="0a19ca3d1db7e5bc24b58f73b91c3f49" category="paragraph">NFS マウントオプションのきめ細かな制御。デフォルトは「 -o nfsvers=3 」です。*ドライバと<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバでのみ使用でき<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます*。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>です。</block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell"><block ref="9d8592d88bbb76c68c01d830f091dacc" prefix="" category="inline-code"></block></block>
  <block id="8e523fab738ccb6504fc60551cbaefdf" category="paragraph">Astra Tridentでは、ノードごとにASを<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>作成、管理し<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">この値は変更したり省略したりすることはできません。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*ドライバーでのみ使用可能<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>*。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="74d08e13aea757b8172499f067668443" category="paragraph">要求可能な最大ボリュームサイズ。</block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell"><block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix="" category="inline-code"></block></block>
  <block id="99d7b353753f3b80388b5ab7e69a4a28" category="paragraph">FlexVol あたりの最大 qtree 数は [50 、 300] の範囲で指定する必要があります。デフォルトは 200 です。</block>
  <block id="3e00ac0f228180d0a5a3756df9a5bca3" category="paragraph">*ドライバの場合<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、このオプションを使用すると、FlexVolあたりの最大qtree数*をカスタマイズできます。</block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="89149296a9e0c36d8eb5e9c82e71155b" category="cell"><block ref="5b08b7c4c720db1d75c8c76a920fd99a" prefix="" category="inline-code"></block></block>
  <block id="9bd3fad3543f75292cf79cccaa5295a7" category="cell">*ドライバでのみサポートされてい<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。*iSCSIまたは<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>NVMe/TCPの選択に使用し<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>ます。</block>
  <block id="053b2e680c58724dc4bdd83223136c48" category="cell"><block ref="39eea648dab96b0ee6022dabb38bc420" prefix="" category="inline-code"></block>空白の場合</block>
  <block id="f14a3ef36727dfbbea91c1d6b3fdbede" category="cell"><block ref="c8f83e727d4a4255a6485c24776e86bb" prefix="" category="inline-code"></block></block>
  <block id="33fefa32caf35cd4691465f3592a0539" category="cell">*<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバでのみサポートされています。*ONTAP ONTAP NASエコノミードライバおよびONTAP SANエコノミードライバでFlexVolサイズを制限します。</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell"><block ref="cae77b049bf504af7afc43b99b6c5213" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">スペースリザベーションモード（<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>シンプロビジョニング）または<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>（シック）</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="paragraph"><block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix="" category="inline-code"></block></block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell"><block ref="0a236e7685e50a59df980d0a30929d6c" prefix="" category="inline-code"></block></block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">使用するSnapshotポリシー。デフォルトは<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell"><block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix="" category="inline-code"></block></block>
  <block id="0b89124cc899d4e75924c83a9eaf86ce" category="paragraph">Snapshotリザーブの割合。デフォルトはONTAP のデフォルトをそのまま使用する場合はです</block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell"><block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">作成時に親からクローンをスプリットします。デフォルトは<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="249091efa412cf5e332461c484b979d0" category="paragraph"><block ref="68934a3e9455fa72420237eb05902327" prefix="" category="inline-code"></block></block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell"><block ref="5bdf74912a51c34815f11e9a3d20b609" prefix="" category="inline-code"></block></block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトはです。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="1811ba2842625864e8f6233e19051566" category="paragraph">NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに有効になります。</block>
  <block id="cd6eb5bfdf9299ea3a76e2eb822c8293" category="paragraph">詳細については、を参照してください<block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">正しい</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell"><block ref="c005e78d4bd808038335c32dd84cf7da" prefix="" category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">プロビジョニングされたNFSボリュームのNASオプション。デフォルトは<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell"><block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix="" category="inline-code"></block></block>
  <block id="b7655e29a015ee3721339f8462d5d2b6" category="paragraph">ディレクトリにアクセスするためのNASオプション<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>。デフォルトは<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="paragraph"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block></block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell"><block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFSエクスポートポリシーで使用するNASオプション。デフォルトは<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell"><block ref="f7f695c763ad0e0ba03c2ff9cbcfcb3d" prefix="" category="inline-code"></block></block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">プロビジョニングされたNFSボリュームにアクセスするためのNASオプション。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>と<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>セキュリティ形式デフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell"><block ref="23030324c640b4b47b8381c02456649a" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">ファイルシステムタイプを選択するためのSANオプション。デフォルトは<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell"><block ref="a3e48f0594dda6037d37d52d343489b0" prefix="" category="inline-code"></block></block>
  <block id="6cd4bb7e4d59531066c198c531ea267a" category="paragraph">使用する階層化ポリシー。デフォルトは<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>。<block ref="8805d416ce540c5f2df34af5b18d742b" prefix=" " category="inline-code"></block>ONTAP 9 .5より前のSVM-DR構成の場合</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">スケーリングオプション</block>
  <block id="493a6606c4789fad3c7317b99cb563d0" category="paragraph">ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバを使用すると、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>DockerボリュームごとにONTAP FlexVolが作成されます。ONTAP では、クラスタノードあたり最大 1 、 000 個の FlexVol がサポートされます。クラスタの最大 FlexVol 数は 12 、 000 です。Dockerボリュームの要件がこの制限内に収まる場合は、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>FlexVolで提供される追加機能（Dockerボリューム単位のSnapshotやクローニングなど）を考慮して、ドライバがNASソリューションとして推奨されます。</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">FlexVolの制限で対応できない数のDockerボリュームが必要な場合は、または<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバを選択します<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。</block>
  <block id="50710f3a4715e3f874848944b6b54e28" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、自動的に管理されるFlexVolのプール内にONTAP qtreeとしてDockerボリュームを作成します。qtree の拡張性は、クラスタノードあたり最大 10 、 000 、クラスタあたり最大 2 、 40 、 000 で、一部の機能を犠牲にすることで大幅に向上しています。この<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、Dockerボリューム単位のSnapshotやクローニングをサポートしていません。</block>
  <block id="0c8b91c6c2ba9c892f3eea2cd9c86cd1" category="admonition">この<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは現在、Docker Swarmではサポートされていません。これは、Swarmが複数のノード間でボリューム作成をオーケストレーションしないためです。</block>
  <block id="5849dbe631db5b1e1b365f9f2f84ff60" category="paragraph"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバは、自動的に管理されるFlexVolの共有プール内にONTAP LUNとしてDockerボリュームを作成します。この方法により、各 FlexVol が 1 つの LUN に制限されることはなく、 SAN ワークロードのスケーラビリティが向上します。ストレージアレイに応じて、 ONTAP はクラスタあたり最大 16384 個の LUN をサポートします。このドライバは、ボリュームが下位の LUN であるため、 Docker ボリューム単位の Snapshot とクローニングをサポートします。</block>
  <block id="65e92c8f7fa9750b795cc1046328cf06" category="paragraph">ドライバを選択する<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>と、数十億個のファイルを含むペタバイト規模まで拡張可能な単一ボリュームへの並列処理を強化できます。FlexGroup のユースケースとしては、 AI / ML / DL 、ビッグデータと分析、ソフトウェアのビルド、ストリーミング、ファイルリポジトリなどが考えられます。Trident は、 FlexGroup ボリュームのプロビジョニング時に SVM に割り当てられたすべてのアグリゲートを使用します。Trident での FlexGroup のサポートでは、次の点も考慮する必要があります。</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">ONTAP バージョン 9.2 以降が必要です。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">本ドキュメントの執筆時点では、 FlexGroup は NFS v3 のみをサポートしています。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">SVM で 64 ビットの NFSv3 ID を有効にすることを推奨します。</block>
  <block id="20a385c1dc7ef65425669840055b5330" category="list-text">推奨されるFlexGroupメンバー/ボリュームの最小サイズは100GiBです。</block>
  <block id="db78b2a7acf43fa03cd95fb3a77c82f9" category="list-text">FlexGroup Volume ではクローニングはサポートされていません。</block>
  <block id="f5ac1e3c252855373c7f660dbd89699d" category="inline-link">NetApp FlexGroup Volume Best Practices and Implementation Guide</block>
  <block id="df1a7e79743809601db1d20d6a33ae52" category="paragraph">FlexGroupとFlexGroupに適したワークロードについては、を参照してください<block ref="b8a99695d7979127a1cab07b42e22743" category="inline-link-rx"></block>。</block>
  <block id="b30b6b60171d85877ea91897bdd6faed" category="paragraph">同じ環境で高度な機能と大規模な拡張を実現するには、を使用してDocker Volume Pluginの複数のインスタンスを実行し、を使用して別の<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>インスタンスを実行し<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">ONTAP 構成ファイルの例</block>
  <block id="9dbc2be9eae595ee555b36e2d5464473" category="example-title">&lt;code&gt; ONTAP NAS &lt;/code&gt;ドライバのNFSの例</block>
  <block id="e5fdbcee018644d221f382b1d5b8f41a" category="example-title">&lt;code&gt; ONTAP - NAS - FlexGroup &lt;/code&gt;ドライバでのNFSの例</block>
  <block id="80640d18e28e0ebe180f21ae5d3a563f" category="example-title">&lt;code&gt; ONTAP - nas-economy &lt;/code&gt;ドライバでのNFSの例</block>
  <block id="cf156eb50f8332673b89dc95a2cbbd82" category="example-title">&lt;code&gt; ONTAP SAN &lt;/code&gt;ドライバのiSCSIの例</block>
  <block id="d5a757f0fabce17fc0eb2e1d3d308b05" category="example-title">&lt;code&gt; ONTAP SANエコノミー&lt;/code&gt;ドライバでのNFSの例</block>
  <block id="fc3afabf3465382a1844a56a3fd55417" category="example-title">&lt;code&gt; ONTAP SAN &lt;/code&gt;ドライバのNVMe/TCPの例</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Element ソフトウェアの設定</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">Element ソフトウェア（ NetApp HCI / SolidFire ）を使用する場合は、グローバルな設定値のほかに、以下のオプションも使用できます。</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell"><block ref="2a6ba72e93aa7fa676d07973ed2716bb" prefix="" category="inline-code"></block></block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">\https：//&lt;login&gt;：&lt;password&gt;@&lt;mvip&gt;/ JSON -RPC /&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell"><block ref="dcda39e13b00bf6bd40a507e1833a6f5" prefix="" category="inline-code"></block></block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI の IP アドレスとポート</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7 ： 3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell"><block ref="2e9183e3f034dbf1322a3385f151456e" prefix="" category="inline-code"></block></block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">使用する SolidFire テナント（見つからない場合に作成）</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell"><block ref="b3a3a10e13e242e0f148e510ddf12402" prefix="" category="inline-code"></block></block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">iSCSI トラフィックをデフォルト以外のインターフェイスに制限する場合は、インターフェイスを指定します</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell"><block ref="f2d346b1bb7c1c85ab6f7f21e3666b9f" prefix="" category="inline-code"></block></block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">QoS の仕様</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">以下の例を参照してください</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell"><block ref="8630b9e1983d8c4672fc7b4a8770c637" prefix="" category="inline-code"></block></block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">アップグレードされた Trident インストールのプレフィックス。1.3.2より前のバージョンのTridentを使用していて、既存のボリュームでアップグレードを実行した場合は、volume-nameメソッドでマッピングされた古いボリュームにアクセスするためにこの値を設定する必要があります。</block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">この<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバはDocker Swarmをサポートしていません。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">Element ソフトウェア構成ファイルの例</block>
  <block id="27dce2b92c5c5b89e353888e6cb24dea" category="summary">使用中のボリュームに影響を与えることなく、 Astra Trident for Docker を安全にアップグレードできます。アップグレードプロセスでは、<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>プラグインへのコマンドが正常に実行されず、プラグインが再度実行されるまでアプリケーションはボリュームをマウントできません。ほとんどの場合、これは秒の問題です。</block>
  <block id="0350c5473efd300324aaaadeecc676d2" category="doc">Astra Trident をアップグレードまたはアンインストールする</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">アップグレード</block>
  <block id="5a1345d94751fc14bedf8f6f5e77a0ff" category="paragraph">Astra Trident for Docker をアップグレードするには、次の手順を実行します。</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">既存のボリュームを表示します。</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">プラグインを無効にします。</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">プラグインをアップグレードします。</block>
  <block id="b2449107a206e37587b47513f76a7b27" category="admonition">nDVP に代わる、 Astra Trident の 18.01 リリース。イメージからイメージに<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block>直接アップグレードする必要があり<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block>ます。</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">プラグインを有効にします。</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">プラグインが有効になっていることを確認します。</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">ボリュームが表示されることを確認します。</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">既知の問題</block>
  <block id="b387b3bf0ded1eecceae845b6da82964" category="admonition">古いバージョンの Astra Trident （ 20.10 より前）から Astra Trident 20.10 以降にアップグレードすると、エラーが発生する場合があります。詳細については、を参照してください <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>。エラーが発生した場合は、まずプラグインを無効にしてからプラグインを削除し、追加のconfigパラメータを渡して必要なバージョンのAstra Tridentをインストールします。<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">アンインストール</block>
  <block id="7578be09dc225364649898a30619a336" category="paragraph">Astra Trident for Docker をアンインストールするには、次の手順を実行します。</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">プラグインで作成されたボリュームをすべて削除します。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">プラグインを削除します。</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">ストレージドライバにはそれぞれ異なるオプションがあり、ボリュームの作成時に指定することで結果をカスタマイズできます。構成済みのストレージシステムに適用されるオプションについては、以下を参照してください。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">ドライバ固有のボリュームオプション</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">ボリューム作成処理では、これらのオプションを簡単に使用できます。CLI処理中にoperatorを使用してオプションと値を指定します<block ref="b2ed43620b7fff2689035f1e99c24ded" prefix=" " category="inline-code"></block>。これらは、 JSON 構成ファイルの同等の値よりも優先されます。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">ONTAP ボリュームのオプション</block>
  <block id="16dc9caa069072a49db7ea7c81a7cf66" category="paragraph">NFS と iSCSI のどちらの場合も、 volume create オプションには次のオプションがあります。</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">ボリュームのサイズ。デフォルトは 1GiB です。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">ボリュームをシンプロビジョニングまたはシックプロビジョニングします。デフォルトはシンです。有効な値は、<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>（thin provisioned）と<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>（thick provisioned）です。</block>
  <block id="91853d7e2338a1395280185fc93d4650" category="paragraph">Snapshot ポリシーが目的の値に設定されます。デフォルトはで、<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>ボリュームのSnapshotは自動的に作成されません。ストレージ管理者によって変更されていない限り、「 default 」という名前のポリシーがすべての ONTAP システムに存在し、 6 個の時間単位 Snapshot 、 2 個の日単位 Snapshot 、および 2 個の週単位 Snapshot を作成して保持します。ボリューム内の任意のディレクトリを参照することで、Snapshotに保存されているデータをリカバリでき<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">これにより、 Snapshot リザーブの割合が希望する値に設定されます。デフォルト値は no で、 Snapshot ポリシーを選択した場合は ONTAP によって snapshotReserve が選択されます（通常は 5% ）。 Snapshot ポリシーがない場合は 0% が選択されます。構成ファイルのすべての ONTAP バックエンドに対して snapshotReserve のデフォルト値を設定できます。また、この値は、 ONTAP-NAS-エコノミー を除くすべての ONTAP バックエンドでボリューム作成オプションとして使用できます。</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">ボリュームをクローニングすると、そのクローンが原因 ONTAP によって親から即座にスプリットされます。デフォルトはです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。クローンボリュームのクローニングは、作成直後に親からクローンをスプリットする方法を推奨します。これは、ストレージ効率化の効果がまったくないためです。たとえば、空のデータベースをクローニングしても時間は大幅に短縮されますが、ストレージはほとんど削減されません。そのため、クローンはすぐにスプリットすることを推奨します。</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトはです。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">ボリュームに使用する階層化ポリシーを設定します。これにより、アクセス頻度の低いコールドデータをクラウド階層に移動するかどうかが決まります。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">以下は、 NFS * のみ * 用の追加オプションです。</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">これにより、ボリューム自体の権限セットを制御できます。デフォルトでは、権限はまたは番号0755に設定され<block ref="3bea04230b923e6ce984667e43456485" prefix=" " category="inline-code"></block>、<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block>所有者になります。テキスト形式または数値形式のどちらかを使用できます。</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">このをに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>ボリュームにアクセスするクライアントからディレクトリが表示されます。デフォルト値はで<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>、ディレクトリの表示はデフォルトで無効になっています。<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>公式のMySQLイメージなど、一部のイメージは、ディレクトリが表示されているときに想定どおりに機能しません<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>。</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">ボリュームで使用するエクスポートポリシーを設定します。デフォルトはです<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block>。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">ボリュームへのアクセスに使用するセキュリティ形式を設定します。デフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。有効な値は<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>とです<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">以下の追加オプションは、 iSCSI * のみ * 用です。</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">iSCSI ボリュームのフォーマットに使用するファイルシステムを設定します。デフォルトはです<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>。有効な値は<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>、<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>および<block ref="310201b6353c5f38bc039e0e51b079d3" prefix=" " category="inline-code"></block>です。</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell"><block ref="45922ba6ba8428764f22ed06f814c762" prefix="" category="inline-code"></block></block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">このをに設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、LUNのスペース割り当て機能が無効になります。デフォルト値はです<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。ボリュームのスペースが不足してボリューム内のLUNへの書き込みを受け付けられない場合、ONTAPはホストに通知します。また、このオプションを使用すると、ホストでデータが削除されたときにONTAPでスペースが自動的に再生されます。</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">以下の例を参照してください。</block>
  <block id="be1e1c94a5fc3bb66c2ae9425eeefbdb" category="list-text">10GiBのボリュームを作成します。</block>
  <block id="a6490f19f59ecd8e4ed8634990ea366c" category="list-text">Snapshot を使用して 100GiB のボリュームを作成します。</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">setuid ビットが有効になっているボリュームを作成します。</block>
  <block id="6e31a0481f4f7e423abcde0bf31025c8" category="paragraph">最小ボリュームサイズは 20MiB です。</block>
  <block id="a65684b0a191599ad968126dd65f2e9d" category="paragraph">スナップショット予約が指定されておらず、スナップショットポリシーがの場合、<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>Tridentは0%のスナップショット予約を使用します。</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">Snapshot ポリシーがなく、 Snapshot リザーブがないボリュームを作成します。</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">Snapshot ポリシーがなく、カスタムの Snapshot リザーブが 10% のボリュームを作成します。</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">Snapshot ポリシーを使用し、カスタムの Snapshot リザーブを 10% に設定してボリュームを作成します。</block>
  <block id="0a77fdb1c16069c98ebe6510137af9d2" category="list-text">Snapshot ポリシーを設定してボリュームを作成し、 ONTAP のデフォルトの Snapshot リザーブ（通常は 5% ）を受け入れます。</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element ソフトウェアのボリュームオプション</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">Element ソフトウェアのオプションでは、ボリュームに関連付けられているサービス品質（ QoS ）ポリシーのサイズと QoS を指定できます。ボリュームが作成されると、そのボリュームに関連付けられているQoSポリシーが命名規則を使用して指定され<block ref="efdd13397a4561d40713ef6bcddfc6e0" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">Element ドライバを使用して QoS サービスレベルを定義する最初の手順は、少なくとも 1 つのタイプを作成し、構成ファイル内の名前に関連付けられた最小 IOPS 、最大 IOPS 、バースト IOPS を指定することです。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Element ソフトウェアのその他のボリューム作成オプションは次のとおりです。</block>
  <block id="8730c4572b866ffc01a4aefebc896555" category="paragraph">ボリュームのサイズ。デフォルトは1GiBまたは設定エントリ"defaults"：｛"size"："5G"｝。</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell"><block ref="bcb398a5b9906c7313bb069518ecd7c1" prefix="" category="inline-code"></block></block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">512 または 4096 のいずれかを使用します。デフォルトは 512 または config エントリ DefaultBlockSize です。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">QoS 定義を含む次のサンプル構成ファイルを参照してください。</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">上記の構成では、 Bronze 、 Silver 、 Gold の 3 つのポリシー定義を使用します。これらの名前は任意です。</block>
  <block id="cb5b68dacb07bd02a5152bf4ad1de8c6" category="list-text">10GiB の Gold ボリュームを作成します。</block>
  <block id="89014c611c13195dc852587ef9d2bb16" category="list-text">100GiB Bronze ボリュームを作成します。</block>
  <block id="fc96768681dcf6770119445ffe2537cd" category="summary">ボリュームを作成するには、標準のコマンドを使用し<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>、必要に応じてAstra Tridentドライバ名を指定します。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">ボリュームを操作します</block>
  <block id="00e5ed77f92b42f144be7dfb7106bf10" category="paragraph">必要に応じてAstra Tridentドライバ名を指定する標準コマンドを使用して、ボリュームの作成、クローニング、削除を簡単に実行でき<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>ます。</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">ボリュームの作成</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">デフォルトの名前を使用して、ドライバでボリュームを作成します。</block>
  <block id="8b5708fe1297b9ca8b3be5b99bf29407" category="list-text">特定の Astra Trident インスタンスを使用してボリュームを作成します。</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">オプション</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">anyを指定しない場合は<block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>、ドライバのデフォルトが使用されます。</block>
  <block id="1e1e2461d5dfd51f1ebd0eadcba142f4" category="list-text">デフォルトのボリュームサイズを上書きします。次の例を参照して、ドライバで 20GiB ボリュームを作成してください。</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">ボリュームサイズは、オプションの単位（ 10G 、 20GB 、 3TiB など）を含む整数値で指定します。単位を指定しない場合、デフォルトはGです。サイズの単位は2の累乗（B、KiB、MiB、GiB、TiB）または10の累乗（B、KB、MB、GB、TB）で指定できます。略記単位では、 2 の累乗が使用されます（ G=GiB 、 T=TiB 、…）。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">ボリュームを削除します</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">他の Docker ボリュームと同様にボリュームを削除します。</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">ドライバを使用している場合、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>上記の例ではボリュームを削除およびパージします。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">ボリュームのクローニング</block>
  <block id="6798a0701cedf1202e1d70210a3a9a83" category="paragraph">、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、および<block ref="a3e1af20cc594d726b1beb3d184dcf26" prefix=" " category="inline-code"></block>を使用する場合は<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、Astra Tridentでボリュームをクローニングできます。ドライバまたは<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバを使用している場合、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>クローニングはサポートされません。既存のボリュームから新しいボリュームを作成すると、新しい Snapshot が作成されます。</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">ボリュームを調べて Snapshot を列挙します。</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">既存のボリュームから新しいボリュームを作成します。その結果、新しい Snapshot が作成されます。</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">ボリューム上の既存の Snapshot から新しいボリュームを作成します。新しい Snapshot は作成されません。</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">外部で作成されたボリュームにアクセス</block>
  <block id="d8c20bb137be94fec8295c3fc5175b54" category="paragraph">外部で作成したブロックデバイス（またはそのクローン）には、パーティションがなく、かつファイルシステムがAstra Tridentでサポートされている場合にのみ、Trident **を使用してコンテナからアクセスできます（例：<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>-フォーマット<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block>はAstra Trident経由ではアクセスできません）。</block>
  <block id="a97fcb333111f781986275ea628fc4da" category="summary">Astra Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして実行されます。Astra Tridentボリュームをマウントするすべてのホストでノードポッドが実行されている必要があります。</block>
  <block id="c350769115c3c8e4132e9c428b166b12" category="doc">Astra Tridentのアーキテクチャ</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">コントローラポッドとノードポッドについて</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSIサイドカーコンテナ</block>
  <block id="db4723304a1add25b171bb663d394c84" category="paragraph">Astra Tridentは、Kubernetesクラスタに単一または複数<block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block>として導入され<block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block>、標準のKUBSI_CSI Sidecar Containers_を使用してCSIプラグインの導入を簡易化します。<block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block>Kubernetes Storageコミュニティが管理しています。</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">ノードセレクタ</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">寛容さと汚れ</block>
  <block id="4d519246037122ee497d936027625f3f" category="paragraph">Kubernetes<block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block>を使用して、<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>ポッドを特定のノードまたは優先ノードで実行するように制限します。コントローラポッドとノードポッドのノードセレクタと許容範囲は、Astra Tridentのインストール時に設定できます。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">コントローラプラグインは、Snapshotやサイズ変更などのボリュームのプロビジョニングと管理を処理します。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">ノードプラグインによって、ノードへのストレージの接続が処理されます。</block>
  <block id="fe074a7b5062cf480cd4090c9aa43d35" category="image-title">Kubernetesクラスタに導入されるAstra Trident</block>
  <block id="401bff2b74ab332d611440cb096ebd63" category="image-alt">Kubernetesクラスタ上のAstra Tridentアーキテクチャの図。</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Tridentコントローラポッド</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">Tridentコントローラポッドは、CSIコントローラプラグインを実行する単一のポッドです。</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">NetAppストレージ内のボリュームのプロビジョニングと管理を担当</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">Kubernetes環境で管理</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">インストールパラメータに応じて、コントロールプレーンノードまたはワーカーノードで実行できます。</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Tridentコントローラポッドの図</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">CSIコントローラプラグインを実行しているTridentコントローラポッドと、該当するCSIサイドカーの図。</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Tridentノードポッド</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Tridentノードポッドは、CSIノードプラグインを実行する特権ポッドです。</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">ホストで実行されているPodのストレージのマウントとアンマウントを担当します。</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">Kubernetesデーモンセットで管理</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">NetAppストレージをマウントするすべてのノードで実行する必要がある</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Tridentノードのポッド図</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">CSI NodeプラグインとCSIサイドカーを実行しているTrident Node Podの図。</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">サポートされる Kubernetes クラスタアーキテクチャ</block>
  <block id="85b179f2c10f76f0171b4d9d3f2d5171" category="paragraph">Astra Trident は、次の Kubernetes アーキテクチャでサポートされています。</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes クラスタアーキテクチャ</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">サポート対象</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">デフォルトのインストールです</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">単一マスター、コンピューティング</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">はい</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">複数のマスター、コンピューティング</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">マスター、<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>コンピューティング</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">マスター、インフラ、コンピューティング</block>
  <block id="f7061d58754c5b931160c3682d0a1990" category="summary">Astra Trident は、ネットアップが Astra 製品ファミリーの一部として管理している、完全にサポートされているオープンソースプロジェクトです。Container Storage Interface（CSI）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性要求を満たすように設計されています。</block>
  <block id="ff27e75635c1ff1e88fbc656b16e56ce" category="doc">Astra Trident の詳細をご確認ください</block>
  <block id="bb453665f57f6823950856f7a9bad0c3" category="inline-link-macro">Astra 製品ファミリー</block>
  <block id="7a19c007a4b226b38d5083e75e0b81c5" category="paragraph">Astra Tridentは、の一部としてNetAppが管理している、フルサポートのオープンソースプロジェクト<block ref="a1650a2308dbba03b9ca704756a5a37d" category="inline-link-macro-rx"></block>です。Container Storage Interface（CSI）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性要求を満たすように設計されています。</block>
  <block id="ae663d0d321764bd88b8d864cd3afc9e" category="section-title">アストラとは</block>
  <block id="d53515658d4ee6f86fc8c7bc0c6158a7" category="paragraph">Astra を使用すると、 Kubernetes で実行されている大量のデータコンテナ化ワークロードを、パブリッククラウドとオンプレミスの間で簡単に管理、保護、移動できます。</block>
  <block id="82cf01b889b2b07b25693168b674d1fa" category="paragraph">Astraは、Astra Tridentを基盤に構築された永続的コンテナストレージをプロビジョニング、提供します。また、Snapshot、バックアップとリストア、アクティビティログ、アクティブクローニングなどの高度なアプリケーション対応データ管理機能も提供し、データ保護、ディザスタ/データリカバリ、データ監査、Kubernetesワークロードの移行のユースケースに対応します。</block>
  <block id="c2537fa0108c78965a232ce91e201649" category="inline-link-macro">Astraをご利用いただくか、無償トライアルにご登録ください</block>
  <block id="50034647010e013c2ef85849d6596455" category="paragraph">詳細については、をご覧ください <block ref="e3ab0bc094b5f5922b36a8f82419e175" category="inline-link-macro-rx"></block>。</block>
  <block id="67d2496668f52509ed9b31321ed0ad92" category="section-title">Astra Tridentとは</block>
  <block id="2ef4899233dc95a6c5d56a5803e8707f" category="paragraph">Astra Tridentでは、パブリッククラウドやオンプレミスにあるONTAP（AFF、NetApp FAS、Select、Cloud、 Amazon FSx for NetApp ONTAP）、Elementソフトウェア（NetApp HCI、SolidFire）、Azure NetApp Filesサービス、Cloud Volumes Service on Google Cloud</block>
  <block id="30136395f01879792198317c11831ea4" category="inline-link-macro">Kubernetes</block>
  <block id="c91b2e44f4ff3aa5f18de409969c58ba" category="paragraph">Astra Tridentは、とネイティブに統合される、コンテナストレージインターフェイス（CSI）準拠の動的ストレージオーケストレーションツール<block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block>です。Astra Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして実行されます。詳細については、を参照してください <block ref="d9cc95c35405d0ba55bb1c80379b860b" category="inline-link-macro-rx"></block> 。</block>
  <block id="6a693eb5cd23e4e5743663c7edc37aed" category="inline-link-macro">Astra Trident for Docker を導入</block>
  <block id="f4cab711a5db26c5dec21e0173f62fd7" category="paragraph">Astra Tridentは、NetAppストレージプラットフォーム向けのDockerエコシステムと直接統合することもできます。NetApp Docker Volume Plugin（nDVP）は、ストレージプラットフォームからDockerホストへのストレージリソースのプロビジョニングと管理をサポートします。詳細については、を参照してください <block ref="bd99603bf838e5d30758870d40588f8e" category="inline-link-macro-rx"></block> 。</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Kubernetesの概念とツール</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">Kubernetesを初めて使用する場合は、について理解しておく必要があります<block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block>。</block>
  <block id="b513091c9ef80c504ca4004f0f33cee7" category="section-title">Astra TridentのTest Driveプログラム</block>
  <block id="e8dadc588901af436e2c6036acf23973" category="inline-link-macro">ネットアップのテスト用ドライブ</block>
  <block id="67d2e4eb35b7300690ac2b14677e2fad" category="paragraph">Test Driveプログラムを利用するには、すぐに使用できるラボイメージを使用して、「コンテナ化されたワークロード向けの永続的ストレージの簡単な導入とクローニング」へのアクセスをリクエストしてください<block ref="eb9c34df0ed196dd801ef85207c8bf2c" category="inline-link-macro-rx"></block>。このテストドライブは、3ノードのKubernetesクラスタとAstra Tridentがインストールおよび設定されたサンドボックス環境を提供します。これは、Astra Tridentについて理解を深め、その機能を確認するための優れた方法です。</block>
  <block id="8685ac2061f9dca7ab48f41e0871f7af" category="inline-link-macro">kubeadm インストールガイド</block>
  <block id="3ff64d30b8ccd0f89740b2ba54cf8bf3" category="paragraph">もう1つのオプションは、<block ref="c7dbb75618a5e106a360075f923cb87f" category="inline-link-macro-rx"></block>Kubernetesが提供するです。</block>
  <block id="80f4cfbe493e12651c3514c9481ce1ee" category="admonition">これらの手順を使用して構築したKubernetesクラスタは、本番環境では使用しないでください。本番環境向けクラスタ向けに、ディストリビューションから提供されている本番環境導入ガイドを使用します。</block>
  <block id="ad989553d20159458528f9cbeec280ac" category="section-title">KubernetesとNetApp製品の統合</block>
  <block id="c15968f29ef9905b44c7b9f373e75568" category="paragraph">NetAppのストレージ製品ポートフォリオは、Kubernetesクラスタのさまざまな要素と統合されているため、高度なデータ管理機能が提供され、Kubernetes環境の機能、機能、パフォーマンス、可用性が強化されます。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="example-title">NetApp ONTAP 対応の Amazon FSX</block>
  <block id="5051760a43d66d77d01c7a8eb030e7e1" category="paragraph"><block ref="c3736e0f766925817ef4f34af9c72365" category="inline-link-macro-rx"></block>は、NetApp ONTAPストレージオペレーティングシステムを基盤とするファイルシステムを起動して実行できる、フルマネージドのAWSサービスです。</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="example-title">Azure NetApp Files</block>
  <block id="29ec7bd31b1a1379b78d9898d947d73d" category="paragraph"><block ref="c5e53d3a8d8d3c363071213b1e4da969" category="inline-link-rx"></block>は、NetAppを基盤とするエンタープライズクラスのAzureファイル共有サービスです。要件がきわめて厳しいファイルベースのワークロードも、ネットアップが提供するパフォーマンスと充実のデータ管理機能を使用して、 Azure でネイティブに実行できます。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="example-title">Cloud Volumes ONTAP</block>
  <block id="047d03a544a1cc3e86aff90177fbd63a" category="paragraph"><block ref="003ebe68b90d9dc2aab9b61b702f9f9b" category="inline-link-macro-rx"></block>は、クラウドでONTAPデータ管理ソフトウェアを実行するソフトウェア型のストレージアプライアンスです。</block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="example-title">Cloud Volumes Service for Google Cloud</block>
  <block id="a3b5183ae6f5c3f1d6644448f795b5cb" category="inline-link-macro">NetApp Cloud Volumes Service for Google Cloud</block>
  <block id="3a944a74350e87f8e938623ecf80e572" category="paragraph"><block ref="c18d316df0f1fbd9a217b5ad21b18d50" category="inline-link-macro-rx"></block>は、NFSおよびSMB経由でNASボリュームを提供するクラウドネイティブのファイルサービスで、オールフラッシュのパフォーマンスを実現します。</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="example-title">Element ソフトウェア</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">要素</block>
  <block id="7630fd61eebe4d79cfa82d81963940d7" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block>ストレージ管理者は、パフォーマンスを保証し、シンプルで合理的なストレージ設置面積を実現することで、ワークロードを統合できます。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="example-title">NetApp HCI</block>
  <block id="d2a67136c7c7e990d18b8e71635d0395" category="paragraph"><block ref="59c437b3f3e5b14b78b208acb3b663e2" category="inline-link-macro-rx"></block>日常業務を自動化し、インフラ管理者がより重要な業務に集中できるようにすることで、データセンターの管理と拡張を簡易化します。</block>
  <block id="f13e5b4b9ff9262dc0e77344a13ca3c1" category="paragraph">Astra Tridentでは、コンテナ化されたアプリケーション用のストレージデバイスを、基盤となるNetApp HCIストレージプラットフォームに直接プロビジョニングして管理できます。</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="example-title">NetApp ONTAP</block>
  <block id="c034280f677ad8e09361e26a1f0d8b2e" category="paragraph"><block ref="8c73590b5c61238f85244f0e29214d94" category="inline-link-macro-rx"></block>は、NetAppのマルチプロトコルユニファイドストレージオペレーティングシステムで、あらゆるアプリケーションに高度なデータ管理機能を提供します。</block>
  <block id="f598803e893e89c3e094855a40ab1baa" category="paragraph">ONTAP システムには、オールフラッシュ、ハイブリッド、オール HDD のいずれかの構成が採用されており、自社開発のハードウェア（ FAS と AFF ）、ノーブランド製品（ ONTAP Select ）、クラウドのみ（ Cloud Volumes ONTAP ）など、さまざまな導入モデルが用意されています。Astra Tridentは、これらのONTAP導入モデルをサポートしています。</block>
  <block id="fa80e31eb77798b8dd995ddd9553be6e" category="inline-link">ネットアップアストラ製品ファミリー</block>
  <block id="46e28df17b257e6671b042b98bd37787" category="list-text"><block ref="46e28df17b257e6671b042b98bd37787" category="inline-link-rx"></block></block>
  <block id="ef22ff17624b3faeed227ce5c717eb5f" category="inline-link">Astra Control Service のマニュアル</block>
  <block id="0ae0ea6967e9321db008cee4ad5f290c" category="list-text"><block ref="0ae0ea6967e9321db008cee4ad5f290c" category="inline-link-rx"></block></block>
  <block id="3a4b2c66d4bdac6ce0e3340c71a39eda" category="inline-link">Astra Control Center のドキュメント</block>
  <block id="ea643bf7aaf130341a17f697a7009368" category="list-text"><block ref="ea643bf7aaf130341a17f697a7009368" category="inline-link-rx"></block></block>
  <block id="9d6ffa6ef31bd0b92876314219f18ef5" category="inline-link">Astra API ドキュメント</block>
  <block id="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="list-text"><block ref="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="inline-link-rx"></block></block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">ネットアップのストレージ製品ポートフォリオは、 Kubernetes クラスタのさまざまな要素と統合され、高度なデータ管理機能を提供して、 Kubernetes 環境の機能、機能、パフォーマンス、可用性を強化します。</block>
  <block id="3cce5f3eaf76e098ba8e28f7bbba3f92" category="section-title">アストラ</block>
  <block id="cb462a22682d8f02b65abeb6ce8bda89" category="paragraph"><block ref="35a6b548833df39b8bbc748563b1938b" category="inline-link-rx"></block>Kubernetes上で実行される、大量のデータを扱うコンテナ化されたワークロードの管理、保護、移動が容易になります。パブリッククラウドとオンプレミス間で実行されます。Astraは、パブリッククラウドとオンプレミスで実績のある広範なNetAppストレージポートフォリオからTridentを使用して永続的コンテナストレージをプロビジョニング、提供します。また、 Snapshot 、バックアップとリストア、アクティビティログ、アクティブクローニングによるデータ保護、ディザスタ / データリカバリ、データ監査、 Kubernetes ワークロードの移行のユースケースなど、アプリケーションに対応した高度なデータ管理機能も豊富に搭載されています。</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">ONTAPは、NetAppのマルチプロトコルユニファイドストレージオペレーティングシステムで、あらゆるアプリケーションに高度なデータ管理機能を提供します。ONTAP システムには、オールフラッシュ、ハイブリッド、オール HDD のいずれかの構成が採用されており、自社開発のハードウェア（ FAS と AFF ）、ノーブランド製品（ ONTAP Select ）、クラウドのみ（ Cloud Volumes ONTAP ）など、さまざまな導入モデルが用意されています。</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident は、上記の ONTAP 導入モデルをすべてサポートしています。</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block>は、クラウドでONTAPデータ管理ソフトウェアを実行するソフトウェア型のストレージアプライアンスです。Cloud Volumes ONTAP は、本番ワークロード、ディザスタリカバリ、 DevOps 、ファイル共有、データベース管理に使用できます。ストレージ効率、高可用性、データレプリケーション、データ階層化、アプリケーションの整合性を提供することで、エンタープライズストレージをクラウドに拡張します。</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block>は、NetApp ONTAPストレージオペレーティングシステムを基盤とするファイルシステムを起動して実行できる、フルマネージドのAWSサービスです。FSx for ONTAPを使用すると、使い慣れたNetAppの機能、パフォーマンス、管理機能を活用しながら、AWSにデータを保存する際のシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSx for ONTAPは、ONTAPのファイルシステム機能と管理APIの多くをサポートしています。</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block>ストレージ管理者は、パフォーマンスを保証し、シンプルで合理的なストレージ設置面積を実現することで、ワークロードを統合できます。Element と API を組み合わせることでストレージ管理のあらゆる要素を自動化できるため、ストレージ管理者は少ない労力で多くの作業を行うことができます。</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block>日常業務を自動化し、インフラ管理者がより重要な業務に集中できるようにすることで、データセンターの管理と拡張を簡易化します。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">NetApp HCI は Trident によって完全にサポートされています。Trident では、コンテナ化されたアプリケーション用のストレージデバイスを、基盤となる NetApp HCI ストレージプラットフォームに直接プロビジョニングして管理できます。</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block>は、NetAppを基盤とするエンタープライズクラスのAzureファイル共有サービスです。要件がきわめて厳しいファイルベースのワークロードも、ネットアップが提供するパフォーマンスと充実のデータ管理機能を使用して、 Azure でネイティブに実行できます。</block>
  <block id="a1515efe69d0ac9d979af2bdfc068934" category="paragraph"><block ref="68704f3321dd8ca7029c03c29da7736a" category="inline-link-rx"></block>は、NFSおよびSMB経由でNASボリュームを提供するクラウドネイティブのファイルサービスで、オールフラッシュのパフォーマンスを実現します。このサービスにより、従来型アプリケーションを含むあらゆるワークロードをGCPクラウドで実行できます。フルマネージドサービスを提供し、一貫したハイパフォーマンス、瞬時のクローニング、データ保護、 Google Compute Engine （ GCE ）インスタンスへのセキュアなアクセスを実現します。</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">Kubernetes の使用を開始したばかりの場合は、手順に従って Kubernetes をインストールして試してください。この説明では、 Trident をデモ用に統合できるベアボーンのシングルノードクラスタについて説明しています。</block>
  <block id="fac0082fb8411565f3d5cb3788a17b17" category="doc">Astra Tridentのクイックスタート</block>
  <block id="0629fb104936d0fb60cc736b6cb01caa" category="inline-link-macro">Astra Trident の要件</block>
  <block id="0ff441b997c776ccd29f05b449a5f4fb" category="paragraph">Astra Tridentをインストールすると、わずかな手順でストレージリソースの管理を開始できます。作業を開始する前に、を参照してください<block ref="a7c0f3baef818cf2a5323d10b9f5ac94" category="inline-link-macro-rx"></block>。</block>
  <block id="f14894e4c400a400c02367258a93029a" category="inline-link-macro">Trident for Docker が必要です</block>
  <block id="9a052cea99f186c7d930a0041b20a79b" category="admonition">Dockerについては、を参照して<block ref="934c01af2efea144da6665bf428d8f6d" category="inline-link-macro-rx"></block>ください。</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">1つ</block>
  <block id="b0434693308513b990bcffe2314d6fb5" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>Astra Tridentのインストール</block>
  <block id="c8fce1b550592f1b2285ab7a61547927" category="paragraph">Astra Tridentには、さまざまな環境や組織に最適化された複数のインストール方法とモードが用意されています。</block>
  <block id="f1fe71442cd08e74d342114df7ee1551" category="inline-link-macro">Astra Trident をインストール</block>
  <block id="f15ffbfcd0e5a0ad91ac171f83121ff4" category="paragraph"><block ref="f15ffbfcd0e5a0ad91ac171f83121ff4" category="inline-link-macro-rx"></block></block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">2つ</block>
  <block id="2d15dd50ddfe5e28746975645a5652ca" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>ワーカーノードの準備</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="inline-link-macro">ワーカーノードを準備します</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">3つ</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block>バックエンドの作成</block>
  <block id="98e45a92edd75cce26a32a68de45f178" category="paragraph">バックエンドは、 Astra Trident とストレージシステムの関係を定義します。Trident がストレージシステムとの通信方法を Trident から指示し、 Astra Trident がボリュームをプロビジョニングする方法も解説します。</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">バックエンドの設定</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block>ストレージシステム</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">4つ</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>Kubernetesストレージクラスの作成</block>
  <block id="24740ec53fb04d2caca5671a9e9f554f" category="paragraph">Kubernetes StorageClassオブジェクトでは、Astra Tridentがプロビジョニングツールとして指定され、カスタマイズ可能な属性を使用してボリュームをプロビジョニングするためのストレージクラスを作成できます。Astra Tridentは、Astra Tridentプロビジョニングツールを指定する、Kubernetesオブジェクト用の一致するストレージクラスを作成します。</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="inline-link-macro">ストレージクラスを作成する。</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">5 つ</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block>ボリュームをプロビジョニングする</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">A_PersistentVolume_（PV）は、Kubernetesクラスタ上のクラスタ管理者がプロビジョニングする物理ストレージリソースです。_PersistentVolumeClaim_（PVC）は、クラスタ上のPersistentVolumeへのアクセス要求です。</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="paragraph">設定したKubernetes StorageClassを使用してPVへのアクセスを要求するPersistentVolume（PV）とPersistentVolumeClaim（PVC）を作成します。その後、PVをポッドにマウントできます。</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="inline-link-macro">ボリュームをプロビジョニングする</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="section-title">次の手順</block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">バックエンドの追加、ストレージクラスの管理、バックエンドの管理、ボリューム処理の実行が可能になりました。</block>
  <block id="901977c62370814085e1228ede1e5919" category="summary">Astra Tridentをインストールする前に、次の一般的なシステム要件を確認してください。個 々 のバックエンドには追加の要件がある場合があり</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">要件</block>
  <block id="822293db528ee892466bd05ecce74b14" category="section-title">Astra Tridentに関する重要な情報</block>
  <block id="d883ab5f686800bc89cab8e6bd776c10" category="paragraph">* Astra Tridentに関する次の重要な情報をお読みください。*</block>
  <block id="92b6d6e1b0bf78702d88ede445c4256f" category="example-title">&lt;strong&gt; ：Trident &lt;/strong&gt; に関する重要な情報</block>
  <block id="a0deacb8333950a84bc0c07161a5ec2e" category="list-text">Astra TridentでKubernetes 1.31がサポートされるようになりました。Kubernetesをアップグレードする前にAstra Tridentをアップグレードしてください。</block>
  <block id="7416271d47db3d82227ab2164e43c75c" category="list-text">Astra Tridentでは、SAN環境でのマルチパス構成の使用が厳密に実施されます。multipath.confファイルの推奨値はです<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>。</block>
  <block id="0acb661700c6422ee3bfc29c43c715c6" category="paragraph">マルチパス以外の構成を使用するか、multipath.confファイルにまたは<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block>の値を使用する<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block>と、マウントが失敗します。Astra Tridentでは、2007年21.07リリースからの使用が推奨されて<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>います。</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">サポートされるフロントエンド（オーケストレーションツール）</block>
  <block id="74aefc05d193afd5c50a0df882997656" category="paragraph">Trident Astra は、次のような複数のコンテナエンジンとオーケストレーションツールをサポート</block>
  <block id="7cc1edf2116d94e97b8f4a69079de132" category="list-text">Anthosオンプレミス（VMware）とAnthos（ベアメタル1.16）</block>
  <block id="3494d431429bb2e868fc95f1c0b9665c" category="list-text">Kubernetes 1.24~1.31</block>
  <block id="c9db4c3d8dc7c24ea723ab5fe1e45fdb" category="list-text">OpenShift 4.10-4.16</block>
  <block id="201eb37826a33e35adff9119f25946bd" category="paragraph">Trident オペレータは、次のリリースでサポートされています。</block>
  <block id="79b3290789721c34f186b1651a42c3d4" category="paragraph">Astra Tridentは、Google Kubernetes Engine（GKE）、Amazon Elastic Kubernetes Services（EKS）、Azure Kubernetes Service（AKS）、Mirantis Kubernetes Engine（MKE）、Rancher、VMware Tanzu Portfolioなど、他のフルマネージド/自己管理型Kubernetesソリューションとも連携します。</block>
  <block id="eca0dda5d40cf62b4a73c50deab2520c" category="inline-link-macro">KubeVirt</block>
  <block id="6dcbb28bcb406143523df0ce31057e5a" category="paragraph">Astra TridentとONTAPは、のストレージプロバイダとして使用できます<block ref="98ab68800979b414641691275d2b9c15" category="inline-link-macro-rx"></block>。</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">Helmインストールのアップグレード</block>
  <block id="a0d67b0e47e7d844e8354cf1e66cfd9b" category="admonition">Astra TridentがインストールされているKubernetesクラスタを1.24から1.25以降にアップグレードする前に、を参照してください<block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block>。</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">サポートされるバックエンド（ストレージ）</block>
  <block id="843e2f0c722d25903a6010b62ac4f13b" category="paragraph">Astra Trident を使用するには、次のバックエンドを 1 つ以上サポートする必要があります。</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="list-text">Cloud Volumes Service for GCP</block>
  <block id="0ffed9ae8c0b8e64c5dc8cba81c4fe34" category="list-text">FAS/AFF / Select 9.5以降</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">ネットアップオール SAN アレイ（ ASA ）</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI / Elementソフトウェア11以降</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">機能の要件</block>
  <block id="6286d1b386e84c92fae11f2bcb9ceecd" category="paragraph">次の表は、このリリースの Astra Trident で利用できる機能と、サポートする Kubernetes のバージョンをまとめたものです。</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">機能</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes のバージョン</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">フィーチャーゲートが必要ですか？</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="cell">Astra Trident</block>
  <block id="e421e06325a1dc27ebce6f0b648866a4" category="paragraph">1.24 ~ 1.31</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">いいえ</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">ボリューム Snapshot</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">ボリューム Snapshot からの PVC</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV のサイズ変更</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP 双方向 CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動的エクスポートポリシー</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident のオペレータ</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">CSI トポロジ</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">テスト済みのホストオペレーティングシステム</block>
  <block id="6726c1f070eb0e4315bf3ec874a13f78" category="paragraph">Astra Tridentは特定のオペレーティングシステムを正式にサポートしていませんが、動作確認済みのものは次のとおりです。</block>
  <block id="362997bacf08e019288e372d8ae1f070" category="list-text">OpenShift Container Platform（AMD64およびARM64）でサポートされているRed Hat CoreOS（RHCOS）のバージョン</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8+（AMD64およびARM64）</block>
  <block id="8554748be67b956e550de942edae807d" category="admonition">NVMe/TCPにはRHEL 9以降が必要です。</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22.04以降（AMD64およびARM64）</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="list-text">Windows Server 2022</block>
  <block id="57b3e1695eb7d16642702fbce3837b86" category="paragraph">デフォルトでは、 Astra Trident はコンテナで実行されるため、任意の Linux ワーカーで実行されます。ただし、その場合、使用するバックエンドに応じて、標準の NFS クライアントまたは iSCSI イニシエータを使用して Astra Trident が提供するボリュームをマウントできる必要があります。</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">この<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ユーティリティは、これらのLinuxディストリビューションのいずれでも実行できます。</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">ホストの設定</block>
  <block id="e379ebca8f2245b4a0c32803c6d7f845" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。ワーカーノードを準備するには、ドライバの選択に基づいてNFS、iSCSI、またはNVMeのツールをインストールする必要があります。</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">ストレージシステムの構成：</block>
  <block id="0d25ed458cdfc3817973631b0b776a34" category="paragraph">Astra Tridentでは、バックエンド構成でストレージシステムを使用する前に、変更が必要になる場合があります。</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="inline-link-macro">バックエンドを設定</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="b229055f6bd047c28dfc84c9bee4c252" category="section-title">Astra Trident ポート</block>
  <block id="29dcef620f05a3eaaf13d29d1f14e860" category="paragraph">Astra Tridentが通信するには、特定のポートへのアクセスが必要です。</block>
  <block id="b2dabe4b341f1e163a7ba3f3553d6b1b" category="paragraph"><block ref="b2dabe4b341f1e163a7ba3f3553d6b1b" category="inline-link-macro-rx"></block></block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">コンテナイメージと対応する Kubernetes バージョン</block>
  <block id="ee50d481128d1543f9945b4a4f3fbe9d" category="paragraph">エアギャップのある環境では、 Astra Trident のインストールに必要なコンテナイメージを次の表に示します。コマンドを使用し<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block>て、必要なコンテナイメージのリストを確認します。</block>
  <block id="7b5dfababf92391b5761944c63b0d3bb" category="cell">Kubernetesのバージョン</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">コンテナイメージ</block>
  <block id="5e6f6bf1a3cfa3238a4162a4f0aa6baa" category="cell">v1.24.0、v1.25.0、v1.26.0、v1.27.0、v1.28.0、 v1.29.0、v1.30.0、v1.31.0</block>
  <block id="082110ded218ef5f40a2b1598733539c" category="list-text">Docker .io / NetApp / Trident：24.06.0</block>
  <block id="46eedbd0d2b0f5492c4fc15aaede92ad" category="list-text">docker.io / netapp/trident-autosupport：24.06</block>
  <block id="977df580b49e7f3346777be08dfb4bad" category="list-text">registry.k8s.io/sig-storage/csi-provisioner：v4.0.1</block>
  <block id="99597d2f28b77c3b7041ecd102b8ade8" category="list-text">registry.k8s.io/sig-storage/csi-attacher：v4.6.0</block>
  <block id="4b30cfe17b1e6e4f89e711f00114aa05" category="list-text">registry.k8s.io/sig-storage/csi-resizer：v1.11.0</block>
  <block id="bb858d3f20b66612c5f342159cc24dcd" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter：v7.0.2</block>
  <block id="dc33446faca12c219dd12f5e1c73cf51" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrar：v2.10.0</block>
  <block id="34c6770b6d01ed891aeedb69fc052a1c" category="list-text">docker.io/netapp/trident-operator：24.06.0（オプション）</block>
  <block id="38b6e376f2701385062dee4bb00e03d2" category="summary">Astra Tridentインストーラを使用して、導入をカスタマイズできます。</block>
  <block id="1925260c2cac73df14e8b004bfbabd67" category="paragraph">Astra Tridentインストーラを使用して、インストールをカスタマイズできます。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">インストーラの詳細を確認してください</block>
  <block id="1637137b97f70f3de86dbf02ba8c262b" category="paragraph">Astra Tridentインストーラを使用して、属性をカスタマイズできます。たとえば、Tridentイメージをプライベートリポジトリにコピーした場合は、を使用してイメージ名を指定できます<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block>。Tridentイメージと必要なCSIサイドカーイメージをプライベートリポジトリにコピーした場合は、次の形式のスイッチを使用してリポジトリの場所を指定することをお勧めし<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>ます。<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block></block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">Kubernetesのディストリビューションを使用していて、でデータが通常以外のパスに保持される<block ref="bc5cffcf9f10f624d02ae2efb8215dc5" prefix=" " category="inline-code"></block>場合は<block ref="703e9c640b9e3ea630f6687938e43c9a" prefix=" " category="inline-code"></block>、を使用して代替パスを指定できます<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">インストーラの引数で許可される範囲を超えてインストールをカスタマイズする必要がある場合は、配置ファイルをカスタマイズすることもできます。パラメータを使用する<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>と、インストーラのディレクトリに次のYAMLファイルが作成され<block ref="a0f848942ce863cf53c0fa6cc684007d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text"><block ref="d67d2c9d865b587d65b2e63c78c1cfa0" prefix="" category="inline-code"></block></block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text"><block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix="" category="inline-code"></block></block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text"><block ref="91696b9b3532f20cd7fb80573a7425d4" prefix="" category="inline-code"></block></block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text"><block ref="c1484787d70c4ea99f3bd377937ea020" prefix="" category="inline-code"></block></block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text"><block ref="9f6c6212091d8eef52ff63c5e58f70e8" prefix="" category="inline-code"></block></block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text"><block ref="b4d153fcc8c4c7bed016796085d6abd1" prefix="" category="inline-code"></block></block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text"><block ref="ec3914518572122d25969da6b4b66fcc" prefix="" category="inline-code"></block></block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text"><block ref="3f7046611d8d5f8ed666a93ae7a61ae7" prefix="" category="inline-code"></block></block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text"><block ref="1a368feb8bb72ef66bb194b43d0a15b3" prefix="" category="inline-code"></block></block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">これらのファイルを生成したら、必要に応じてファイルを変更し、を使用してカスタム配置をインストールできます<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block>。</block>
  <block id="13c852fce58f7c6981fa0a952dcd76af" category="summary">Tridentオペレータでは、仕様の属性を使用してAstra Tridentのインストール方法をカスタマイズでき<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">Tridentオペレータのインストールをカスタマイズ</block>
  <block id="705dbdc50888270bf4b0230d75c7ae1d" category="paragraph">Tridentオペレータは、仕様の属性を使用してAstra Tridentのインストールをカスタマイズでき<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。引数で許可される範囲を超えてインストールをカスタマイズする場合<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>は、を使用してカスタムYAMLマニフェストを生成し、必要に応じて変更することを検討して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ください。</block>
  <block id="f412c056318f78edc1cce01ed98e751b" category="paragraph">Astra Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして実行されます。Astra Tridentボリュームをマウントするすべてのホストでノードポッドが実行されている必要があります。</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes<block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block>を使用して、<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>ポッドを特定のノードまたは優先ノードで実行するように制限します。「ControllerPlugin」とを使用して、<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>制約とオーバーライドを指定できます。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">設定オプション</block>
  <block id="1736b3823517cc62395e05494b09ddb9" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block>は<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、Astra Tridentがインストールされているネームスペースを示します。このパラメータ * は、 Astra Trident のインストール後に更新できません * 。これを実行しようとすると、<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ステータスがに変わり<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>ます。Astra Tridentは、ネームスペース間での移行を意図していません。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">このテーブルは、属性の詳細を示し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">パラメータ</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">デフォルト</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="c9db68ea6cff44f42ac5acbbfccec399" category="cell">Astra Trident をインストールするネームスペース</block>
  <block id="90a731f9a8a983f7cf3905960d8146ec" category="cell"><block ref="9aa82da0cffe247b84587c1cc8e32746" prefix="" category="inline-code"></block></block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block></block>
  <block id="4f72bc786a1a01d5a1a8bc09d33334cc" category="cell">Astra Trident のデバッグを有効にします</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="10e922f2b5adf15b9f182c7c103f326e" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>そして<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>のみ。KubernetesのNon-Graceful Node Shutdown（NGN）と連携して、ノードに障害が発生した場合に、マウントされたボリュームを含むワークロードを新しいノードに安全に移行する機能をクラスタ管理者に提供します。</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">をに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Windowsワーカーノードへのインストールが有効になります。</block>
  <block id="3f5dc9ae5f538d3ce4d0cc20e7762671" category="cell"><block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix="" category="inline-code"></block></block>
  <block id="99c0f28c38ebd0826265cfd120e75cce" category="cell">AKSクラスタで管理IDまたはクラウドIDを使用する場合はに設定します<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。EKSクラスタでクラウドIDを使用する場合は、「aws」に設定します。</block>
  <block id="2f6b7b0c1002ad67f4e455a17d784c94" category="cell"><block ref="9d4568c009d203ab10e33ea9953a0264" prefix="" category="inline-code"></block></block>
  <block id="0b79806f5a5d5ddd87cd1bd2a28f965c" category="cell"><block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix="" category="inline-code"></block></block>
  <block id="1c7eef293ffc5ac51ad582373c076cb5" category="cell">AKSクラスタでクラウドIDを使用する場合は、ワークロードID（「azure.workload.identity/client-id：xxxxxxxxxx-xxxx-xxxxxxx」）に設定します。EKSクラスタでクラウドIDを使用する場合は、AWS IAMロール（「eks.amazonaws.com/role-arn: arn：aws：iam：：123456：role/astratrident-role」）に設定されます。</block>
  <block id="d293f031e5664526b25f3a65012401b7" category="cell"><block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix="" category="inline-code"></block></block>
  <block id="3dd791c4864e77ae6cf11572e2d7b374" category="cell">IPv6 経由の Astra Trident をインストール</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">正しくない</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="4448b73eac083e33b7142f0e5790fac5" category="cell">Kubernetes 処理のタイムアウト</block>
  <block id="ff1e5aff28fa6b984ca73f22322bbe5f" category="cell"><block ref="e4d71bf2abad047425f4463e27bb83b0" prefix="" category="inline-code"></block></block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">AutoSupport バンドルをネットアップに自動的に送信しない</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell"><block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix="" category="inline-code"></block></block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">AutoSupport テレメトリのコンテナイメージ</block>
  <block id="c60a12fed7285fa1de4f3c7f19be4183" category="cell"><block ref="2355ab85ff878ad8030db28386517486" prefix="" category="inline-code"></block></block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell"><block ref="5f264298da92162575024336c485cc13" prefix="" category="inline-code"></block></block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">AutoSupport テレメトリを送信するプロキシのアドレス / ポート</block>
  <block id="fca9ec6d50035c840a58bdecab9e25b1" category="cell"><block ref="256acfe307251e7444859851d87d5735" prefix="" category="inline-code"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell"><block ref="fe98497efedbe156ecc4b953aea77e07" prefix="" category="inline-code"></block></block>
  <block id="076bc379a24183ce77834bac007ca852" category="cell">Astra Trident のアンインストールに使用するフラグ</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="acfc4a8e6d53bad27d4e2d393bfff61e" category="cell">Astra Trident のログ形式が使用 [text 、 JSON]</block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell"><block ref="d771848c80f96e5954a8658655cf79d7" prefix="" category="inline-code"></block></block>
  <block id="20f408a3276af1f7f1bf02ba374786ca" category="cell">インストールする Astra Trident イメージ</block>
  <block id="c198906b992d2b95af53bcccaa4164e4" category="cell"><block ref="881e03d5ffd6a83f4e02bef21f4ea3f7" prefix="" category="inline-code"></block></block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell"><block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">内部レジストリへのパス（形式）<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="5988b87b5a9370ccf6ee4e99fb6ac85a" category="cell"><block ref="9fb2e56e3d11fdc981c57749d266aa42" prefix="" category="inline-code"></block>（Kubernetes 1.19以降）または<block ref="28994d623a492f2e5b2eb3ffbcdd4dd0" prefix=" " category="inline-code"></block></block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell"><block ref="31e3a95d0afff0def109a244b7f82d83" prefix="" category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">ホスト上の kubelet ディレクトリへのパス</block>
  <block id="a55d315d1b8f8342158866cd0f4acf4f" category="cell"><block ref="df8f3af91e96fe841267201ed450cd6b" prefix="" category="inline-code"></block></block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="4e33345575b5a443dec89767624a1ee8" category="cell">Astra Trident を完全に削除するために削除するリソースのリスト</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell"><block ref="0d9b54b29da54379cca6b8782b9faae5" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">内部レジストリからイメージをプルするシークレット</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">Tridentオペレータのイメージプルポリシーを設定します。有効な値は次のとおりです。常に画像をプルします。<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block><block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block>ノードにイメージが存在しない場合にのみ取得します。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block>画像を引っ張らないようにしました</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell"><block ref="3d97872197327b9967bcc3f4f76b25c5" prefix="" category="inline-code"></block></block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">ポッド用の追加のノードセレクタ。の形式はと同じ<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>です。</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">デフォルトはありません。オプションです</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell"><block ref="e648881dc52660bceb907a4b5b9f7042" prefix="" category="inline-code"></block></block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。はと同じ形式<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>です。</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell"><block ref="ae41eb1a542b17214c779966cd254a4d" prefix="" category="inline-code"></block></block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">ポッド用の追加のノードセレクタ。の形式はと同じ<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>です。</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell"><block ref="b729c9d7484a61fd754f6b7f533db71c" prefix="" category="inline-code"></block></block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">ポッドをノードに割り当てます</block>
  <block id="746996e3c70ac1447e486f6c9fc0fac2" category="admonition">ポッドパラメータのフォーマットの詳細については、を参照してください<block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">フォースデタッチの詳細</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes：正常なノードシャットダウンではありません</block>
  <block id="c2b73a5f3aeb6a0120f6d516eaedfceb" category="paragraph">強制切り離しは、および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>でのみ使用でき<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。強制接続解除を有効にする前に、Kubernetesクラスタで非グレースフルノードシャットダウン（NGN）を有効にする必要があります。詳細については、を参照してください <block ref="1da18b4f36c698c06b8a402542c42858" category="inline-link-macro-rx"></block>。</block>
  <block id="388f611a7cb1d3b4a55895211f24e657" category="admonition">Astra TridentはKubernetes NGNに依存しているため、許容できないすべてのワークロードのスケジュールが再設定されるまで、正常でないノードからテイントを削除しないで<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block>ください。汚染を無謀に適用または削除すると、バックエンドのデータ保護が危険にさらされる可能性があります。</block>
  <block id="0490d92bd49cf4ca0e3d1454b8166318" category="paragraph">Kubernetesクラスタ管理者がtaintをノードに適用し、<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block>をに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block>、Astra Tridentによってノードのステータスが確認され、次の処理が実行されます。</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">そのノードにマウントされたボリュームのバックエンドI/Oアクセスを停止します。</block>
  <block id="9e359eb51c11b0162faa185a9f2e6132" category="list-text">Astra Tridentノードオブジェクトを（新しいドキュメントに対しては安全ではない）とマークします<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>。</block>
  <block id="dea3db0d9b1c1d5a2c070829016eb1d9" category="admonition">Tridentコントローラは、Tridentノードポッドによって（とマークされた後で）ノードが再修飾されるまで、新しいパブリッシュボリューム要求を拒否し<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>ます。マウントされたPVCでスケジュールされているワークロード（クラスタノードが正常で準備が完了したあとも含む）は、Astra Tridentがノードを検証できる（新しいドキュメントに対応）まで受け付けられません<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>。</block>
  <block id="2f2c77c0463a5147779a2fe92fffee6d" category="paragraph">ノードの健常性が回復してtaintが削除されると、Astra Tridentは次の処理を実行します。</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">ノード上の古い公開パスを特定してクリーンアップします。</block>
  <block id="a36983f9842a4a5cf4db7f9d23253de0" category="list-text">ノードが状態で（サービス停止状態が削除され、ノードが状態である<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block>）、古い公開パスがすべてクリーンである場合、<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block>Astra Tridentはノードをとして再登録し、新しい公開ボリュームをノードに許可します<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>。</block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">構成例</block>
  <block id="cb970ba92f64074cb0c13138a539851d" category="paragraph">を定義してインストールをカスタマイズするときに、<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>の属性を使用できます<block ref="289efe9665b12a9f791f1897f30c1a0b" category="inline-xref-macro-rx"></block>。</block>
  <block id="0f63a7a4873a5bae5060bde9fd1009af" category="example-title">基本的なカスタム設定</block>
  <block id="75af726339d8dd9e0c82b2326b0c0486" category="paragraph">これは、基本的なカスタムインストールの例です。</block>
  <block id="a144d1a554ec741f701e87c26360c28e" category="example-title">ノードセレクタ</block>
  <block id="31fa5c9360322e13aba1b8b48edcdaed" category="paragraph">この例では、Astra Tridentとノードセレクタをインストールします。</block>
  <block id="de5aefa11fe3836b4b8d0769b09b21eb" category="example-title">Windowsワーカーノード</block>
  <block id="e037ffcaadbce3092a5cf8a87340fd58" category="paragraph">この例では、WindowsワーカーノードにAstra Tridentをインストールします。</block>
  <block id="f393555b01f0bafc5bd6a63db97bac1d" category="example-title">AKSクラスタ上の管理対象ID</block>
  <block id="a998f3ed1c2f0acf96000ec18ff8cb4f" category="paragraph">この例では、AKSクラスタで管理対象IDを有効にするためにAstra Tridentをインストールします。</block>
  <block id="87405c3bcad617fc620ddcd9d59cee14" category="example-title">AKSクラスタ上のクラウドID</block>
  <block id="ff69492f7c22c4e5c452eef5d83a4fad" category="paragraph">この例では、AKSクラスタにクラウドIDで使用するAstra Tridentをインストールします。</block>
  <block id="26f5586d25dc46e2526fe898341970ac" category="example-title">EKSクラスタ上のクラウドID</block>
  <block id="9023b4b442239b429817bc22fb401e02" category="summary">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">Helm（オフラインモード）を使用したTridentのオペレータの導入</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準的な導入のプロセス</block>
  <block id="dc0316b52aa2ab6526bdaee13c162530" category="paragraph">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。プライベートイメージレジストリがない場合は、を使用し<block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>ます。</block>
  <block id="aeb1639e94bd68d455845850b0394f3f" category="section-title">Astra Tridentに関する重要な情報24.06</block>
  <block id="569091f6518520ecabc37c249e96bd28" category="list-text">Astra TridentでKubernetes 1.31がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレード</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">マルチパス以外の構成を使用するか、multipath.confファイルにまたは<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block>の値を使用する<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block>と、マウントが失敗します。Tridentでは、21.07リリース以降での使用を推奨してい<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c9ffe59301b588bbc33bb004cfd312ee" category="section-title">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストール</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">Helmチャート</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">Tridentを使用すると、<block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block>Tridentオペレータを導入し、Tridentをワンステップでインストールできます。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">インストールの概要</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph"><block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block>インストールの前提条件を満たしていることを確認し、環境に適したインストールオプションを選択してください。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">導入の前提条件</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="inline-link-macro">Helm バージョン 3</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">あなたが必要とする<block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>ことに加えて<block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block>。</block>
  <block id="113fbd468c6aaecfbef57e5d1e9b500d" category="list-text">Astra Trident Helmリポジトリを追加します。</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">TridentとCSIの画像</block>
  <block id="0179ce102ae0de859a93e684f6bd43c5" category="list-text">を使用し<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 、展開とイメージレジストリの場所の名前を指定します。は <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。この例では<block ref="c59465995fc272118d0b7650dbcd42b5" prefix=" " category="inline-code"></block> 、インストールするAstra Tridentのバージョンを示しています。</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">1つのレジストリ内のイメージ</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">異なるレジストリ内の画像</block>
  <block id="69301f05825d437597b636d8b7e9d918" category="paragraph">別のレジストリの場所を使用するには、をに<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>追加する必要があります<block ref="4134d52569bb4a6545ebff1e4c83f2bc" prefix=" " category="inline-code"></block>。</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">Trident用のネームスペースをすでに作成している場合、パラメータを使用する<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block>と追加のネームスペースは作成されません。</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">を使用して、インストールの詳細（名前、ネームスペース、グラフ、ステータス、アプリケーションのバージョンなど）を確認できます<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 。 およびリビジョン番号。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">インストール中に設定データを渡す</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">インストール中に設定データを渡すには、次の 2 つの方法があります。</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block>（または<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>）</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">オーバーライドを使用してYAMLファイルを指定します。これは複数回指定でき、右端のファイルが優先されます。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">コマンドラインでオーバーライドを指定します。</block>
  <block id="154898f748dc50cea11a3146dff4d65e" category="paragraph">たとえば、のデフォルト値を変更するには<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、次のコマンドを実行し<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> ます。はインストールするAstra Tridentのバージョンです。<block ref="c59465995fc272118d0b7650dbcd42b5" prefix=" " category="inline-code"></block></block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">このテーブルと<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>Helmチャートの一部であるファイルには、キーとそのデフォルト値のリストが表示されます。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">ポッド割り当てのノードラベル</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">ポッドの注釈</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">配置のアノテーション</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">ポッド割り当ての許容値</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">ポッド割り当てのアフィニティ</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="2a2c6cbf201e7fa0935ec1e8b243cca1" category="cell">ポッド用の追加のノードセレクタ。詳細については、を参照してください <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="8a00a4799d11edabcb628da338d295ce" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。詳細については、を参照してください <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="a5dbdd22874a005ac9265ab4869f4b42" category="cell">、、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>およびその他のイメージのレジストリを指定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。デフォルトをそのまま使用する場合は、空のままにします。</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">""</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">のイメージプルポリシーを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">、、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>およびその他のイメージのプルシークレットを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">kubeletの内部状態のホスト位置を上書きできます。</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">Trident演算子のログレベルを、、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block><block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>または<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>に設定<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>できます。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">Tridentオペレータのログレベルをdebugに設定できます。</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">のイメージを完全に上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">イメージのタグを上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="fbb572d608f0afb5d8449144a2f9e8f3" category="cell">IPv6クラスタでAstra Tridentを動作させることができます。</block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">ほとんどのKubernetes API処理でデフォルトの30秒タイムアウトを上書きします（0以外の場合は秒単位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">HTTP要求のデフォルトの90秒タイムアウトを上書きします。タイムアウト時間は無制限です。<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block>負の値は使用できません。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="595576072ae91fd3ed07cffb0f6bf8dc" category="cell">Astra Tridentの定期的なAutoSupport レポートを無効にできます。</block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="afed3cb70fa67ef62195179f6c724664" category="cell">Astra Trident AutoSupport コンテナのイメージのタグを上書きできます。</block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b830fe1139fea1840be49f78927d6364" category="cell">Astra TridentのAutoSupport コンテナがHTTPプロキシ経由で自宅に通信できるようになります。</block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="6ea2564bcf36b1d8878738d14312d34e" category="cell">Astra Tridentのロギング形式または<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>を設定し<block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>ます）。</block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="67471026c71afd28bcd767ef1006c39a" category="cell">Astra Trident監査ロガーを無効にします。</block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="5f65c3e97612dfc2a1875871e1d5298d" category="cell">Astra Tridentのログレベルを、、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block><block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>またはに<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>設定できます<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>。</block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="40caa5c31158e12517414bf1429ad350" category="cell">Astra Tridentのログレベルをに設定できます<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="5934b7dd9f1b8b0cd103a9f658e321a2" category="cell">特定のAstra Tridentワークフローを有効にして、トレースロギングやログ抑制を実行できます。</block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="b09ba1c3bffb182e31b3e02e89809aff" category="cell">特定のAstra Tridentレイヤでトレースロギングやログ抑制を有効にできます。</block>
  <block id="1aaea3b64b47a673c851da63225fddfb" category="cell">Astra Tridentのイメージを完全に上書きできます。</block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="63742b48f6bddb4de8ebee8c4337f07e" category="cell">Astra Tridentのイメージのタグを上書きできます。</block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">Kubernetesの活性/準備プローブに使用されるデフォルトポートを上書きできます。</block>
  <block id="e07d4a2a2e6f176011493e3326962c52" category="cell">WindowsワーカーノードにAstra Tridentをインストールできます。</block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">強制切り離し機能を有効にできます。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">オペレータポッドのセキュリティポリシーを作成から除外します。</block>
  <block id="00148cd37a97a236d1ff100ec0464493" category="summary">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">Helm（標準モード）を使用してTridentを導入</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">オフライン導入のプロセス</block>
  <block id="20815399023070f3335b67451f864388" category="paragraph">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。プライベートイメージレジストリがある場合は、を使用し<block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>ます。</block>
  <block id="d588a6cd560d80c03fbbe7c2df56c53d" category="list-text">を使用し<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 、次の例のように環境の名前を指定します<block ref="cfc6108aad8813450ddf86899993aac8" prefix=" " category="inline-code"></block> 。はインストールするAstra Tridentのバージョンです。</block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">ポッド用の追加のノードセレクタ。詳細については、を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 。</block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。詳細については、を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 。</block>
  <block id="0c6a9df67692e58bbc9a138c63e20c4a" category="cell">AKSクラスタでクラウドIDを使用する場合は、ワークロードID（「azure.workload.identity/client-id：xxxxxxxxxx-xxxx-xxxxxxx」）に設定します。EKSクラスタでクラウドIDを使用する場合は、AWS IAMロール（「eks.amazonaws.com/role-arn: arn：aws：iam：：123456：role/astratrident-role」）に設定されます。</block>
  <block id="50f9796c3e95f29464ed077bb59ca6a5" category="cell"><block ref="a1edaea62dbed344534369e9668223b1" prefix="" category="inline-code"></block></block>
  <block id="d3ee0f95ea35db45a8c5d2deb96b4eb9" category="cell">iSCSIの自己修復が実行される間隔。</block>
  <block id="d2393ee8411e83742fc73a79660d81ba" category="cell"><block ref="48899b1fc217fef67f8c9c11d2af0800" prefix="" category="inline-code"></block></block>
  <block id="5368476cef8604c12ee3f8a741319473" category="cell"><block ref="85fc372a514da766ce84a222668f8e62" prefix="" category="inline-code"></block></block>
  <block id="a5c601ef1c412054e22a761067edb9da" category="cell">iSCSIの自己修復が、ログアウトとその後のログインを実行して古いセッションの解決を開始するまでの時間。</block>
  <block id="e1bd8a641f8c3114c2698aa76942b621" category="cell"><block ref="4fe853d0c57c2a118a755c207068b052" prefix="" category="inline-code"></block></block>
  <block id="4bdf9319fbd791503ac6c31b80a89220" category="summary">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。</block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">Tridentオペレータを手動で導入（オフラインモード）</block>
  <block id="3410d56c3ae45b01726f4f271693484f" category="paragraph">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。プライベートイメージレジストリがない場合は、を使用し<block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>ます。</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">Tridentオペレータを手動で導入し、Tridentをインストール</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">サポートされる Kubernetes クラスタ</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">Linuxホストにログインし、動作中のを管理していること、および必要なPrivilegesがあることを確認します<block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>。</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">OpenShiftでは、以降のすべての例での代わり<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>にを使用し、または<block ref="42c32f65d2d1c08a83fbc226da30a162" prefix=" " category="inline-code"></block>を<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>実行して最初に* system:admin *としてログインし<block ref="924132b4cedac6927feecff33e0a8e17" prefix=" " category="inline-code"></block>ます。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">Kubernetesのバージョンを確認します。</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">クラスタ管理者の権限を確認します。</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">Docker Hubのイメージを使用してポッドを起動し、ポッドネットワーク経由でストレージシステムにアクセスできることを確認します。</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">手順1：Tridentのインストーラパッケージをダウンロード</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHubの_Assets_sectionを参照してください</block>
  <block id="e0a7ed284b169328627ba69adfc9350d" category="paragraph">Astra Tridentインストーラパッケージには、Tridentオペレータの導入とAstra Tridentのインストールに必要なものがすべて含まれています。からTridentインストーラの最新バージョンをダウンロードして展開し<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">手順2：CRDを作成する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">カスタムリソース定義（CRD）を作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。後でカスタムリソースを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。で適切なCRD YAMLバージョンを使用して<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>CRDを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">手順3：オペレータのレジストリの場所を更新します</block>
  <block id="a2287e64798038da9fba4a6c5dcdc3fd" category="paragraph">で<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>、イメージレジストリの場所を反映するように更新し<block ref="b5ab85572d9417d38412b7dfa404835c" prefix=" " category="inline-code"></block> ます。は <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。例：</block>
  <block id="cc521566488a10cf8501d9a7e81eea52" category="list-text"><block ref="96ae466a1ed6e4c6cc396947ecee1554" prefix="" category="inline-code"></block> イメージがすべて1つのレジストリに格納されている場合。</block>
  <block id="8fdb8bf29e9c249738db26ee91c289c9" category="list-text"><block ref="726fe283c996ea78fa98760e521a4c5f" prefix="" category="inline-code"></block> TridentイメージがCSIイメージとは別のレジストリにある場合。</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">ステップ4：Tridentオペレータを導入</block>
  <block id="4488449936bc789dc4dfb6a7887b3533" category="paragraph">Astra Tridentインストーラには、オペレータのインストールや関連オブジェクトの作成に使用できるバンドルファイルが用意されています。このバンドルファイルを使用すると、オペレータを簡単に導入し、デフォルトの設定でAstra Tridentをインストールできます。</block>
  <block id="5e2619e85dc9af38c2b7180c37168571" category="list-text">クラスタでKubernetes 1.24を実行している場合は、を使用し<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">クラスタでKubernetes 1.25以降を実行している場合は、を使用します<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">デフォルトでは、Tridentインストーラによってネームスペースにオペレータが配置され<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>ます。ネームスペースが存在しない場合は<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>、次のコマンドを使用して作成します。</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">名前空間以外の名前空間にオペレータを配置するには<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block>を使用してバンドルファイルを更新し<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block>生成します<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>。</block>
  <block id="0b9fb37ad5573b24cf369ec73caffe42" category="list-text">次のコマンドを使用して、&lt;bundle.yaml&gt;<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block><block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>のバージョンに基づいてを作成し<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>ます。</block>
  <block id="3d886aa354247002acbb6642625843d1" category="list-text">次のコマンドWHERE__ ISまたは<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>使用している&lt;bundle.yaml&gt;のバージョンに基づいて、バンドルをコンパイルし<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>ます。</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">リソースを作成し、オペレータを配置します。</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">operator、deployment、およびReplicaSetsが作成されたことを確認します。</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes クラスタには、オペレータのインスタンスが * 1 つしか存在しないようにしてください。Trident のオペレータが複数の環境を構築することは避けてください。</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">手順5：<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">は <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。レジストリ構成に基づいて追加のロケーション仕様を追加するには、更新し<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">手順6：を作成<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>してTridentをインストールする</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">Tridentのインストールをカスタマイズ</block>
  <block id="60b02b15eaf058a3b9da12633792321f" category="paragraph">これで、を作成してAstra Tridentをインストールできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。必要に応じて、仕様内の属性をさらに使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>できます<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>。次の例は、TridentイメージとCSIイメージが異なるレジストリにあるインストールを示しています。</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">インストールの確認</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">インストールを確認するには、いくつかの方法があります。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">ステータスの使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">ログをチェックしてください</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>は、インストールが正常に完了したかどうかを示し、インストールされているTridentのバージョンを表示します。インストール中に、のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>がからに<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>変わります<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block>。ステータスを確認し、オペレータが単独で回復できない場合は<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>、を<block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>参照してください。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">ステータス</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">インストール</block>
  <block id="64162845794ff7262e665deec58a84f5" category="cell">オペレータはこのCRを使用してAstra Tridentをインストールしています<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">インストール済み</block>
  <block id="2fe2cc0adf9b69a871d33ba220695cd4" category="cell">Astra Trident のインストールが完了しました。</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">アンインストール中です</block>
  <block id="c27ff0e050a671f2eab32a372c9636bd" category="cell">オペレータがAstra Tridentをアンインストールしています。<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block></block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">アンインストール済み</block>
  <block id="f8a32612e33c768b5fa0dd033d91ce8d" category="cell">Astra Trident がアンインストールされました。</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗</block>
  <block id="273b9a9e933220f1963cbac7a7a46645" category="cell">オペレータは Astra Trident をインストール、パッチ適用、更新、またはアンインストールできませんでした。オペレータはこの状態からのリカバリを自動的に試みます。この状態が解消されない場合は、トラブルシューティングが必要です。</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">更新中</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">オペレータが既存のインストールを更新しています。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">エラー</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">は<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>使用されません。別のファイルがすでに存在します。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">ポッドの作成ステータスを使用する</block>
  <block id="726f87e7b7987ccf71570849c59ae750" category="paragraph">作成したポッドのステータスを確認することで、Astra Tridentのインストールが完了したかどうかを確認できます。</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">使用方法<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="af78a296b63187cfcb391c6b5b7ab9ae" category="paragraph">を使用して、インストールされているAstra Tridentのバージョンを確認できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f032a385b0ce5fcf6464cead04cd3018" category="summary">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">Tridentオペレータを手動で導入（標準モード）</block>
  <block id="b6d3bf16e1407232f27db7edf1b1aeb2" category="paragraph">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。プライベートイメージレジストリがある場合は、を使用し<block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>ます。</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">インストールを開始する前に、Linuxホストにログインし、動作中のを管理していること、および必要なPrivilegesが揃っていることを確認し<block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>ます。</block>
  <block id="baa9ad279e74fa4534c3259cbc91b518" category="paragraph">カスタムリソース定義（CRD）を作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。後でカスタムリソースを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。の適切なCRD YAMLバージョンを使用して<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>CRDを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">ステップ3：Tridentオペレータを導入</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">手順4：を作成<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>してTridentをインストールする</block>
  <block id="70e42312f50f2ab1f64d8045ef7bee39" category="paragraph">これで、を作成してAstra Tridentをインストールできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。必要に応じて、仕様内の属性を使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>できます<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>。</block>
  <block id="7a958030f69f08aa24ff2b440556c305" category="summary">を使用してAstra Tridentをインストールでき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。このプロセスでは、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されているかどうかに関係なく、環境 のインストールを実行します。</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">tridentctlを使用してインストールします</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="inline-link-macro">tridentctl 展開をカスタマイズします</block>
  <block id="9b809d56a3bb0caddcd0793e74d8e636" category="paragraph">を使用してAstra Tridentをインストールでき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。このプロセスでは、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されているかどうかに関係なく、環境 のインストールを実行します。配置をカスタマイズするには<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、を参照してください<block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレード</block>
  <block id="61697702c419c08b19643e7defded065" category="section-title">以下を使用してAstra Tridentをインストール<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="8e00e0acac84eb708bf35882acdffca9" category="paragraph">Astra Tridentインストーラパッケージは、Tridentポッドを作成し、そのステートを維持するために使用されるCRDオブジェクトを設定し、CSIサイドカーを初期化して、プロビジョニングやクラスタホストへのボリュームの接続などのアクションを実行します。からTridentインストーラの最新バージョンをダウンロードして展開し<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。例では、選択した&lt;trident-installer-XX.XX.X.tar.gz&gt; Tridentバージョンを使用してupdate_Tridentを更新します。</block>
  <block id="4fba6bba4e54639c0f1d19c0a5679833" category="section-title">手順2：Astra Tridentをインストールする</block>
  <block id="c0e89c01626a7378d795a618051fccbf" category="paragraph">コマンドを実行して、目的のネームスペースにAstra Tridentをインストールします<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>。追加の引数を追加して、イメージのレジストリの場所を指定できます。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準モード</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">インストールステータスは次のようになります。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">ポッドの作成ステータスまたはを使用してインストールを確認できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">デバッグモードをオンにします</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">インストーラーが正常に完了しない場合、または <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block>23.01より前のバージョンでは* Running *ステータスがない場合、<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block>プラットフォームはインストールされていません。を使用し<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block>て、問題のトラブルシューティングを行います。</block>
  <block id="9a9da6e778ab07cf0f1fe8db100e7e75" category="paragraph">次の例は、を使用してAstra Tridentをインストールするための設定例<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。</block>
  <block id="d5999fd61d148b96e54f154a54ffead5" category="example-title">Windowsノオト</block>
  <block id="f53514cf8829a41463c245b088ae732e" category="paragraph">WindowsノードでAstra Tridentを実行できるようにするには、次の手順を実行します。</block>
  <block id="ecb7d1d46da3859c69f45b619ace746a" category="example-title">強制的に切り離し</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">強制切り離しの詳細については、を参照してください<block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>。</block>
  <block id="324e584edb971a95594d9f53d3cd5b56" category="summary">Astra Tridentは、Tridentオペレータ（手動またはHelmを使用）またはでインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="32a389c0498b062693ada7b4b9ac88d7" category="paragraph">ネットアップでは、Astra Tridentをさまざまな環境や組織に導入できるように、複数のインストールオプションを提供しています。Astra Tridentは、Tridentオペレータ（手動またはHelmを使用）またはでインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">インストールパスに関係なく、次のものが必要です。</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">サポートされているバージョンのKubernetesと機能の要件を有効にして実行されている、サポートされるKubernetesクラスタに対するすべての権限。詳細については、を参照して<block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block>ください。</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">サポートされているネットアップストレージシステムへのアクセス。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">Kubernetesワーカーノードすべてからボリュームをマウントできます。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">使用するKubernetesクラスタを管理するように設定された（OpenShiftを使用している場合は<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>）Linuxホスト<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text"><block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>Kubernetesクラスタ構成を指すように設定された環境変数。</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">CLI へのアクセスを有効にする手順は、ユーザが行ってください</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">KubernetesをDocker Enterpriseで使用している場合は、を参照してください<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>。</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="f73c8e5f81fc3213cf0bc8c399979852" category="admonition">に慣れていない場合は<block ref="0342248ee22d08eaf42465a29ddd67ec" category="inline-link-macro-rx"></block>、今すぐそれを行うのに最適な時期です。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">インストール方法を選択します</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">メソッド間を移動しています</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">適切なインストール方法を選択します。また、決定を下す前に、の考慮事項も確認しておく必要があります<block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block>。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">Trident演算子を使用する</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">Tridentのオペレータ環境をカスタマイズ</block>
  <block id="938620f641cb8e0eead448105ff52780" category="paragraph">Tridentのオペレータは、手動で導入する場合でも、Helmを使用する場合でも、Astra Tridentのリソースを動的に管理して簡単にインストールできます。カスタムリソース（CR）の属性を使用する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>こともできます<block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block>。</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">Tridentオペレータには次のようなメリットがあります。</block>
  <block id="636fc797e6d4f9b558107df8ad867cc7" category="example-title">&lt;strong&gt; Astra Tridentオブジェクト作成&lt;/strong&gt;</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Tridentオペレータが、Kubernetesのバージョンに応じて次のオブジェクトを自動的に作成します。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">オペレータのサービスアカウント</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">ClusterRoleおよびClusterRoleBindingをサービスアカウントにバインドする</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">専用のPodSecurityPolicy（Kubernetes 1.25以前用）</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">演算子自体</block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">&lt;strong&gt;リソースアカウンタビリティ&lt;/strong&gt;</block>
  <block id="1e208b01b50ff4accf1a23f62c0926e1" category="paragraph">クラスタを対象としたTridentオペレータは、Astra Tridentインストールに関連するリソースをクラスタレベルで管理します。これにより、ネームスペースを対象とした演算子を使用してクラスタを対象としたリソースを管理する際に発生する可能性のあるエラーを軽減できます。これは、自己修復とパッチ適用に不可欠です。</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt; 自己回復機能&lt;/strong&gt;</block>
  <block id="1505039bc5aa0b8285d451e49fba843e" category="paragraph">OperatorはAstra Tridentのインストールを監視し、導入が削除されたときや誤って変更された場合などの問題に対処するための手段をアクティブに講じます。<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block>CRをAstra Tridentのインストール環境に関連付けるポッドが作成され<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。これにより、クラスタ内にAstra Tridentのインスタンスが1つだけ存在し、そのセットアップを制御することで、インストールがべき等の状態であることを確認できます。インストールに変更が加えられると（展開またはノードのデミスタなど）、オペレータはそれらを識別し、個別に修正します。</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt; は、インストール済みの既存の&lt;/strong&gt; を簡単に更新できます</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">既存の展開をオペレータと簡単に更新できます。CRを編集してインストールを更新するだけで<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>済みます。</block>
  <block id="561b04cbccb34a376c360e7325ad76d0" category="paragraph">たとえば、 Astra Trident を有効にしてデバッグログを生成する必要があるシナリオを考えてみましょう。これを行うには、を<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>次のように設定し<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block>ます。</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">が更新されると<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、オペレータは更新を処理し、既存のインストールにパッチを適用します。これにより、新しいポッドが作成され、それに応じてインストールが変更される可能性があります。</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt;クリーン再インストール&lt;/strong&gt;</block>
  <block id="ae2cbb250a37c9e09570ff02857e4cbe" category="paragraph">クラスタを対象としたTridentオペレータを使用すると、クラスタを対象としたリソースを完全に削除できます。Astra Tridentを完全にアンインストールして簡単に再インストールできます。</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt; Kubernetesの自動アップグレード処理&lt;/strong&gt;</block>
  <block id="f456a413d0506028374e871768a5f176" category="paragraph">Kubernetes バージョンのクラスタをサポート対象バージョンにアップグレードすると、オペレータが既存の Astra Trident インストールを自動的に更新し、 Kubernetes バージョンの要件を確実に満たすように変更します。</block>
  <block id="d1aae6ea63eb5e7fe6a9fcea5f671406" category="admonition">クラスタがサポート対象外のバージョンにアップグレードされた場合、オペレータによって Astra Trident はインストールされません。Astra Trident がすでにオペレータとともにインストールされている場合、サポート対象外の Kubernetes バージョンに Astra Trident がインストールされていることを示す警告が表示されます。</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用したインストール</block>
  <block id="1a2de31d648d8c09e5c2a9257a5ad67b" category="paragraph">アップグレードが必要な既存の導入環境がある場合、または導入環境を高度にカスタマイズする場合は、を検討する必要があります<block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>。これは、従来の方法であった Astra Trident を導入する方法です。</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; のインストールをカスタマイズします</block>
  <block id="40beff6895ce0eeff65f9568dd5c7247" category="paragraph">Tridentリソースのマニフェストを生成できます<block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>。導入、開始、サービスアカウント、 Astra Trident がインストールの一部として作成するクラスタロールが含まれます。</block>
  <block id="cb024a74bf03f9ba7a9433337492808e" category="admonition">22.04 リリース以降、 Astra Trident がインストールされるたびに AES キーが再生成されなくなりました。今回のリリースでは、 Astra Trident がインストールする新しいシークレットオブジェクトが、インストール全体で維持されます。つまり、<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>22.04では以前のバージョンのTridentをアンインストールできますが、以前のバージョンでは22.04のインストールをアンインストールできません。適切なインストール方法_を選択します。</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">インストールモードを選択します</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">組織で必要な_インストールモード_（標準、オフライン、またはリモート）に基づいて導入プロセスを決定します。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準インストール</block>
  <block id="2de7b81fa5e55c649aed923c069d97fa" category="paragraph">これは、Astra Tridentをインストールする最も簡単な方法であり、ネットワークの制限を課すことのないほとんどの環境で機能します。標準インストールモードでは、デフォルトのレジストリを使用して<block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>、必要なTrident（およびCSI<block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>）イメージを格納します。</block>
  <block id="bed44ad15130067b96b51ba770e3e821" category="paragraph">標準モードを使用すると、Astra Tridentインストーラは次のように動作します。</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">インターネット経由でコンテナイメージを取得します</block>
  <block id="2a35874c002d31bf8a669cf5f15508f2" category="list-text">導入環境またはノードのデプロイを作成し、Kubernetesクラスタ内のすべての対象ノードでAstra Tridentポッドがスピンアップします</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">オフラインインストール</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">オフラインインストールモードは、エアギャップまたは安全な場所で必要になる場合があります。このシナリオでは、必要なTridentイメージとCSIイメージを格納するために、1つのプライベートなミラーリングされたレジストリ、または2つのミラーリングされたレジストリを作成できます。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">CSIイメージは、レジストリ設定に関係なく、1つのレジストリに存在する必要があります。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">リモートインストール</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">次に、リモートインストールプロセスの概要を示します。</block>
  <block id="37dbca6cb8ca55a471ebc072575c0a46" category="list-text">Astra Tridentを導入するリモートマシンに、適切なバージョンのを導入します<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">Kubernetesクラスタから構成ファイルをコピーし、リモートマシンで環境変数を設定し<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">コマンドを開始し<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>て、必要なKubernetesクラスタに接続できることを確認します。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">標準のインストール手順を使用して、リモートマシンからの導入を完了します。</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">メソッドとモードに基づいてプロセスを選択します</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">決定が終わったら、適切なプロセスを選択します。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">方法</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">インストールモード</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Tridentのオペレータ（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Tridentオペレータ（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準インストールまたはオフラインインストール</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">インストール方法を切り替える</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">インストール方法を変更することもできます。その前に、次の点を考慮してください。</block>
  <block id="a2f9fc61dcbb8d315328956b20ee41f8" category="list-text">Astra Tridentのインストールとアンインストールには、常に同じ方法を使用します。を使用してを導入した場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、適切なバージョンのバイナリを使用してAstra Tridentをアンインストールする必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。同様に、オペレータを使用して導入する場合は、CRを編集し、Astra Tridentをアンインストールするようにを設定する<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="aa7d43663995cc5a82e0608e61443ac2" category="list-text">オペレータベースの導入環境を削除してAstra Tridentの導入に使用する場合<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>は、まずAstra Tridentを編集し、アンインストールするようにを設定する<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。次に、とオペレータの配置を削除し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。その後、を使用してをインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="e77325ac6e155cf5d14c756f1d64333f" category="list-text">オペレータベースの手動導入環境で、HelmベースのTridentオペレータ環境を使用する場合は、最初に手動でオペレータをアンインストールしてからHelmインストールを実行する必要があります。これにより、 Helm は必要なラベルとアノテーションを使用して Trident オペレータを導入できます。これを行わないと、 Helm ベースの Trident オペレータの導入が失敗し、ラベル検証エラーとアノテーション検証エラーが表示されます。ベースのデプロイメントを使用している場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、問題なくHelmベースのデプロイメントを使用できます。</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">その他の既知の設定オプション</block>
  <block id="ffedfe711d36cdc8c41927063ae77027" category="paragraph">VMware Tanzu Portfolio 製品に Astra Trident をインストールする場合：</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">クラスタが特権ワークロードをサポートしている必要があります。</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text"><block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>フラグはkubeletディレクトリの場所に設定する必要があります。デフォルトはです<block ref="a926643d94a7dbc3362b17c2ed8a3f12" prefix=" " category="inline-code"></block>。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">を使用してkubeletの場所を指定する<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>ことは、Trident Operator、Helm、および配置で機能することがわかってい<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">Trident へのシンプルなアクセスを提供するコマンドラインユーティリティである tridentctl の詳細を確認できます。</block>
  <block id="33f303ad0b29d475a0073745e59cb43b" category="doc">Tridentctlを使用したAstra Tridentの管理</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident インストーラバンドル</block>
  <block id="2132f5bed79dd8ecd8d0c512bc60ddb6" category="paragraph">には<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block>、Astra Tridentに簡単にアクセスできるコマンドラインユーティリティが含まれてい<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。十分な権限を持つKubernetesユーザは、この権限を使用してAstra Tridentをインストールしたり、Astra Tridentポッドを含むネームスペースを管理したりできます。</block>
  <block id="497769c5c03818fffe81b6190ec47c82" category="section-title">コマンドとグローバルフラグ</block>
  <block id="66fa8a46aff90f5c8507c33a1cdc3e3f" category="paragraph">を実行して使用可能なコマンドのリストを取得<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>したり、任意のコマンドにフラグを追加して特定のコマンドのオプションとフラグのリストを取得したり<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>できます<block ref="d7948c15bebd1e81a58fa7c99888c9c6" prefix=" " category="inline-code"></block>。</block>
  <block id="ee4805b45f3a791791c675c82c73c1b6" category="paragraph"><block ref="081bcd7924bd528b9799fd1b1389158c" prefix="" category="inline-code"></block></block>
  <block id="bc65fa55530131a97d445def1681b8bf" category="paragraph">Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ユーティリティでは、次のコマンドとグローバルフラグがサポートされます。</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="example-title">コマンド</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="list-text"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="62b14aaaaebc6fa2ec22e0cc8c7ef1cb" category="list-text">Astra Tridentにリソースを追加</block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="dbc0d6f0c9ce361f817a27fb9b05aefd" category="list-text">Astra Tridentから1つ以上のリソースを削除します。</block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="list-text"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="8135f32a4f6b4dc83a7db9106b0a0c7f" category="list-text">Astra Tridentから1つ以上のリソースを入手します。</block>
  <block id="c6a354ad100a80a11b5358549fa08956" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block></block>
  <block id="b6886cb9d8320f0522485af2d7b5e732" category="list-text">任意のコマンドに関するヘルプ。</block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="list-text"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="2c7628b8b592bbb7f1d39011699a3b5b" category="list-text">Astra Tridentが必要とするコンテナイメージの表を出力します。</block>
  <block id="99ff05be0d0e797b4814ab264d1555b7" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block></block>
  <block id="c9cd3bacdbe091fa2ee3abdc952e359c" category="list-text">既存のリソースをAstra Tridentにインポート</block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="list-text"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="9e2a7f44aa27cc7ead915762de91e605" category="list-text">Astra Trident をインストール</block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="list-text"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="7380fb2a9615c98a1c8c7e204235ab70" category="list-text">Astra Tridentからログを出力</block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="list-text"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="dc732d50c228fea6932368f938613ef3" category="list-text">Astra Tridentからリソースを送信</block>
  <block id="555579504007b3921e461a91630615a5" category="list-text">Astra Tridentをアンインストールします。</block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="list-text"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="ff098c78714ea4001cf9ec0648c2b09f" category="list-text">Astra Tridentでリソースを変更</block>
  <block id="1f46b6519384cf9cc5d7893457ab6e9c" category="list-text"><block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix="" category="inline-code"></block></block>
  <block id="92cde4054a93fe29af6357539b327494" category="list-text">バックエンド処理を一時的に中断します。</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="8d4f4b40e3996aee2532c9e92bbe9e32" category="list-text">Astra Tridentでリソースをアップグレード</block>
  <block id="1bf16abf4ed15883a87ff56a7ab29d06" category="list-text">Astra Tridentのバージョンを出力します。</block>
  <block id="12d9bb0959755423ba2fc4a4d349ee90" category="example-title">グローバルフラグ</block>
  <block id="a54f86a6d882e5b4c1560087bb3d23fe" category="list-text"><block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>、<block ref="b47e5fb843a641159b90a001a614119c" prefix=" " category="inline-code"></block></block>
  <block id="f984c283566ffcc330d2055e568c2bc4" category="list-text">デバッグ出力。</block>
  <block id="aa8575d70709b06761f70e7aa773dccd" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block></block>
  <block id="cbaa0d88e3069707dc20abca170c009e" category="list-text">のヘルプ<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="301f920ee13f1cef29f1c14dacf94c4b" category="list-text"><block ref="ff2bddd61609f26dc3255408781890ad" prefix="" category="inline-code"></block>、<block ref="a4b374188b5bbba3f37deccc51421bd4" prefix=" " category="inline-code"></block></block>
  <block id="4927d7c110c03787d6a128bc5245a451" category="list-text">コマンドをローカルまたはKubernetesクラスタ間で実行するパスを指定します<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>。</block>
  <block id="9858b15df593f3960e8b74b5eb680bf0" category="admonition">または、変数をエクスポートして特定のKubernetesクラスタをポイントし、そのクラスタに対してコマンドを実行する<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>こともできます<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>。</block>
  <block id="6e25615e543a74d4a5ea9c21cda4b604" category="list-text"><block ref="9cefd96d40d0ee1256c8eff1def0312d" prefix="" category="inline-code"></block>、<block ref="3be3a69890f8609a06ed69c980bdf3ed" prefix=" " category="inline-code"></block></block>
  <block id="fd42c450cd4f5dc96ce7df3121f45355" category="list-text">Astra Trident導入のネームスペース。</block>
  <block id="e9fe902fae54aee02c0226a1cd4ef93e" category="list-text"><block ref="b2ed43620b7fff2689035f1e99c24ded" prefix="" category="inline-code"></block>、<block ref="fde021f6d95feede78ab3d390365d552" prefix=" " category="inline-code"></block></block>
  <block id="fc070ca332d823236f678c78abc58ee2" category="list-text">出力形式。JSON の 1 つ | yaml | name | wide | ps （デフォルト）。</block>
  <block id="51b3c65bb68baeb2ef94eb128afdc270" category="list-text"><block ref="406381251d2d4637ebfac7f24cc49c6f" prefix="" category="inline-code"></block>、<block ref="b59778b847581570efb244355a6aa704" prefix=" " category="inline-code"></block></block>
  <block id="e6e274388f86113a19533b5074063ff0" category="list-text">Astra Trident RESTインターフェイスのアドレス/ポート。</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST インターフェイスは、 127.0.0.1 （ IPv4 の場合）または [::1] （ IPv6 の場合）のみをリスンして処理するように設定できます。</block>
  <block id="1c36a7e67198ff73665408726652a4c3" category="section-title">コマンドオプションとフラグ</block>
  <block id="76ea0bebb3c22822b4f0dd9c9fd021c5" category="section-title">作成</block>
  <block id="ec3361fd829536ea174f7b895c7c718f" category="paragraph">コマンドを使用し<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>て、Astra Tridentにリソースを追加します。</block>
  <block id="1183069eacde609c309c6652f2abbc57" category="paragraph"><block ref="4bf60056ad290949d881334e46fe9fc1" prefix="" category="inline-code"></block></block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-text">オプション</block>
  <block id="8a784632d4ad43e3c226941ed2cc26a5" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Astra Tridentにバックエンドを追加します。</block>
  <block id="099af53f601532dbd31e0ea99ffdeb64" category="section-title">削除</block>
  <block id="e61ffe76ccfdc73a94b6aa5f7e2c9956" category="paragraph">コマンドを使用し<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>て、Astra Tridentから1つ以上のリソースを削除します。</block>
  <block id="28b6c04534d74299209efef5ba8ed0e0" category="paragraph"><block ref="f8e353bd7af0b2adee08bd2cfca86ee4" prefix="" category="inline-code"></block></block>
  <block id="ac40973e88d4217f001ba0c4f6d2f7c8" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Astra Tridentから1つ以上のストレージバックエンドを削除します。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のボリュームSnapshotを削除します。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のストレージクラスを削除します。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のストレージボリュームを削除します。</block>
  <block id="b5eda0a74558a342cf659187f06f746f" category="section-title">取得</block>
  <block id="457c14f5f39c9b6b6ce9fe07a2e55ace" category="paragraph">コマンドを使用し<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>て、Astra Tridentから1つ以上のリソースを取得します。</block>
  <block id="3880097e6e3ace364060bd1a3502034a" category="paragraph"><block ref="5af35d698576fbd6e910714628ae9a91" prefix="" category="inline-code"></block></block>
  <block id="f97fced97d05d71127f797cfd4843cab" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Astra Tridentから1つ以上のストレージバックエンドを取得します。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のSnapshotを取得します。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のストレージクラスを取得します。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：Astra Tridentから1つ以上のボリュームを取得します。</block>
  <block id="4ea7801f17a4e5485e8b050c052fb443" category="list-text">フラグ</block>
  <block id="fbb9ff314555260bd6ce75e7fefe007a" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ボリュームのヘルプ。<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>：クエリを下位のソースボリュームに制限します。<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>:クエリをボリュームの下位に限定します。</block>
  <block id="59b514174bffe4ae402b3d63aad79fe0" category="section-title">イメージ</block>
  <block id="47a87c81b9ad1216f19e68cf38c994bc" category="paragraph">フラグを使用して、Astra Tridentが必要とするコンテナイメージの表を出力します<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block>。</block>
  <block id="15e57263073fbab8a5c17df2199514fa" category="paragraph"><block ref="1a4565f84c3ef7acc3e88c3af0bf4b12" prefix="" category="inline-code"></block></block>
  <block id="8373216d773ee6fe75393fa84e1e92c6" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：画像のヘルプ。<block ref="47fa03ef5536c5573b137cec5adc2d39" prefix=" " category="inline-code"></block>、<block ref="afb81ccdb6e6d78674d516ee32b89981" prefix=" " category="inline-code"></block>：Kubernetesクラスタのセマンティックバージョン。</block>
  <block id="f6c534966bc7687e0c87134d025f8837" category="section-title">ボリュームをインポートします</block>
  <block id="d5c076c3797412b98be375c1116ce267" category="paragraph">コマンドを使用し<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block>て、既存のボリュームをAstra Tridentにインポートします。</block>
  <block id="7627836f99f91110fe4d92a0cf45f490" category="paragraph"><block ref="9fe05f98df27b42476862d09511bd0d7" prefix="" category="inline-code"></block></block>
  <block id="9ab81f57823f6aeb02362291f23883e6" category="list-text">エイリアス</block>
  <block id="501eadc7c3c034b710e1a4d2a417bbce" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>、<block ref="9e3669d19b675bd57058fd4664205d2a" prefix=" " category="inline-code"></block></block>
  <block id="346218c412dda8bcf2f8fc06030abee5" category="list-text"><block ref="5338b151154663bac9980b0f044518f2" prefix="" category="inline-code"></block>,:<block ref="33781a1644c3eb60bb229660536cb79b" prefix=" " category="inline-code"></block> YAMLまたはJSON PVCファイルへのパス。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ボリュームのヘルプ。<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>：PV/PVCのみを作成します。ボリュームのライフサイクル管理を想定しないでください。</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="section-title">インストール</block>
  <block id="04a576baa8ce15dc5ae539732102d052" category="paragraph">フラグを使用し<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block>てAstra Tridentをインストール</block>
  <block id="1adc393db1e6b77c875ecd4c669772ec" category="paragraph"><block ref="190ae106b0b18c5bb8b5f3bdc39dacb9" prefix="" category="inline-code"></block></block>
  <block id="7f79a5652784ee17b5adefee6de0671f" category="list-text"><block ref="88e6af50844241df09da1b4f0fed0dc1" prefix="" category="inline-code"></block>：AutoSupportテレメトリのコンテナイメージ（デフォルトは「NetApp / Trident AutoSupport：&lt;current-version&gt;」）。<block ref="21e377b6d1724ef73707d1b42de99ab3" prefix=" " category="inline-code"></block>: AutoSupportテレメトリを送信するためのプロキシのアドレス/ポート。<block ref="8ef3d4e948c6061ad15793e3bfd2660f" prefix=" " category="inline-code"></block>：必要なパッケージをノードにインストールしようとします。<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>:何もインストールせずにYAMLファイルを生成します。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：インストールのヘルプ。<block ref="a6bd80a942dd6d1c4d4b8aa4bd064415" prefix=" " category="inline-code"></block>：TridentコントローラのREST APIのHTTP要求タイムアウトを上書きします（デフォルトは1m30秒）。<block ref="22f97752ec243e2f8fb13a584ff48f0d" prefix=" " category="inline-code"></block>:内部イメージレジストリのアドレス/ポート。<block ref="af58b91b0e366d67d75550c28c8b73bd" prefix=" " category="inline-code"></block>：すべてのKubernetes処理のタイムアウト（デフォルトは3m0）。<block ref="931fef57514fa5bc71c5c9784dcb35b2" prefix=" " category="inline-code"></block>: kubeletの内部状態のホストの場所(デフォルトは/var/lib/kubelet )。<block ref="ad595b91ed4748510a60df1c00ce5bd6" prefix=" " category="inline-code"></block>：Astra Tridentのロギング形式（テキスト、JSON）（デフォルトは「text」）。<block ref="120a4fcacf73dd87df1de81c4d7a2526" prefix=" " category="inline-code"></block>：Astra Tridentで使用する従来のPVの名前。makes sure this doesn't exist（デフォルトは「Trident」）<block ref="12ea064968b15f51e1c1a7444fe9f227" prefix=" " category="inline-code"></block>：Astra Tridentで使用される従来のPVCの名前。makes sure this doesn't exist（デフォルトは「Trident」）<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block>: AutoSupportバンドルをNetAppに自動的に送信しないでください(デフォルトはTRUE )。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>:インストール中にMOST出力を無効にします。<block ref="356c2fa7142c3aee4cd6204d96ea0890" prefix=" " category="inline-code"></block>：インストールするAstra Tridentイメージ。<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block>:セットアップディレクトリに存在する既存のYAMLファイルを使用します。<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block>：Astra Tridentの通信にIPv6を使用します。</block>
  <block id="2165e4fa5bddb65a31f6a0c495c2fa37" category="section-title">ログ</block>
  <block id="c77cc7bebbafc08f65ea0b6a6ccc6a6c" category="paragraph">フラグを使用してAstra Tridentからログを出力します<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block>。</block>
  <block id="0fc4d21e21006115d42b2d6aa4451ffa" category="paragraph"><block ref="8815a52aa2be7be3d51559b2366dc8e1" prefix="" category="inline-code"></block></block>
  <block id="794faa9e9c52721685104168b9ae7cdc" category="list-text"><block ref="37caf0ee262229a9ddc60877eec6883f" prefix="" category="inline-code"></block>、<block ref="33a12b543204974f74acd94de699324e" prefix=" " category="inline-code"></block>：特に指定がないかぎり、すべてのログを含むサポートアーカイブを作成します。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ログのヘルプ。<block ref="269889131ee4793a82191b78a2eb60e3" prefix=" " category="inline-code"></block>、<block ref="e1db966b8a9ad737de7da72be15dcfc3" prefix=" " category="inline-code"></block>：表示するAstra Tridentのログ。Trident | auto | Trident - operator | allのいずれか（デフォルトは「auto」）。<block ref="60cfbca684c147d47b652c83c9617370" prefix=" " category="inline-code"></block>：ノードポッドログの収集元となるKubernetesノード名。<block ref="b3868ba70a8f4cf55464dd9926381db1" prefix=" " category="inline-code"></block>,:<block ref="a29a0e1222e48537fee91cff87dcb786" prefix=" " category="inline-code"></block>以前のコンテナインスタンスが存在する場合は、そのインスタンスのログを取得します。<block ref="2c82c1731bc7980f276a26037aa42ec1" prefix=" " category="inline-code"></block>:サイドカーコンテナのログを取得します。</block>
  <block id="2541d938b0a58946090d7abdde0d3890" category="section-title">送信</block>
  <block id="0b06aeef6e509551128fa11818ac91e5" category="paragraph">コマンドを使用し<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block>て、Astra Tridentからリソースを送信します。</block>
  <block id="6faa54b930cd3447550e2f6a2be621bb" category="paragraph"><block ref="c68774a474a551b5788d1c1e26d3dcd0" prefix="" category="inline-code"></block></block>
  <block id="48df24d35784c5df52ab82ba6f257549" category="list-text"><block ref="ee64de1ad50d8209e64ee58b23e27986" prefix="" category="inline-code"></block>：AutoSupportアーカイブをNetAppに送信します。</block>
  <block id="fe98497efedbe156ecc4b953aea77e07" category="section-title">アンインストール</block>
  <block id="c9778d010d6895509410d6cf3c89f758" category="paragraph">フラグを使用し<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>てAstra Tridentをアンインストールします。</block>
  <block id="bab5bdd673e8007bb1451ff83f2d7fbf" category="paragraph"><block ref="f74e9b644f442240b768be80cfac9840" prefix="" category="inline-code"></block></block>
  <block id="ba491d35780f4d2becc7847117f59c9d" category="list-text"><block ref="60072fc2fad0d30fc656850e04c7433f" prefix="" category="inline-code"></block>:アンインストールのヘルプ。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>:アンインストール中にほとんどの出力を無効にします。</block>
  <block id="3ac340832f29c11538fbe2d6f75e8bcc" category="section-title">更新</block>
  <block id="be7828d51b2b3fc57e04a809a90e7888" category="paragraph">Astra Tridentでリソースを変更するには、コマンドを使用し<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8020758b80cef903a0b06e0083b2a43b" category="paragraph"><block ref="8894c4db9cf5d5ac9d439434e0994407" prefix="" category="inline-code"></block></block>
  <block id="7ba1d27fa35494b14e8b8ebe111dd6c3" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Astra Tridentのバックエンドを更新します。</block>
  <block id="2424c0d4857ddcc30f1aabda7294d84f" category="section-title">バックエンドの状態を更新</block>
  <block id="26cdb30fb70d63515b796135d1481235" category="paragraph">バックエンド処理を一時停止または再開するには、コマンドを使用し<block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a8692aa823f016402f6459f92e2c343c" category="paragraph"><block ref="1327c48297ec159839f95302f8885592" prefix="" category="inline-code"></block></block>
  <block id="60e3300406400d9ca307bbe9538cb66f" category="list-title">考慮すべきポイント</block>
  <block id="ce48e23c21c781fc1bd260f1c6bbd0e9" category="list-text">TridentBackendConfig（tbc）を使用してバックエンドを作成した場合、ファイルを使用してバックエンドを更新することはできません<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 。</block>
  <block id="965425a47916235e6c935104c9e64bca" category="list-text">がtbcに設定されている場合<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> は、コマンドを使用して変更することはできません<block ref="ce232749b55d6999ffb5cc1feb6c69fe" prefix=" " category="inline-code"></block> 。</block>
  <block id="d3019d31f7c660d73324a9dd386d7189" category="list-text">tbcで設定されたvia tridentctlを再び設定するには<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 、<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> tbcからフィールドを削除する必要があります。これは、コマンドを使用して実行でき<block ref="d8d9eaf9706e633cb1e715e88dfbe301" prefix=" " category="inline-code"></block> ます。フィールドを削除したら<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 、コマンドを使用してバックエンドのを変更できます<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block><block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 。</block>
  <block id="6969443eb58685fd2ba47dd82c688dfb" category="list-text">を使用して<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block> を変更し<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>ます。またはファイルを使用して更新することもでき<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ます。これにより、バックエンドの完全な再初期化がトリガーされ、時間がかかる場合があります。</block>
  <block id="0e43bd2bbbbfb114e0df26c0544f5608" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>,:<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>バックエンド状態のヘルプ。<block ref="2be951e4c83b3373b0b76554fd93bb4a" prefix=" " category="inline-code"></block>：バックエンド処理を一時停止するには、に設定します<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>。バックエンド処理を再開するには、をに設定し<block ref="fea087517c26fadd409bd4b9dc642555" prefix=" " category="inline-code"></block>ます。に設定されている場合<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>：</block>
  <block id="b2b04010a7e4a8486d987f6e074cde45" category="list-text"><block ref="befb9ef08cd8fda4bc507ccd6a523a43" prefix="" category="inline-code"></block><block ref="301cd7c7419443b2c9c5d87f6865f0cb" prefix=" " category="inline-code"></block> 一時停止しています。</block>
  <block id="15ba7f861a25848aeb7a04303194c22a" category="list-text"><block ref="c76dd551d0df4615489f4840c234db4e" prefix="" category="inline-code"></block>、<block ref="4956c0b34c154301cbe111d75fb939f9" prefix=" " category="inline-code"></block>、<block ref="37ca7faad054353aadc61e64e55b4dac" prefix=" " category="inline-code"></block>、<block ref="9a288381ee12262ef127ccbaeb520730" prefix=" " category="inline-code"></block>、、<block ref="db66912e8bdff8f12b8b75883aeb66ef" prefix=" " category="inline-code"></block><block ref="752d336f53e6d74a5e509dd00eb2a627" prefix=" " category="inline-code"></block><block ref="871b40b0d12fe47d3ce4d2bbfa30ccc5" prefix=" " category="inline-code"></block>、、<block ref="4c7dd4b0f1074705d27d812563c98768" prefix=" " category="inline-code"></block>、<block ref="70850d0d4fbd8b67815a4598d5655a4d" prefix=" " category="inline-code"></block>、、<block ref="c4e5752b58b7f7b1c92a5302a0940801" prefix=" " category="inline-code"></block><block ref="7c976338db43771fa6048705880496ea" prefix=" " category="inline-code"></block> 引き続き使用できます。</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="inline-link-macro">バックエンドを管理するためのオプション</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="inline-link-macro">kubectl を使用してバックエンド管理を実行します</block>
  <block id="6ca35db8eab6c30e03e715e99d3c1d11" category="paragraph">バックエンド構成ファイルまたはのフィールドを使用して、バックエンドの状態を更新することもできます<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>。詳細については、およびを参照して <block ref="991ae6fba57a2359d4e338d48b85301c" category="inline-link-macro-rx"></block> <block ref="d39ea29671737dc4c6f8b362e0ace309" category="inline-link-macro-rx"></block>ください。</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">* 例： *</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4c8c9b9d93d68dc932195b1aa0583910" category="paragraph">ファイルを使用してを更新するには、次の手順を実行し<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ます。</block>
  <block id="13cf048f75b63ff6bd6513e6ceb81fe0" category="list-text">ファイルを編集して<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 、値が「中断」に設定されたフィールドを含め<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> ます。</block>
  <block id="90457d836d77c63b0e475cddbb6f1d4c" category="list-text">コマンドと更新されたファイルへのパスを使用して、バックエンドを更新し<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ます。</block>
  <block id="a7c9f5fb8c3dd89cd4acee279df59630" category="paragraph">*例*：<block ref="cc34ac0a771977b41f88a8dac4a25a01" prefix=" " category="inline-code"></block></block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="a0c475f6592b0a660cc2db104d607b3f" category="paragraph">tbcが適用されたら、コマンドを使用して編集できます<block ref="cdf774783c0eec7f2639a3c0d70d29ff" prefix=" " category="inline-code"></block> 。次に、オプションを使用してバックエンド状態をsuspendに更新する例を示し<block ref="c7d1d8826ecea15bd2786371bbe65f70" prefix=" " category="inline-code"></block> ます。</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">バージョン</block>
  <block id="ff5f39bc4c620c3b1ca6b0811177f14c" category="paragraph">フラグを使用して<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block>、および実行中のTridentサービスのバージョンを出力し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4301e504ec5591a4c51fe93e446a7a35" category="paragraph"><block ref="dca46ba7b3ffeb9b51e10f54acbd826d" prefix="" category="inline-code"></block></block>
  <block id="e6e32acf4d56921ac92540101fe00fc9" category="list-text"><block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix="" category="inline-code"></block>:クライアントバージョンのみ(サーバーは必要ありません)。<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>:バージョンのヘルプ。</block>
  <block id="8a384610e551264beec3d337869d4c07" category="summary">Astra Tridentのアンインストールには、Astra Tridentのインストールと同じ方法を使用する必要があります。アップグレード、依存関係の問題、アップグレードの失敗や不完全な完了後に見つかったバグを修正する必要がある場合は、Astra Tridentをアンインストールし、そのバージョンに固有の手順を使用して以前のバージョンを再インストールする必要があります。</block>
  <block id="43f17763173fe230bdd78477152f5f7d" category="doc">Astra Trident をアンインストール</block>
  <block id="801bbd95fd335db15888ddc405e164f2" category="paragraph">Astra Tridentのアンインストールには、Astra Tridentのインストールと同じ方法を使用する必要があります。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="list-title">タスクの内容</block>
  <block id="d4cb2483966fc1e61b1cddfccb87aada" category="list-text">アップグレード、依存関係の問題、アップグレードの失敗または不完全な完了後に見つかったバグの修正が必要な場合は、Astra Tridentをアンインストールし、該当する手順を使用して以前のバージョンを再インストールする必要があります<block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block>。これは、以前のバージョンに_downgrade_toを実行するための唯一の推奨方法です。</block>
  <block id="2a1db8dc71dec3264e9155d610575785" category="inline-link-macro">Astra TridentとCRDを完全に削除</block>
  <block id="5e080b6c391bb7d09718026dab010936" category="list-text">アップグレードと再インストールを簡単に行うため、Astra Tridentをアンインストールしても、Astra Tridentで作成されたCRDや関連オブジェクトは削除されません。Astra Tridentとそのすべてのデータを完全に削除する必要がある場合は、を参照してください<block ref="9d95a644de0932ac2f909a32a488bd14" category="inline-link-macro-rx"></block>。</block>
  <block id="9558f7d0f1d8a03299b4e8190dc99a73" category="paragraph">Kubernetesクラスタの運用を停止する場合は、Astra Tridentで作成されたボリュームを使用するすべてのアプリケーションをアンインストールする前に削除する必要があります。これにより、PVCが削除される前にKubernetesノードで非公開になります。</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">元のインストール方法を決定する</block>
  <block id="d2848b9aec61d145beb9e29296f14e43" category="paragraph">Astra Tridentは、インストール時と同じ方法でアンインストールする必要があります。アンインストールする前に、Astra Tridentの最初のインストールに使用したバージョンを確認します。</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">ポッドの検査に使用し<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block>ます。</block>
  <block id="57e2fc21500db064f15f9f0dd71fac43" category="list-text">オペレータポッドがない場合は、を使用してAstra Tridentをインストールしました<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="32f6915fd282657ead56cf3557648c00" category="list-text">オペレータポッドがある場合、Astra Tridentは手動またはHelmを使用してインストールされています。</block>
  <block id="4b9dbf746fd46d6f3df5db09d61acc78" category="list-text">オペレータポッドがある場合は、を使用<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block>してAstra TridentがHelmを使用してインストールされているかどうかを確認します。</block>
  <block id="2653c4eb88f71c9c09dd63163c3279a3" category="list-text">Helmラベルがある場合は、Helmを使用してAstra Tridentがインストールされています。</block>
  <block id="62813503b38101db99e720ca48a2e384" category="list-text">Helmラベルがない場合は、Astra TridentをTridentオペレータを使用して手動でインストールしています。</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">Tridentオペレータのインストールをアンインストールする</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">Tridentオペレータのインストールは手動でアンインストールすることも、Helmを使用してアンインストールすることもできます。</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">手動インストールのアンインストール</block>
  <block id="4aa76d97b44b3ff21dced31974f437dc" category="paragraph">オペレータを使用してAstra Tridentをインストールした場合は、次のいずれかの方法でアンインストールできます。</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">** CRを編集し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>てアンインストールフラグを設定**：</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">フラグがに設定されて<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>いる場合、<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>TridentオペレータはTridentをアンインストールしますが、TridentOrchestrator自体は削除しません。Trident を再度インストールする場合は、 TridentOrchestrator をクリーンアップして新しい Trident を作成する必要があります。</block>
  <block id="0b5b18e58101a5fdc2d3618c85a04814" category="list-text">**削除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>**：Astra Tridentの導入に使用したCRを削除することで<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、オペレータにTridentをアンインストールするよう指示します。オペレータがの削除処理を行い<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、Astra Tridentの導入とデーモンセットの削除に進み、インストール時に作成したTridentポッドが削除されます。</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">Helmインストールのアンインストール</block>
  <block id="8656f6a3d04342ff6248bd7d32949c2a" category="paragraph">Helmを使用してAstra Tridentをインストールした場合は、を使用してアンインストールできます<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block>。</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">インストールのアンインストール<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="566ef0ea3e228b1c501652e83def2c9d" category="paragraph">CRDと関連オブジェクトを除くAstra Tridentに関連付けられているすべてのリソースを削除するには、のコマンドを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>使用し<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>ます。</block>
  <block id="af35b81563dca040d2036ccc5fdf5cbf" category="summary">Tridentオペレータを使用してAstra Tridentをアップグレードする前に、アップグレード中に発生するバックグラウンドプロセスを理解しておく必要があります。これには、Tridentコントローラ、コントローラポッドとノードポッド、およびローリング更新を可能にするノードデーモンセットに対する変更が含まれます。</block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="doc">オペレータのアップグレードワークフローについて理解する</block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Tridentオペレータのアップグレード処理</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">Tridentオペレータを使用するメリット</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">ローリング更新</block>
  <block id="bec1352836ad67ce44ee000c83d4dae1" category="paragraph">Astra Tridentのインストールとアップグレードに必要なものの1つ<block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block>は、既存のマウントボリュームを停止することなく、Astra TridentとKubernetesのオブジェクトを自動的に処理することです。このようにして、Astra Tridentはダウンタイムなしでアップグレードをサポートできます。<block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block>TridentオペレータはKubernetesクラスタと通信して次のことを行います。</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">Trident Controller環境とノードデーモンセットを削除して再作成します。</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">TridentコントローラポッドとTridentノードポッドを新しいバージョンに置き換えます。</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">更新されていないノードは、残りのノードの更新を妨げません。</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">ボリュームをマウントできるのは、Trident Node Podを実行しているノードだけです。</block>
  <block id="74a95a8eea4566dad9e480f5e1defb1e" category="admonition">KubernetesクラスタのAstra Tridentアーキテクチャの詳細については、を参照してください<block ref="3663c9ca295bfa48935631bb67d2ba2e" category="inline-link-macro-rx"></block>。</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">オペレータのアップグレードワークフロー</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">Tridentオペレータを使用してアップグレードを開始すると、次の処理が実行されます。</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">Trident演算子*：</block>
  <block id="58f8d33affdc8b1877db3f889be3b246" category="list-text">現在インストールされているAstra Tridentのバージョン（version_n_）を検出します。</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">CRD、RBAC、Trident SVCなど、すべてのKubernetesオブジェクトを更新</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">version_n_用のTrident Controller環境を削除します。</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">version_n+1_用のTrident Controller環境を作成します。</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">* Kubernetes *は、_n+1_用にTridentコントローラポッドを作成します。</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">_n_のTridentノードデーモンセットを削除します。オペレータは、Node Podが終了するのを待たない。</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">_n+1_のTridentノードデーモンセットを作成します。</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">* Kubernetes * Trident Node Pod_n_を実行していないノードにTridentノードポッドを作成します。これにより、1つのノードに複数のTrident Node Pod（バージョンに関係なく）が存在することがなくなります。</block>
  <block id="dec54888538ac86f51d29a3d043e6bf6" category="summary">既存の Astra Trident インストールは、オペレータが簡単にアップグレードできます。</block>
  <block id="32427d4abb52de3afcfa06484384e101" category="doc">Trident OperatorまたはHelmを使用してAstra Tridentのインストールをアップグレード</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">アップグレード方法を選択します</block>
  <block id="0f443eb922735ce52f2b490ffca00e49" category="paragraph">Astra Tridentは、Tridentオペレータを使用して手動またはHelmを使用してアップグレードできます。Tridentオペレータのインストールから別のTridentオペレータのインストールにアップグレードすることも、インストールからTridentオペレータのバージョンにアップグレードすることもできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。Trident Operatorのインストールをアップグレードする前にを参照してください<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block>。</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">手動インストールのアップグレード</block>
  <block id="aa33f1094363f0d5dc3ca342e19ec6e0" category="paragraph">クラスタを対象としたTridentオペレータインストールから、クラスタを対象とした別のTridentオペレータインストールにアップグレードできます。すべてのAstra Tridentバージョン21.01以降では、クラスタを対象とした演算子を使用します。</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">インストールされているバージョン</block>
  <block id="4642420c93e6091ce8421e89a16fd80d" category="admonition">ネームスペースを対象としたオペレータ（バージョン20.07~20.10）を使用してインストールされたAstra Tridentからアップグレードするには、Astra Tridentのアップグレード手順を使用します<block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block>。</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">Tridentにはバンドルファイルが用意されています。このファイルを使用して、オペレータをインストールしたり、Kubernetesバージョンに対応する関連オブジェクトを作成したりできます。</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">Bundle_pre_1_25.yaml</block>
  <block id="3681cb6a949adaa435eef8e4e44130da" category="list-text">クラスタでKubernetes 1.24を実行している場合は、を使用し <block ref="7f884d51a61ccc224c466e17ab9ffa62" category="inline-link-macro-rx"></block>ます。</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="b1632461a76a7236b100d52bc4ceeca8" category="list-text">クラスタでKubernetes 1.25以降を実行している場合は、を使用します <block ref="6ffa76a06a9037922171c911583c254c" category="inline-link-macro-rx"></block>。</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">を実行しているKubernetesクラスタを使用していることを確認し<block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>ます。</block>
  <block id="1cb76b1c7887cad1e077a4cbdc765b9b" category="list-text">Astra Tridentのバージョンを確認します。</block>
  <block id="b714bb36b0285d040e315c079c326009" category="list-text">現在の Astra Trident インスタンスのインストールに使用した Trident オペレータを削除たとえば、23.07からアップグレードする場合は、次のコマンドを実行します。</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">属性を使用して初期インストールをカスタマイズした場合<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>は、オブジェクトを編集してインストールパラメータを変更できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。これには、ミラーリングされたTridentおよびCSIイメージレジストリをオフラインモードに指定したり、デバッグログを有効にしたり、イメージプルシークレットを指定したりするための変更が含まれます。</block>
  <block id="8effc3e3bc5321f52d7f4376defdcbf2" category="list-text">環境に適したバンドルYAMLファイルを使用してAstra Tridentをインストールします（_YAMLは、または使用している&lt;bundle.yaml&gt;<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block><block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> のバージョンに基づいています）。たとえば、Astra Trident 24.06をインストールする場合は、次のコマンドを実行します。</block>
  <block id="3ae662c67d403e6230b019a96e787b63" category="paragraph">Astra Trident Helmのインストールをアップグレードできます。</block>
  <block id="e69dee79b2104ff7c08b095e6212f492" category="admonition">Astra TridentがインストールされているKubernetesクラスタを1.24から1.25以降にアップグレードする場合は<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>、クラスタをアップグレードする前に、値.yamlをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定するかコマンドに追加するよう<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block>に更新する必要があります。<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block></block>
  <block id="2776a355e79f6256fa8b6a84044ebc66" category="inline-link-macro">Helmを使用したAstra Tridentのインストール</block>
  <block id="2dd7e74e47b2fea3bc13eda279fe6caa" category="list-text">を使用する <block ref="701383cb184d92daac13becc67e9c1be" category="inline-link-macro-rx"></block>と、を使用してワンステップでアップグレードできます<block ref="aa057bb2523e090dc6e3052f2e88741e" prefix=" " category="inline-code"></block> 。Helmリポジトリを追加しなかった場合、またはHelmリポジトリを使用してアップグレードできない場合は、次の手順を実行します。</block>
  <block id="fd55ae3db3b16ceeb447f43dc713fb27" category="list-text">から最新のAstra Tridentリリースをダウンロードし<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。</block>
  <block id="5ee2aa9c852ae7ab60d98fa6557eea36" category="list-text">コマンドを使用し<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> ます。は、<block ref="2df4ac9ee9ca9af822e7ba15db4c4470" prefix=" " category="inline-code"></block> アップグレード先のバージョンを反映しています。</block>
  <block id="34c5f2f84f16f23213713a6adc11c319" category="admonition">初期インストール時にカスタムオプションを設定した場合（TridentおよびCSIイメージのプライベートなミラーレジストリの指定など）は、を使用してコマンドを追加し<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>、これらのオプションがアップグレードコマンドに含まれていることを確認します。含まれていない場合は、<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block>値がデフォルトにリセットされます。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">を実行し<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>て、チャートとアプリのバージョンの両方がアップグレードされたことを確認します。を実行し<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block>てデバッグメッセージを確認します。</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">インストールからTrident Operatorへのアップグレード<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">インストールからTrident Operatorを最新リリースにアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。既存のバックエンドとPVCは自動的に使用可能になります。</block>
  <block id="733aa7fe5deef27d1cb0828cff0f17bd" category="admonition">インストール方法を切り替える前に、を参照してください<block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block>。</block>
  <block id="3002cfcea36b7fb4d87da4d413730851" category="list-text">最新の Astra Trident リリースをダウンロード</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">マニフェストからCRDを作成し<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block>ます。</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">クラスタを対象としたオペレータを同じネームスペースに導入します。</block>
  <block id="06da281bf5e01c3c59892dc886cd0067" category="list-text">Astra TridentをインストールするためのCRを作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">Tridentが目的のバージョンにアップグレードされたことを確認</block>
  <block id="bb61195308d04e0f919e4f7d6b18c03c" category="summary">Astra Tridentは、リリースサイクルを4カ月に短縮し、メジャーリリースを暦年に3回提供しています。各新しいリリースは、以前のリリースに基づいてビルドされ、新機能とパフォーマンスの強化に加え、バグの修正や改善点が追加されています。Astra Trident の新機能を活用するには、 1 年に 1 回以上アップグレードすることを推奨します。</block>
  <block id="79f9befc26412e1d12559de85967f517" category="paragraph">24.02リリース以降、Astra Tridentのリリースサイクルは4カ月になり、メジャーリリースは暦年に3回提供されます。新しいリリースは、以前のリリースに基づいて構築され、新機能、パフォーマンスの強化、バグの修正、および改善が提供されます。ネットアップでは、Astra Tridentの新機能を活用するために、1年に1回以上アップグレードすることを推奨しています。</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">アップグレード前の考慮事項</block>
  <block id="6224e22d5a77816dd8b659c25a3f88a5" category="paragraph">最新リリースの Astra Trident にアップグレードする際は、次の点を考慮してください。</block>
  <block id="f736607140d617c85245dd139003582e" category="list-text">特定のKubernetesクラスタ内のすべてのネームスペースには、Astra Tridentインスタンスを1つだけインストールする必要があります。</block>
  <block id="4aa39142850a8999e9a4e9350f8bfbe9" category="list-text">Astra Trident 23.07以降では、v1ボリュームSnapshotが必要です。アルファSnapshotまたはベータSnapshotはサポートされなくなりました。</block>
  <block id="34c1edfb4ac8581528c3791be680aeb3" category="inline-link-macro">CVS サービスタイプ</block>
  <block id="5797c3891863b81173e1bb10d6488a72" category="inline-link-macro">CVSサービスタイプのサンプル</block>
  <block id="7993b54bc115df4675f3a823c4f0a34b" category="list-text">でCloud Volumes Service for Google Cloudを作成している場合<block ref="f85eaeb5fc440d0981667ac30b117af7" category="inline-link-macro-rx"></block>は、Astra Trident 23.01からのアップグレード時にまたは<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>サービスレベルを使用するようにバックエンド構成を更新する必要があります<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>。バックエンドでを更新しない<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>と、ボリュームで障害が発生する可能性があります。詳細については、を参照してください <block ref="83a0df2fb9a604879fdb2fab6c5f77c1" category="inline-link-macro-rx"></block> 。</block>
  <block id="69bdd71a77ecd87974ee464a579ebc8f" category="list-text">アップグレードする際は、を<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>提供してAstra Tridentで使用することが重要です<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block>。既存のボリュームを停止することなく、削除や再作成を実行できます<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">セキュリティコンテキスト</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">これは、SANボリュームを適用するための**要件**です<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block>。</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">https://github.com/ NetApp / Trident /tree/master/storage-installer/sample-input Trident [sample input^]ディレクトリには、https://github.com/ NetApp / Trident /blob/master/storage-class-samples/storage-class-basic.yaml.templ^] Tridentやlink：https://github.com/ NetApp / Trident /blob/master/sample-input/storage-class-sample-input/storage-input/storage-class-samples/storage<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block> Trident<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block></block>
  <block id="948c2cbef9ba6f931735e6eef2d86eba" category="list-text">詳細については、を参照してください <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">ステップ1：バージョンを選択します</block>
  <block id="ecab08714a2cb76336fb5fe50c888c56" category="paragraph">Astra Tridentのバージョンには、日付ベースの命名規則が適用され<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>ます。「YY」は年の最後の2桁、「MM」は月です。ドットリリースは規則に従い<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block>ます。「X」はパッチレベルです。アップグレード前のバージョンに基づいて、アップグレード後のバージョンを選択します。</block>
  <block id="3bf187c3fb64a3a3ceaaad545be725b7" category="list-text">インストールされているバージョンの4リリースウィンドウ内にある任意のターゲットリリースに直接アップグレードできます。たとえば、23.04（または任意の23.04 DOTリリース）から24.06に直接アップグレードできます。</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">以前のバージョン</block>
  <block id="ae60fd0ac1c235ad7b164d8e8aa1085a" category="list-text">4つのリリースウィンドウ以外のリリースからアップグレードする場合は、複数の手順でアップグレードを実行します。4リリースのウィンドウに適合する最新リリースにアップグレードするには、アップグレード元のののアップグレード手順を使用し <block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block> ます。たとえば、22.01を実行していて、24.06にアップグレードする場合は、次の手順を実行します。</block>
  <block id="c0a3de1e05d1f3dcaf1a7a904cd041ed" category="list-text">22.07から23.04への最初のアップグレード。</block>
  <block id="c1453f30dfb8d4aa7bce731434afb2bb" category="list-text">その後、23.04から24.06にアップグレードします。</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub の問題の詳細</block>
  <block id="1eb921add61b9e1c5fcaf8272bb52ec6" category="admonition">OpenShift Container PlatformでTridentオペレータを使用してアップグレードする場合は、Trident 21.01.1以降にアップグレードする必要があります。21.01.0 でリリースされた Trident オペレータには、 21.01.1 で修正された既知の問題が含まれています。詳細については、を参照して<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>ください。</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">ステップ2:元のインストール方法を決定します</block>
  <block id="ce42d65061b497ce09f8f7253a47d3ec" category="paragraph">Astra Tridentの最初のインストールに使用したバージョンを確認するには、次の手順を実行します。</block>
  <block id="fabc0fa737916420805fcbdf1e73d723" category="list-text">オペレータポッドがある場合は、を使用<block ref="9ce56b0c50ae80fe754522969b1c96b9" prefix=" " category="inline-code"></block>してAstra TridentがHelmを使用してインストールされているかどうかを確認します。</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">ステップ3：アップグレード方法を選択します</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">インストール方法を切り替えます</block>
  <block id="ae0da380d74bf3d71ac89124c088358a" category="paragraph">通常は、最初のインストールと同じ方法でアップグレードする必要がありますが、可能です。<block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>Tridentをアップグレードする方法は2つあります。</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">Tridentオペレータを使用してアップグレード</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">オペレータとアップグレードする前に、を確認することをお勧めします<block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block>。</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用してアップグレードする</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="f71fd95d4de4797557e6830c1448c945" category="summary">を使用して、既存のAstra Tridentインストールを簡単にアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">tridentctl を使用してアップグレードします</block>
  <block id="589143858f045594979d5d3cf5289bf6" category="paragraph">を使用して、既存のAstra Tridentインストールを簡単にアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="4ff0a9f6065b24ce3d325bad3223f4e2" category="paragraph">Astra Trident のアンインストールと再インストールはアップグレードとして機能します。Trident をアンインストールしても、 Astra Trident 環境で使用されている Persistent Volume Claim （ PVC ；永続的ボリューム要求）と Persistent Volume （ PV ；永続的ボリューム）は削除されません。Astra Trident がオフラインの間は、すでにプロビジョニング済みの PVS を引き続き使用でき、 Astra Trident は、オンラインに戻った時点で作成された PVC に対してボリュームをプロビジョニングします。</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">を使用してアップグレードする前に<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>を参照<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block></block>
  <block id="a38e5a20ac16df242bdde92e028a100e" category="list-text">のアンインストールコマンドを実行し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>て、Astra Tridentに関連付けられているすべてのリソース（CRDと関連オブジェクトを除く）を削除します。</block>
  <block id="e7447899210826e544345ba93e133255" category="inline-link-macro">tridentctl を使用して Astra Trident をインストールします</block>
  <block id="b245573f9e56ac5ee82ff63c840530ff" category="list-text">Astra Tridentを再インストールします。を参照してください <block ref="5661f9ee825513eb43b538bcc41f76ac" category="inline-link-macro-rx"></block>。</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">アップグレードプロセスを中断しないでください。インストーラが完了するまで実行されることを確認します。</block>
  <block id="389fca3b29dd7808b825fbd953242ed9" category="summary">Astra TridentとAstra Tridentを使用して作成されたボリュームの保護とリカバリのオプションについて説明します。永続性に関する要件があるアプリケーションごとに、データ保護とリカバリの戦略を用意しておく必要があります。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">データ保護とディザスタリカバリ</block>
  <block id="e3d45c3e9eb2d2949067a0aa7b61e476" category="section-title">Astra Tridentのレプリケーションとリカバリ</block>
  <block id="44f293896af5541a26ccc287fc71266b" category="paragraph">災害発生時にAstra Tridentをリストアするバックアップを作成できます。</block>
  <block id="9b35fe66a1b68aa00dbffd236d3fe856" category="section-title">Astra Tridentのレプリケーション</block>
  <block id="65808079dd14440eb9053549bdf96b26" category="paragraph">Astra Tridentは、Kubernetes CRDを使用して独自の状態の格納と管理を行い、Kubernetesクラスタetcdを使用してメタデータを格納します。</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes：etcdクラスタのバックアップ</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">を使用してKubernetesクラスタetcdをバックアップし<block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>ます。</block>
  <block id="47eab96eced19efdca77f2407d8e44aa" category="list-text">バックアップアーティファクトをFlexVolに配置します。</block>
  <block id="798d6cc5f40dde831172bf108a793297" category="admonition">FlexVolが配置されているSVMを別のSVMへのSnapMirror関係で保護することを推奨します。</block>
  <block id="49319f2bf766b5cf558ec82dd35f5a46" category="section-title">Astra Tridentのリカバリ</block>
  <block id="6275e3378f7bc1d5792a600e82c7aa6c" category="paragraph">Kubernetes CRDとKubernetesクラスタetcd Snapshotを使用して、Astra Tridentをリカバリできます。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">デスティネーションSVMから、Kubernetes etcdデータファイルと証明書が格納されているボリュームを、マスターノードとしてセットアップするホストにマウントします。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">Kubernetesクラスタに関連する必要なすべての証明書をにコピーし、etcdメンバーファイルを<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>にコピーします<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes：etcdクラスタのリストア</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">を使用して、etcdバックアップからKubernetesクラスタをリストアします<block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">を実行し<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block>てすべてのTridentカスタムリソースが稼働していることを確認し、Tridentオブジェクトを取得してすべてのデータが使用可能であることを確認します。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVMレプリケーションとリカバリ</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="968aa074079a26dbcd09cc3312c6e0d8" category="paragraph">Astra Tridentではレプリケーション関係を設定できませんが、ストレージ管理者はを使用してSVMをレプリケートできます<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block>。</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">災害が発生した場合は、 SnapMirror デスティネーション SVM をアクティブ化してデータの提供を開始できます。システムがリストアされたら、プライマリに戻すことができます。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">SnapMirror SVMレプリケーション機能を使用する場合は、次の点を考慮してください。</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">SVM-DRを有効にしたSVMごとに、個別のバックエンドを作成する必要があります。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">SVM-DRをサポートするバックエンドにレプリケーション不要のボリュームをプロビジョニングしないように、必要な場合にのみレプリケートされたバックエンドを選択するようにストレージクラスを設定します。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">アプリケーション管理者は、レプリケーションに伴う追加コストと複雑さを理解し、このプロセスを開始する前にリカバリプランを慎重に検討する必要があります。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVMレプリケーション</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP：SnapMirror SVMレプリケーション</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">を使用すると、SVMレプリケーション関係を作成できます<block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block>。</block>
  <block id="b9f28001ddc636f8628bd929334b258e" category="paragraph">SnapMirrorでは、レプリケートする対象を制御するオプションを設定できます。プリフォーム時に選択したオプションを知っておく必要が<block ref="885698069be8fdb81e43cb59c9632744" category="inline-xref-macro-rx"></block>あります。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity-preserve true</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block>SVMの設定全体をレプリケートします。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard-configs network</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block>LIFと関連ネットワークの設定を除外します。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block>ボリュームとセキュリティ設定のみをレプリケートします。</block>
  <block id="e3dcf348731966425abf967f0c0c575d" category="section-title">Astra Tridentを使用したSVMのリカバリ</block>
  <block id="58c8a712ac4d3255cd28c6024ad43f71" category="paragraph">Astra Trident では、 SVM の障害は自動では検出されない。災害が発生した場合、管理者は新しいSVMへのTridentフェイルオーバーを手動で開始できます。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">スケジュールされた実行中のSnapMirror転送をキャンセルし、レプリケーション関係を解除し、ソースSVMを停止してからSnapMirrorデスティネーションSVMをアクティブ化します。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">を指定した場合は<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block>、<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block>SVMレプリケーションの設定時に、Tridentバックエンド定義ファイルでと<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>を更新します<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">Tridentバックエンド定義ファイルにが存在することを確認します<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>。このパラメータは変更できません。省略する<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>と、バックエンドの更新が失敗します。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">次のコマンドを使用して、必要なすべてのバックエンドを更新して新しいデスティネーションSVM名を反映します。</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">または<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>を指定した場合は<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block>、すべてのアプリケーションポッドをバウンスする必要があります。</block>
  <block id="debd7fcd99a55e4ad2700a29cadc6aa3" category="admonition">を指定した場合、<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>デスティネーションSVMがアクティブ化されると、Astra Tridentでプロビジョニングされたすべてのボリュームがデータの提供を開始します。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">ボリュームのレプリケーションとリカバリ</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAPのSnapMirrorレプリケーションとリカバリ</block>
  <block id="a5217e87e9aef874c28773b5774ecf37" category="paragraph">Astra TridentではSnapMirrorレプリケーション関係を設定できませんが、ストレージ管理者はAstra Tridentで作成されたボリュームをレプリケートするためにを使用できます<block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block>。</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctlボリュームインポート</block>
  <block id="d055d4dfcb35cd1eea7b3d52e42a8924" category="paragraph">リカバリしたボリュームは、を使用してAstra Tridentにインポートできます<block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block>。</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">インポートは、、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、またはの<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block>ドライバではサポートされていません<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Snapshotによるデータ保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">次のコマンドを使用してデータを保護およびリストアできます。</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">永続ボリューム（PV）のKubernetesボリュームSnapshotを作成するための外部のSnapshotコントローラとCRD。</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP Snapshot：ボリュームの内容全体のリストア、または個 々 のファイルまたはLUNのリカバリに使用します。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAPスナップショット</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="044d1500d5e33461ef3341121d2aebda" category="section-title">Astra Control Centerアプリケーションのレプリケーション</block>
  <block id="3ee9187f7387265ff6f477d26adad0f2" category="paragraph">Astra Controlを使用すると、SnapMirrorの非同期レプリケーション機能を使用して、データやアプリケーションの変更をクラスタ間でレプリケートできます。</block>
  <block id="4910c9e59da080576c2dedc885e19ed7" category="inline-link-macro">Astra Control：SnapMirrorテクノロジを使用してアプリケーションをリモートシステムにレプリケート</block>
  <block id="0868eb323c2e097c6c408f7c59642c94" category="paragraph"><block ref="0868eb323c2e097c6c408f7c59642c94" category="inline-link-macro-rx"></block></block>
  <block id="75f3d382f074f14c775efb5cf2f23c30" category="summary">Astra Trident の導入時には、ここに示す推奨事項を使用してください。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">導入</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">専用のネームスペースに導入します</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">ネームスペース</block>
  <block id="79a77cdda2a2513aee654190c73f15ab" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block>異なるアプリケーション間で管理を分離し、リソース共有の障壁となります。たとえば、あるネームスペースの PVC を別のネームスペースから使用することはできません。Astra Trident は、 Kubernetes クラスタ内のすべてのネームスペースに PV リソースを提供するため、権限が昇格されたサービスアカウントを利用します。</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">また、 Trident ポッドにアクセスすると、ユーザがストレージシステムのクレデンシャルやその他の機密情報にアクセスできるようになります。アプリケーションユーザと管理アプリケーションが Trident オブジェクト定義またはポッド自体にアクセスできないようにすることが重要です。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">クォータと範囲制限を使用してストレージ消費を制御します</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">ストレージクォータメカニズム</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">範囲制限</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes には、 2 つの機能があります。これらの機能を組み合わせることで、アプリケーションによるリソース消費を制限する強力なメカニズムが提供されます。を<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block>使用すると、グローバルなストレージクラス固有の容量とオブジェクト数の消費制限をネームスペース単位で実装できます。さらに、を使用する<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block>と、PVC要求がプロビジョニングツールに転送される前に、PVC要求が最小値と最大値の両方に収まるようになります。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">クォータの活用方法</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">これらの値はネームスペース単位で定義されます。つまり、各ネームスペースに、リソースの要件に応じた値を定義する必要があります。の詳細については、こちらを参照してください<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes クラスタは通常、 2 種類のノードで構成され、機能のさまざまな側面を担当します。</block>
  <block id="748c130a6179b02d614cf9a027294302" category="doc">Astra Trident を統合</block>
  <block id="79126799d841fcc6275e2d0dd60f9d39" category="paragraph">Astra Tridentを統合するには、設計とアーキテクチャに関する次の要素を統合する必要があります。ドライバの選択と導入、ストレージクラスの設計、仮想プールの設計、永続的ボリューム要求（PVC）によるストレージプロビジョニング、ボリューム運用、Astra Tridentを使用したOpenShiftサービスの導入。</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">ドライバの選択と展開</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">ストレージシステム用のバックエンドドライバを選択して導入します。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">ONTAP バックエンドドライバ</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">ONTAP バックエンドドライバは、使用されるプロトコルと、ストレージシステムでのボリュームのプロビジョニング方法によって異なります。そのため、どのドライバを展開するかを決定する際には、慎重に検討する必要があります。</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">アプリケーションに共有ストレージを必要とするコンポーネント（同じ PVC にアクセスする複数のポッド）がある場合、 NAS ベースのドライバがデフォルトで選択されますが、ブロックベースの iSCSI ドライバは非共有ストレージのニーズを満たします。アプリケーションの要件と、ストレージチームとインフラチームの快適さレベルに基づいてプロトコルを選択してください。一般的に、ほとんどのアプリケーションでは両者の違いはほとんどないため、共有ストレージ（複数のポッドで同時にアクセスする必要がある場合）が必要かどうかに基づいて判断することがよくあります。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">使用可能なONTAP バックエンドドライバは次のとおりです。</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>：プロビジョニングされた各PVは、完全なONTAP FlexVolです。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>：プロビジョニングされた各PVはqtreeであり、FlexVolあたりのqtree数は設定可能です（デフォルトは200）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>：各PVがフルONTAP FlexGroupとしてプロビジョニングされ、SVMに割り当てられているすべてのアグリゲートが使用されます。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：プロビジョニングされた各PVは、専用のFlexVol内のLUNです。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>：プロビジョニングされた各PVはLUNであり、FlexVolあたりのLUN数は設定可能です（デフォルトは100）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">3 つの NAS ドライバの間で選択すると、アプリケーションで使用できる機能にいくつかの影響があります。</block>
  <block id="8a1187760a2c55e422a454a64e160291" category="paragraph">次の表では、 Astra Trident からすべての機能が提供されるわけではありません。一部の機能は、プロビジョニング後にストレージ管理者が適用する必要があります。上付き文字の脚注は、機能やドライバごとに機能を区別します。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ONTAP NASドライバ</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">スナップショット</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">クローン</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動的なエクスポートポリシー</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">マルチアタッチ</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">サイズ変更</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">レプリケーション</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block></block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">Yesfootnote: 5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">Yesfootnote: 1[]</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block></block>
  <block id="e4e9da2a7bd5e2b5b29c51299a1b787f" category="cell">Yesfootnote: 3[]</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block></block>
  <block id="15861eb7768c6587d321b6010008930e" category="paragraph">Astra Trident は、 ONTAP 向けに 2 つの SAN ドライバを提供しています。このドライバの機能は次のとおりです。</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">ONTAP SANドライバ</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">双方向 CHAP</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block></block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">Yesfootnote: 4[]</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block></block>
  <block id="6266c7eef6928dbebcb2fa1abb611959" category="verse-content-simple">脚注：1[]：Astra Tridentで管理されない出典：2[]：Astra Tridentで管理されるが、PVの詳細ではない脚注：3[]：Astra Tridentで管理されず、PVの詳細ではない出典：4[]：rawブロックボリュームでサポートYesfootnote:5[]：Astra Tridentでサポート</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">PV に細分化されていない機能は FlexVol 全体に適用され、 PVS （共有 FlexVol 内の qtree または LUN ）にはすべて共通のスケジュールが適用されます。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">上記の表からわかるように、との<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>機能の大部分は同じです。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ただし、スケジュールをPV単位で制御する機能が制限されるため、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ディザスタリカバリやバックアップ計画に特に影響する可能性があります。ONTAPストレージでPVCクローン機能を活用したい開発チームでは、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバのまたはを<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>使用している場合にのみ可能<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>です。</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバはPVCをクローニングすることもできます。</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Cloud Volumes ONTAP バックエンドドライバ</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">Cloud Volumes ONTAP は、ファイル共有や NAS および SAN プロトコル（ NFS 、 SMB / CIFS 、 iSCSI ）を提供するブロックレベルストレージなど、さまざまなユースケースでデータ制御とエンタープライズクラスのストレージ機能を提供します。Cloud Volume ONTAPと互換性があるドライバは<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>です。Cloud Volume ONTAP for Azure と Cloud Volume ONTAP for GCP に該当します。</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">ONTAP バックエンドドライバ用のAmazon FSX</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">Amazon FSx for NetApp ONTAPを使用すると、AWSにデータを格納する際のシンプルさ、即応性、セキュリティ、拡張性を活用しながら、使い慣れたNetAppの機能、パフォーマンス、管理機能を活用できます。FSx for ONTAPは、多くのONTAPファイルシステム機能と管理APIをサポートしています。Cloud Volume ONTAPと互換性があるドライバは<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>です。</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI / SolidFireバックエンドドライバ</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>NetApp HCI / SolidFireプラットフォームで使用されるドライバは、管理者がQoS制限に基づいてElementバックエンドをTrident用に設定するのに役立ちます。Tridentでプロビジョニングするボリュームに特定のQoS制限を設定するようにバックエンドを設計する場合は、バックエンドファイルでパラメータを使用し<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>ます。管理者は、パラメータを使用して、ストレージに作成できるボリュームサイズを制限することもできます<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block>。現時点では、ボリュームサイズ変更やボリュームレプリケーションなどのElementストレージ機能は、ドライバを使用してサポートされていませ<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ん。これらの処理は、 Element ソフトウェアの Web UI から手動で実行する必要があります。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">SolidFire ドライバ</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP（CHAP）</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix="" category="inline-code"></block></block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">Yesfootnote: 2[]</block>
  <block id="bccbad684880808562152ac1d82d7b73" category="verse-content-simple">脚注：はい脚注： 1[] ： Astra Trident で管理されていません。 * 注： 2[] ：未フォーマットのブロックボリュームでサポートされています</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Azure NetApp Files バックエンドドライバ</block>
  <block id="657e0fa57d574227dd7520919f55ff92" category="paragraph">Astra Tridentはドライバを使用して<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>サービスを管理し<block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block>ます。</block>
  <block id="1f65578a7accdff5ca6ff9f8dc42d9c6" category="inline-link-macro">Azure NetApp Files 向けの Trident バックエンド構成</block>
  <block id="488e366967d09f9808e7b3de7df261ac" category="paragraph">このドライバとその設定方法の詳細については、を参照してください<block ref="7f5bc9035106c3c834aeb8867a5fce2c" category="inline-link-macro-rx"></block>。</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Azure NetApp Files ドライバ</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">展開表示</block>
  <block id="e228843381960c06d1035c4219901307" category="cell"><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix="" category="inline-code"></block></block>
  <block id="2fdc8a66565228c15d355a7849997337" category="verse-content-simple">脚注：はい脚注： 1[] ： Astra Trident で管理されていません</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Google Cloudバックエンドドライバ上のCloud Volumes Service</block>
  <block id="dbdb93270c6038ae53d21c36a0ec3a06" category="paragraph">Astra Tridentでは、ドライバを使用して<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>Google CloudのCloud Volumes Serviceにリンクします。</block>
  <block id="6615bc816ef19ce9b090bf84cb2577e8" category="paragraph"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ドライバは仮想プールを使用してバックエンドを抽象化し、Astra Tridentでボリュームの配置を決定できるようにします。管理者がファイルに仮想プールを定義し<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>ます。ストレージクラスには、ラベルで仮想プールを識別するセレクタが使用されます。</block>
  <block id="88e5e1ee5a287a3e1e8bcd0bd36d4405" category="list-text">バックエンドに仮想プールが定義されている場合、Astra Tridentは、その仮想プールが制限されているGoogle Cloudストレージプール内にボリュームを作成しようとします。</block>
  <block id="350ba3703a7557f9470ce37c01800b89" category="list-text">バックエンドに仮想プールが定義されていない場合、Astra Tridentは、リージョン内の使用可能なストレージプールからGoogle Cloudストレージプールを選択します。</block>
  <block id="1c6765c31de34eaa48e2dc86edefdb85" category="paragraph">Astra TridentでGoogle Cloudバックエンドを設定するには、バックエンドファイルで、<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>を<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>指定する必要があります<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>。プロジェクト番号はGoogle Cloudコンソールで確認できます。APIキーは、Google CloudでCloud Volumes Service のAPIアクセスを設定するときに作成したサービスアカウントの秘密鍵ファイルから取得されます。</block>
  <block id="cc414e256eb2f4bb405602498ece0af6" category="inline-link-macro">CVS for GCPのAstra Tridentサポートについてご確認ください</block>
  <block id="62f429770359674b482a69dc8eb1c822" category="paragraph">Google Cloudのサービスタイプとサービスレベルに関するCloud Volumes Serviceの詳細については、を参照してください<block ref="5b5fd03722abab2c395288a6ee42ad11" category="inline-link-macro-rx"></block>。</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">Cloud Volumes Service for Google Cloudドライバ</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix="" category="inline-code"></block></block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">CVS -パフォーマンスサービスタイプでのみ利用できます。</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">レプリケーションに関する注意事項</block>
  <block id="6b0213ecbd17731dba9697d0053bee09" category="list-text">レプリケーションはAstra Tridentで管理されていません。</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">クローンは、ソースボリュームと同じストレージプールに作成されます。</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">ストレージクラスの設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">Kubernetes ストレージクラスオブジェクトを作成するには、個々のストレージクラスを設定して適用する必要があります。このセクションでは、アプリケーション用のストレージクラスの設計方法について説明します。</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">特定のバックエンド使用率</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">フィルタリングは、特定のストレージクラスオブジェクト内で使用でき、そのストレージクラスで使用するストレージプールまたはプールのセットを決定します。ストレージクラスでは、、<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>、またはその両方の<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>3セットのフィルタを設定できます<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>。</block>
  <block id="fc01760e8c283c2f128543ae8b8a67cc" category="paragraph">パラメータを使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>すると、指定した属性に一致するプールだけにストレージを制限できます。<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>パラメータを使用して、Astra Tridentでプロビジョニングに使用する一連のプールを、属性とパラメータで選択した一連のプールとともに拡張し<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>ます。どちらか一方のパラメータを単独で使用することも、両方を使用して、適切なストレージプールセットが選択されていることを確認することもできます。</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph"><block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>パラメータは、属性に一致するリストされた一連のプールを具体的に除外するために使用します。</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">QoSポリシーをエミュレートします</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">QoSポリシーをエミュレートするようにストレージクラスを設計する場合は、属性をまたは<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>にし<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block>てストレージクラスを作成します<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>。ストレージクラスで指定された属性に基づいて<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>、Tridentはメディア属性に一致するサービスまたは<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>アグリゲートを提供する適切なバックエンドを選択し<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block>、ボリュームのプロビジョニングを特定のアグリゲートに転送します。そのため、Premiumという属性が設定され<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>たストレージクラスを作成し<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block>、Premium QoSポリシーに分類できるようにします。メディア属性を「 hdd 」に設定し、標準の QoS ポリシーとして分類できる、別のストレージクラス標準を作成できます。また、ストレージクラスの「 IOPS 」属性を使用して、 QoS ポリシーとして定義できる Element アプライアンスにプロビジョニングをリダイレクトすることもできます。</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">特定の機能に基づいてバックエンドを利用する</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">ストレージクラスは、シンプロビジョニングとシックプロビジョニング、 Snapshot 、クローン、暗号化などの機能が有効になっている特定のバックエンドでボリュームを直接プロビジョニングするように設計できます。使用するストレージを指定するには、必要な機能を有効にしてバックエンドに適したストレージクラスを作成します。</block>
  <block id="f68e83b9ec275643f0ddf455710de4a0" category="paragraph">仮想プールはすべてのAstra Tridentバックエンドで利用可能Tridentが提供する任意のドライバを使用して、任意のバックエンドに仮想プールを定義できます。</block>
  <block id="fcda845207c8bb4d447496c11173c0af" category="paragraph">仮想プールを使用すると、管理者はストレージクラスで参照可能なバックエンド上に抽象化レベルを作成して、バックエンドにボリュームを柔軟かつ効率的に配置できます。同じサービスクラスを使用して異なるバックエンドを定義できます。さらに、同じバックエンドに異なる特性を持つ複数のストレージプールを作成することもできます。セレクタで特定のラベルを設定したストレージクラスがある場合、 Astra Trident は、ボリュームを配置するすべてのセレクタラベルに一致するバックエンドを選択します。ストレージクラスセレクタのラベルが複数のストレージプールに一致した場合、Astra Tridentがボリュームのプロビジョニングに使用するストレージクラスを1つ選択します。</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">仮想プールの設計</block>
  <block id="b8c8132a188c589a80147f1e0b22bf92" category="paragraph">バックエンドの作成時に、一般に一連のパラメータを指定できます。管理者が、同じストレージクレデンシャルと異なるパラメータセットを使用して別のバックエンドを作成することはできませんでした。仮想プールの導入により、この問題 は軽減されました。仮想プールは、バックエンドとKubernetesストレージクラスの間に導入されたレベル抽象化です。管理者は、Kubernetes Storage Classesでセレクターとして参照できるラベルとともにパラメータをバックエンドに依存しない方法で定義できます。仮想プールは、サポートされているすべてのネットアップバックエンドにAstra Tridentを使用して定義できます。リストには、 SolidFire / NetApp HCI 、 ONTAP 、 GCP 上の Cloud Volumes Service 、 Azure NetApp Files が含まれます。</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">仮想プールを定義する場合は、バックエンド定義で既存の仮想プールの順序を変更しないことをお勧めします。また、既存の仮想プールの属性を編集または変更したり、新しい仮想プールを定義したりしないことを推奨します。</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">さまざまなサービスレベル/QoSのエミュレート</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">サービスクラスをエミュレートするための仮想プールを設計できます。Cloud Volume Service for Azure NetApp Files の仮想プール実装を使用して、さまざまなサービスクラスをセットアップする方法を見ていきましょう。Azure NetApp Filesバックエンドには、異なるパフォーマンスレベルを表す複数のラベルを設定します。アスペクトを適切なパフォーマンスレベルに設定し<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block>、各ラベルの下にその他の必要なアスペクトを追加します。次に、異なる仮想プールにマッピングするさまざまなKubernetesストレージクラスを作成します。フィールドを使用して<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、各StorageClassはボリュームのホストに使用できる仮想プールを呼び出します。</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">特定の一連の側面を割り当てます</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">特定の側面を持つ複数の仮想プールは、単一のストレージバックエンドから設計できます。そのためには、バックエンドに複数のラベルを設定し、各ラベルに必要な側面を設定します。次に、異なる仮想プールにマッピングするフィールドを使用して、異なるKubernetesストレージクラスを作成し<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>ます。バックエンドでプロビジョニングされるボリュームには、選択した仮想プールに定義された設定が適用されます。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">ストレージプロビジョニングに影響する PVC 特性</block>
  <block id="77392d80c7d8caad401b2619f5dd4581" category="paragraph">要求されたストレージクラスを超えたパラメータの中には、PVCを作成する際にAstra Tridentプロビジョニングの判断プロセスに影響するものがあります。</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">アクセスモード</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">PVC 経由でストレージを要求する場合、必須フィールドの 1 つがアクセスモードです。必要なモードは、ストレージ要求をホストするために選択されたバックエンドに影響を与える可能性があります。</block>
  <block id="b72ab56468fdf0df298a89c3339b82c0" category="paragraph">Astra Trident は、次のマトリックスで指定されたアクセス方法で使用されているストレージプロトコルと一致するかどうかを試みます。これは、基盤となるストレージプラットフォームに依存しません。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce コマンドを使用します</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">○（ Raw ブロック）</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">NFS バックエンドが設定されていない Trident 環境に送信された ReadWriteMany PVC が要求された場合、ボリュームはプロビジョニングされません。このため、リクエスタは、アプリケーションに適したアクセスモードを使用する必要があります。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">ボリューム操作</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">永続ボリュームの変更</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">永続ボリュームとは、 Kubernetes で変更不可のオブジェクトを 2 つだけ除いてです。再利用ポリシーとサイズは、いったん作成されると変更できます。ただし、これにより、ボリュームの一部の要素がKubernetes以外で変更されることが防止されるわけではありません。特定のアプリケーション用にボリュームをカスタマイズしたり、誤って容量が消費されないようにしたり、何らかの理由でボリュームを別のストレージコントローラに移動したりする場合に便利です。</block>
  <block id="f82b5505d8def4abda0bec52275bd411" category="admonition">Kubernetes のツリー内プロビジョニングツールは、現時点では NFS または iSCSI PVS のボリュームサイズ変更処理をサポートしていません。Astra Trident では、 NFS ボリュームと iSCSI ボリュームの両方の拡張がサポートされています。</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">作成後に PV の接続の詳細を変更することはできません。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">オンデマンドのボリューム Snapshot を作成</block>
  <block id="f557ce2b38683c13c1c1a070ce58a33d" category="paragraph">Astra Trident は、 CSI フレームワークを使用して、オンデマンドでボリュームスナップショットを作成し、スナップショットから PVC を作成できます。Snapshot は、データのポイントインタイムコピーを管理し、 Kubernetes のソース PV とは無関係にライフサイクルを管理する便利な方法です。これらの Snapshot を使用して、 PVC をクローニングできます。</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">Snapshot からボリュームを作成します</block>
  <block id="e005d448313cdc2848d923f4c754e467" category="paragraph">Astra Trident は、ボリューム Snapshot からの PersistentVolumes の作成もサポートしています。そのためには、PersistentVolumeClaimを作成し、ボリュームの作成元となるSnapshotとしてを指定します<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block>。Astra Trident がこの PVC を処理するには、 Snapshot にデータが存在するボリュームを作成します。この機能を使用すると、複数のリージョン間でデータを複製したり、テスト環境を作成したり、破損した本番ボリューム全体を交換したり、特定のファイルとディレクトリを取得して別の接続ボリュームに転送したりできます。</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">クラスタ内でボリュームを移動します</block>
  <block id="925b814524908630c07d45fc5a80028a" category="paragraph">ストレージ管理者は、 ONTAP クラスタ内のアグリゲート間およびコントローラ間で、ストレージ利用者への無停止でボリュームを移動できます。この処理は、デスティネーションアグリゲートが Trident が使用している SVM からアクセス可能なアグリゲートであるかぎり、 Astra Trident または Kubernetes クラスタには影響しません。この点が重要なのは、アグリゲートが SVM に新たに追加された場合、 Astra Trident に再追加してバックエンドを更新する必要があることです。これにより、 Astra Trident が SVM のインベントリを再作成し、新しいアグリゲートが認識されるようになります。</block>
  <block id="033dcaefcc578c987d32d4bdb6f6b1e2" category="paragraph">ただし、バックエンド間でのボリュームの移動は Astra Trident では自動ではサポートされていません。これには、同じクラスタ内の SVM 間、クラスタ間、または別のストレージプラットフォーム上の SVM 間が含まれます（たとえストレージシステムが Trident から Astra に接続されている場合でも）。</block>
  <block id="302be77289f337115411c01846d9a489" category="paragraph">ボリュームが別の場所にコピーされた場合、ボリュームインポート機能を使用して現在のボリュームを Astra Trident にインポートできます。</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">ボリュームを展開します</block>
  <block id="17d79009c5c2bb6bd570bb6f87552a2d" category="paragraph">Astra Trident は、 NFS と iSCSI PVS のサイズ変更をサポートしています。これにより、ユーザは Kubernetes レイヤを介してボリュームのサイズを直接変更できます。ボリュームを拡張できるのは、 ONTAP 、 SolidFire / NetApp HCI 、 Cloud Volumes Service バックエンドなど、主要なすべてのネットアップストレージプラットフォームです。あとで拡張できるようにするには、ボリュームに関連付けられているStorageClassでをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定し<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>ます。永続的ボリュームのサイズを変更する必要がある場合は、永続的ボリューム要求で必要なボリュームサイズになるようにアノテーションを編集します<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>。Tridentによって、ストレージクラスタ上のボリュームのサイズが自動的に変更されます。</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">既存のボリュームを Kubernetes にインポートする</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">Volume Import では、既存のストレージボリュームを Kubernetes 環境にインポートできます。これは、現在、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、、<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>および<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ドライバでサポートされて<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>います。この機能は、既存のアプリケーションを Kubernetes に移植する場合や、ディザスタリカバリシナリオで使用する場合に便利です。</block>
  <block id="5d9f64103cac7a58da69304bc3320e98" category="paragraph">ONTAPとドライバを使用する場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>は、コマンドを使用し<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block>て既存のボリュームをKubernetesにインポートし、Astra Tridentで管理します。import volume コマンドで使用した PVC YAML または JSON ファイルは、 Astra Trident をプロビジョニングツールとして識別するストレージクラスを指定します。NetApp HCI / SolidFire バックエンドを使用する場合は、ボリューム名が一意であることを確認してください。ボリューム名が重複している場合は、ボリュームインポート機能で区別できるように、ボリュームを一意の名前にクローニングします。</block>
  <block id="555c97661fe540a8eabda5c4680e2f81" category="paragraph">ドライバまたは<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ドライバを使用している場合<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>は、コマンドを使用し<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block>て、Astra Tridentで管理するKubernetesにボリュームをインポートします。これにより、ボリューム参照が一意になります。</block>
  <block id="fe253a0cf40d6b5d49846202cdeaff7b" category="paragraph">上記のコマンドを実行すると、 Astra Trident がバックエンド上にボリュームを検出し、サイズを確認します。設定されたPVCのボリュームサイズを自動的に追加（および必要に応じて上書き）します。次に Astra Trident が新しい PV を作成し、 Kubernetes が PVC を PV にバインド</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">特定のインポートされた PVC を必要とするようにコンテナを導入した場合、ボリュームインポートプロセスによって PVC/PV ペアがバインドされるまで、コンテナは保留状態のままになります。PVC/PV ペアがバインドされると、他に問題がなければコンテナが起動します。</block>
  <block id="41603705958b86c3ec4ff21cfce13a5b" category="section-title">OpenShift サービスを導入します</block>
  <block id="7e3c623b48b608f4c6380c2994ae5aa9" category="paragraph">OpenShift の付加価値クラスタサービスは、クラスタ管理者とホストされているアプリケーションに重要な機能を提供します。これらのサービスが使用するストレージはノードローカルリソースを使用してプロビジョニングできますが、これにより、サービスの容量、パフォーマンス、リカバリ性、持続可能性が制限されることがよくあります。エンタープライズストレージアレイを活用してこれらのサービスに容量を提供することで、劇的に向上したサービスを実現できます。ただし、すべてのアプリケーションと同様に、 OpenShift とストレージ管理者は、緊密に連携してそれぞれに最適なオプションを決定する必要があります。Red Hat のドキュメントは、要件を決定し、サイジングとパフォーマンスのニーズを確実に満たすために大きく活用する必要があります。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">レジストリサービス</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">netapp.io のコマンドです</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">ブログ</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">レジストリのストレージの導入と管理については、に記載され<block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block>て<block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>います。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">ロギングサービス</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">他のOpenShiftサービスと同様に、ロギングサービスは、Playbookに提供されるインベントリファイル（ホスト）から提供される設定パラメータを使用してAnsibleを使用して導入されます。ここでは、 OpenShift の初期インストール時にロギングを導入し、 OpenShift のインストール後にロギングを導入するという、 2 つのインストール方法について説明します。</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">Red Hat OpenShift バージョン 3.9 以降、データ破損に関する懸念があるため、記録サービスに NFS を使用しないことを公式のドキュメントで推奨しています。これは、 Red Hat 製品のテストに基づいています。ONTAP NFSサーバにはこのような問題がないため、ロギング環境を簡単にバックアップできます。ロギングサービスには最終的にどちらかのプロトコルを選択する必要がありますが、両方のプロトコルがネットアッププラットフォームを使用する場合に適していることと、 NFS を使用する理由がないことを確認してください。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">ログサービスでNFSを使用する場合は、インストーラが失敗しないように<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Ansible変数を設定する必要があり<block ref="12eeb466f53968af86875065cacb87df" prefix=" " category="inline-code"></block>ます。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">開始する</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">ロギングサービスは、必要に応じて、両方のアプリケーションに導入することも、 OpenShift クラスタ自体のコア動作に導入することもできます。オペレーションログの展開を選択した場合は、変数をに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>指定する<block ref="e9fb6c5b679bcf493f004e7862e40370" prefix=" " category="inline-code"></block>と、サービスの2つのインスタンスが作成されます。操作のロギングインスタンスを制御する変数には「 ops 」が含まれ、アプリケーションのインスタンスには含まれません。</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">基盤となるサービスで正しいストレージが使用されるようにするには、導入方法に応じてAnsible変数を設定することが重要です。それぞれの導入方法のオプションを見てみましょう。</block>
  <block id="c5c09113a6a6ae4b75868a9e96ea3cc3" category="inline-link-macro">Red Hat OpenShift のロギングに関するドキュメント</block>
  <block id="00b454d2ba2e8d34f65f8a714304a598" category="admonition">次の表には、ロギングサービスに関連するストレージ構成に関連する変数のみを示します。展開に応じて、レビュー、設定、および使用する必要がある他のオプションを見つけることができます<block ref="e81826ec3b15492352776daada114990" category="inline-link-macro-rx"></block>。</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">次の表の変数では、入力した詳細を使用してロギングサービスの PV と PVC を作成する Ansible プレイブックが作成されます。この方法は、 OpenShift インストール後にコンポーネントインストールプレイブックを使用するよりもはるかに柔軟性に劣るが、既存のボリュームがある場合はオプションとなります。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">変数</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell"><block ref="da877c5451281307ba496c6d47b9e58a" prefix="" category="inline-code"></block></block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">インストーラによってロギングサービス用のNFS PVが作成されるようにするには、をに設定し<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell"><block ref="a6e6be3176202f08f0df1683c85dbcf6" prefix="" category="inline-code"></block></block>
  <block id="3a262c1d9bdec02b241c16b2c5f6dbbe" category="cell">NFS ホストのホスト名または IP アドレス。仮想マシンのデータ LIF に設定してください。</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell"><block ref="de9d956706d370dbc262cec42d7dd029" prefix="" category="inline-code"></block></block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームがとしてジャンクションされている場合<block ref="54db3c53100205a4065b324343188651" prefix=" " category="inline-code"></block>は、そのパスを変数に使用します。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell"><block ref="a9c9aa0bbb9f276fcffcb28987aafe46" prefix="" category="inline-code"></block></block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">作成するPVの名前（例：<block ref="2e85c8d6d60b1938be08d95bf1d5ed6c" prefix=" " category="inline-code"></block>）。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell"><block ref="db6cd83d9bf6cb9184c2966426d87c8d" prefix="" category="inline-code"></block></block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">NFSエクスポートのサイズ（例：）<block ref="f6e2fcb8998619722fdea77d356a4b3b" prefix=" " category="inline-code"></block>。</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">OpenShift クラスタがすでに実行中で、そのため Trident を導入して設定した場合、インストーラは動的プロビジョニングを使用してボリュームを作成できます。次の変数を設定する必要があります。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell"><block ref="5d0e211248d2b37acde90612e54b85c9" prefix="" category="inline-code"></block></block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">動的にプロビジョニングされたボリュームを使用する場合は true に設定します。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell"><block ref="5e135d629059162b7f62817ebf81f67b" prefix="" category="inline-code"></block></block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">PVC で使用されるストレージクラスの名前。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell"><block ref="7ee69f3d6802d7d49dc834e2a48533f8" prefix="" category="inline-code"></block></block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">PVC で要求されたボリュームのサイズ。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell"><block ref="463a50d4707805ff518a7c1b614cae9b" prefix="" category="inline-code"></block></block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">ロギングサービスで使用される PVC のプレフィックス。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell"><block ref="f4d06597471a7e461fa3aaaa2a053142" prefix="" category="inline-code"></block></block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">opsロギングインスタンスに動的にプロビジョニングされたボリュームを使用するには、をに設定し<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell"><block ref="30a3d0fdc8ecf82523d9f348d96c46ab" prefix="" category="inline-code"></block></block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">処理ロギングインスタンスのストレージクラスの名前。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell"><block ref="7c884ec8a4d2fd51c22984fae2fe09f1" prefix="" category="inline-code"></block></block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">処理インスタンスのボリューム要求のサイズ。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell"><block ref="210255a36cb029002a696f21a04cf35d" prefix="" category="inline-code"></block></block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">ops インスタンス PVC のプレフィックス。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">ロギングスタックを導入します</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">初期の OpenShift インストールプロセスの一部としてロギングを導入する場合、標準の導入プロセスに従うだけで済みます。Ansible は、必要なサービスと OpenShift オブジェクトを構成および導入して、 Ansible が完了したらすぐにサービスを利用できるようにします。</block>
  <block id="210ecadaccb6088b0dfbd2e6a0b5d0a0" category="inline-link-macro">Red Hat OpenShift Container Platform 3.11 のドキュメント</block>
  <block id="67f3e99678cc7c568f4ed29074cdc41c" category="paragraph">ただし、最初のインストール後に導入する場合は、コンポーネントプレイブックを Ansible で使用する必要があります。このプロセスは、OpenShiftのバージョンによって若干変更される場合がありますので、お使いのバージョンに合わせてお読みください<block ref="a2226808e95b8487c66dd3b8cbea118e" category="inline-link-macro-rx"></block>。</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">指標サービス</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">この指標サービスは、 OpenShift クラスタのステータス、リソース利用率、可用性に関する重要な情報を管理者に提供します。ポッドの自動拡張機能にも必要であり、多くの組織では、チャージバックやショーバックのアプリケーションに指標サービスのデータを使用しています。</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">ロギングサービスや OpenShift 全体と同様に、 Ansible を使用して指標サービスを導入します。また、ロギングサービスと同様に、メトリクスサービスは、クラスタの初期セットアップ中、またはコンポーネントのインストール方法を使用して運用後に導入できます。次の表に、指標サービスに永続的ストレージを設定する際に重要となる変数を示します。</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">以下の表には、指標サービスに関連するストレージ構成に関連する変数のみが含まれています。このドキュメントには、他にも導入環境に応じて確認、設定、使用できるオプションが多数あります。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell"><block ref="87ee48b0bd9cbef625c9e58d29953bd9" prefix="" category="inline-code"></block></block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell"><block ref="03fe9d76b0b5aef27365ed846a7686c0" prefix="" category="inline-code"></block></block>
  <block id="adba8dd7dd2b027405b815c03a05dbf1" category="cell">NFS ホストのホスト名または IP アドレス。これは SVM のデータ LIF に設定されている必要があります。</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell"><block ref="30a3002c7df05045a0206d9273a384c6" prefix="" category="inline-code"></block></block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームがとしてジャンクションされている場合<block ref="84e465df2e745334cf363d2701acbc8c" prefix=" " category="inline-code"></block>は、そのパスを変数に使用します。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell"><block ref="2708722d0be9e759610930ca4ba0ccda" prefix="" category="inline-code"></block></block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">作成するPVの名前（例：<block ref="346a344a8f42541e4f261b54ef920508" prefix=" " category="inline-code"></block>）。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell"><block ref="8085fdc8f39bb3d2c5b777041294d9bf" prefix="" category="inline-code"></block></block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell"><block ref="861e7642b92f41392f844c04bfffd5e0" prefix="" category="inline-code"></block></block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">メトリック PVC に使用するプレフィックス。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell"><block ref="c3d37ddc32376761a7073bb028fe23f9" prefix="" category="inline-code"></block></block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">要求するボリュームのサイズ。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell"><block ref="d2744c21ee3a719be8d523f86c2d1538" prefix="" category="inline-code"></block></block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">指標に使用するストレージのタイプ。適切なストレージクラスを使用して PVC を作成するには、 Ansible に対してこれを dynamic に設定する必要があります。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell"><block ref="c79cb64517774919120c2dfa7c06e9a8" prefix="" category="inline-code"></block></block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">使用するストレージクラスの名前。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">指標サービスを導入する</block>
  <block id="db7ae7f1cfb23bf788607032d443c26c" category="paragraph">ホスト / インベントリファイルに適切な Ansible 変数を定義して、 Ansible でサービスを導入します。OpenShift インストール時に導入する場合は、 PV が自動的に作成されて使用されます。コンポーネントプレイブックを使用して導入する場合は、OpenShiftのインストール後にAnsibleによって必要なPVCが作成され、Astra Tridentによってストレージがプロビジョニングされたあとにサービスが導入されます。</block>
  <block id="bf1cadd7aa4e541e255df26af5451d85" category="inline-link-macro">RedHat OpenShift 導入ガイド</block>
  <block id="eb502d6483a644e9b6f61ca4719276d8" category="paragraph">上記の変数と導入プロセスは、 OpenShift の各バージョンで変更される可能性があります。使用しているバージョンを確認し、環境に合わせて構成されるようにして<block ref="5ad72ffc1eda2c257c8947a0ad66dddb" category="inline-link-macro-rx"></block>ください。</block>
  <block id="5425c134e042a4473f453cbfaaf776df" category="summary">Linux Unified Key Setup（LUKS；ユニファイドキーセットアップ）を有効にして、Astra Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Astra Tridentは、LUKS暗号化ボリュームのボリュームサイズ変更とキー（パスフレーズ）ローテーションをサポートしています。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux Unified Key Setup（LUKS；統合キーセットアップ）</block>
  <block id="a5a1aad62aa2cbb5ff9f9547c24671f4" category="paragraph">Linux Unified Key Setup（LUKS；ユニファイドキーセットアップ）を有効にして、Astra Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Astra Tridentは、LUKS暗号化ボリュームのパスフレーズローテーションとボリューム拡張をサポートしています。</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="b1597f08149b233ec5901eb1dc041042" category="paragraph">Astra Tridentでは、LUKS暗号化ボリュームでAES-XTS-plain64暗号化とモードが使用されます（の推奨）<block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>。</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab: cryptsetup</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">ワーカーノードにはcryptsetup 2.1以上（3.0よりも下位）がインストールされている必要があります。詳細については、を参照してください<block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="15671c66e35f11a8d4024ff7ca5e7fb6" category="list-text">パフォーマンス上の理由から、ワーカーノードでAdvanced Encryption Standard New Instructions（AES-NI）をサポートすることを推奨します。AES-NIサポートを確認するには、次のコマンドを実行します。</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel：Advanced Encryption Standard Instructions（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">何も返されない場合、お使いのプロセッサはAES-NIをサポートしていません。AES-NIの詳細については、を参照してください<block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">LUKS暗号化を有効にします</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">ONTAP SANおよびONTAP SANエコノミーボリュームでは、Linux Unified Key Setup（LUKS；Linux統合キーセットアップ）を使用して、ボリューム単位のホスト側暗号化を有効にできます。</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">ONTAP SANの構成オプション</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">バックエンド構成でLUKS暗号化属性を定義します。ONTAP SANのバックエンド構成オプションの詳細については、を参照してください<block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">LUKS暗号化を使用してストレージプールを定義する場合に使用し<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>ます。例：</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">LUKSパスフレーズを含むシークレットを作成します。例：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">制限事項</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKSで暗号化されたボリュームは、ONTAP の重複排除と圧縮を利用できません。</block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">LUKSボリュームをインポートするためのバックエンド構成</block>
  <block id="6159e851594f646ce383a87fc615fbd1" category="paragraph">LUKSボリュームをインポートするには、バックエンドでをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定する必要があります<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>。このオプションを指定<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>すると、<block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>次の例に示すように、ボリュームがLUKS準拠<block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>かどうかがAstra Tridentに通知されます。</block>
  <block id="64049136ec90cc479c7521e9b6e172eb" category="section-title">LUKSボリュームをインポートするためのPVC設定</block>
  <block id="b49b86551096c421a3bc5d3b79eede84" category="paragraph">LUKSボリュームを動的にインポートするには、<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>次の例に示すように、アノテーションをに設定し、LUKS対応のストレージクラスをPVCに含めます。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">LUKSパスフレーズをローテーションします</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">LUKSのパスフレーズをローテーションしてローテーションを確認できます。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">パスフレーズは、ボリューム、Snapshot、シークレットで参照されなくなることを確認するまで忘れないでください。参照されているパスフレーズが失われた場合、ボリュームをマウントできず、データが暗号化されたままアクセスできなくなることがあります。</block>
  <block id="0887b239ebf59802cdd0acb89f746b66" category="paragraph">LUKSパスフレーズのローテーションは、ボリュームをマウントするポッドが、新しいLUKSパスフレーズの指定後に作成されたときに行われます。新しいポッドが作成されると、Astra TridentはボリュームのLUKSパスフレーズをシークレット内のアクティブなパスフレーズと比較します。</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">ボリュームのパスフレーズがシークレットでアクティブなパスフレーズと一致しない場合、ローテーションが実行されます。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">ボリュームのパスフレーズがシークレット内のアクティブなパスフレーズと一致する場合、<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block>パラメータは無視されます。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">および<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block>StorageClassパラメータを追加します<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block>。例：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">ボリュームまたはSnapshotの既存のパスフレーズを特定します。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">ボリューム</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">Snapshot</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">ボリュームのLUKSシークレットを更新して、新しいパスフレーズと前のパスフレーズを指定します。<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block>前のパスフレーズと一致することを確認します<block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block>。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">ボリュームをマウントする新しいポッドを作成します。これはローテーションを開始するために必要です。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">パスフレーズがローテーションされたことを確認します。</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">パスフレーズは、ボリュームとSnapshotに新しいパスフレーズのみが返されたときにローテーションされました。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">たとえば、2つのパスフレーズが返された場合、<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>ローテーションは不完全です。回転を完了するために、新しいポッドをトリガできます。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">ボリュームの拡張を有効にします</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">LUKS暗号化ボリューム上でボリューム拡張を有効にできます。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：CSIボリュームのノードベースの拡張にシークレットを使用します</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">機能ゲート（ベータ1.25以降）を有効にします<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> 。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">および<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block>StorageClassパラメータを追加します<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block>。例：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">ストレージのオンライン拡張を開始すると、ドライバに適切なクレデンシャルが渡されます。</block>
  <block id="d59b86d1714966230da7a00672e40912" category="summary">ここに記載された推奨事項に従って、 Astra Trident のインストールを確実にセキュリティで保護してください。</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">セキュリティ</block>
  <block id="06d5b814514e67e2a36b491b2493aed1" category="paragraph">ここに記載された推奨事項を参考に、Astra Tridentのインストールを安全に行ってください。</block>
  <block id="44a736677691eaca5e5d3d6b5c770b22" category="section-title">Astra Trident を独自のネームスペースで実行</block>
  <block id="347d4c35796a862cf20cdcdebfe59e57" category="paragraph">アプリケーション、アプリケーション管理者、ユーザ、および管理アプリケーションが Astra Trident オブジェクト定義またはポッドにアクセスしないようにして、信頼性の高いストレージを確保し、悪意のあるアクティビティをブロックすることが重要です。</block>
  <block id="47d7f9fac441e60d9523d256d02aa8ba" category="paragraph">他のアプリケーションやユーザをAstra Tridentから分離するには、必ず独自のKubernetesネームスペースにAstra Tridentをインストールして<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block>ください）。Astra Trident を独自の名前空間に配置することで、 Kubernetes 管理担当者のみが Astra Trident ポッドにアクセスでき、名前空間 CRD オブジェクトに格納されたアーティファクト（バックエンドや CHAP シークレット（該当する場合）にアクセスできるようになります。Astra Tridentネームスペースへのアクセスは管理者のみに許可し、アプリケーションへのアクセスを許可する必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">ONTAP SAN バックエンドで CHAP 認証を使用します</block>
  <block id="2738c60dc60977d9eb6af2bf2a98c193" category="paragraph">Astra Tridentでは、ONTAP SANワークロードのCHAPベースの認証がサポートされます（ドライバと<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバを使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>）。ネットアップでは、ホストとストレージバックエンドの間の認証に、双方向 CHAP と Astra Trident を使用することを推奨しています。</block>
  <block id="cb1cfaffdbb4cc0c4c444a11e40e3262" category="paragraph">SANストレージドライバを使用するONTAPバックエンドの場合は、Astra Tridentで双方向CHAPを設定し、でCHAPのユーザ名とシークレットを管理できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。Astra TridentがONTAPバックエンドでCHAPを設定する方法については、を参照してください<block ref="5cdb093a3afb814148505ae9813b18af" category="inline-link-macro-rx"></block>。</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">NetApp HCI および SolidFire バックエンドで CHAP 認証を使用します</block>
  <block id="bd669abfdc05714a67725374ec8795ed" category="paragraph">ホストと NetApp HCI バックエンドと SolidFire バックエンドの間の認証を確保するために、双方向の CHAP を導入することを推奨します。Astra Trident は、テナントごとに 2 つの CHAP パスワードを含むシークレットオブジェクトを使用します。インストールされたAstra Tridentは、CHAPシークレットを管理し、それぞれのPVのCRオブジェクトに格納し<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block>ます。PVを作成すると、Astra TridentはCHAPシークレットを使用してiSCSIセッションを開始し、CHAPを介してNetApp HCIおよびSolidFireシステムと通信します。</block>
  <block id="da644f9e3f33b9b8b1a75f2b066fc084" category="admonition">Astra Tridentで作成されるボリュームは、どのボリュームアクセスグループにも関連付けられません。</block>
  <block id="252ee40ccbd23adc008945e85af83513" category="section-title">NVEおよびNAEでAstra Tridentを使用する</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">NetAppボリューム暗号化の設定の概要</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP は、保管データの暗号化を提供し、ディスクが盗難、返却、転用された場合に機密データを保護します。詳細については、を参照してください <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="2f96099170687a6fc94d47d5c9e1db78" category="list-text">NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに対応します。</block>
  <block id="f2e4034ee02b84093370b28f55809870" category="list-text">バックエンドでNAEが有効になっていない場合、バックエンド構成でNVE暗号化フラグをに設定しないかぎり、Astra TridentでプロビジョニングされたボリュームはNVE対応になり<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>ます。</block>
  <block id="82d9a35a126449139766a969834999ca" category="paragraph">NAE対応バックエンドのAstra Tridentで作成されるボリュームは、NVEまたはNAEで暗号化されている必要があります。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">Tridentバックエンド構成でNVE暗号化フラグをに設定すると、NAE暗号化を無効にして、ボリューム単位で特定の暗号化キーを使用でき<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c376f853ae2704beeb8bbb6836ada303" category="list-text">NAE対応バックエンドでNVE暗号化フラグをに設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、NAE対応ボリュームが作成されます。NVE暗号化フラグをに設定してNAE暗号化を無効にすることはできません<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="5991606c4d185f50bd7f678053004989" category="list-text">Astra TridentでNVEボリュームを手動で作成するには、NVE暗号化フラグを明示的にに設定し<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">バックエンド構成オプションの詳細については、以下を参照してください。</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ONTAP NASの構成オプション</block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">ストレージ構成</block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">ネットアップポートフォリオの各ストレージプラットフォームには、コンテナ化されたアプリケーションやそうでないアプリケーションに役立つ独自の機能があります。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">プラットフォームの概要</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident は ONTAP や Element と連携1 つのプラットフォームが他のプラットフォームよりもすべてのアプリケーションとシナリオに適しているわけではありませんが、プラットフォームを選択する際には、アプリケーションのニーズとデバイスを管理するチームを考慮する必要があります。</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">使用するプロトコルに対応したホストオペレーティングシステムのベースラインベストプラクティスに従う必要があります。必要に応じて、アプリケーションのベストプラクティスを適用する際に、バックエンド、ストレージクラス、 PVC の設定を利用して、特定のアプリケーションのストレージを最適化することもできます。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">ONTAP と Cloud Volumes ONTAP のベストプラクティス</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">Trident 向けに ONTAP と Cloud Volumes ONTAP を設定するためのベストプラクティスをご確認ください。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">次に示す推奨事項は、 Trident によって動的にプロビジョニングされたボリュームを消費するコンテナ化されたワークロード用に ONTAP を設定する際のガイドラインです。それぞれの要件を考慮し、環境内で適切かどうかを評価する必要があります。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">Trident 専用の SVM を使用</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">Storage Virtual Machine （ SVM ）を使用すると、 ONTAP システムのテナントを分離し、管理者が分離できます。SVM をアプリケーション専用にしておくと、権限の委譲が可能になり、リソース消費を制限するためのベストプラクティスを適用できます。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM の管理には、いくつかのオプションを使用できます。</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">バックエンド構成でクラスタ管理インターフェイスを適切なクレデンシャルとともに指定し、 SVM 名を指定します。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">ONTAP System Manager または CLI を使用して、 SVM 専用の管理インターフェイスを作成します。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">NFS データインターフェイスで管理ロールを共有します。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">いずれの場合も、インターフェイスは DNS にあり、 Trident の設定時には DNS 名を使用する必要があります。これにより、ネットワーク ID を保持しなくても SVM-DR などの一部の DR シナリオが簡単になります。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">専用の管理 LIF または共有の管理 LIF を SVM に使用する方法は推奨されませんが、ネットワークセキュリティポリシーを選択した方法と一致させる必要があります。いずれにせよ、最大限の柔軟性を確保するためには、管理LIFにDNS経由でアクセスできるようにする必要があります。これをTridentと組み合わせて使用する必要があります<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block>。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">最大ボリューム数を制限します</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="cd41030284d3ee7b99fc16831ed79650" category="paragraph">ONTAP ストレージシステムの最大ボリューム数は、ソフトウェアのバージョンとハードウェアプラットフォームによって異なります。正確な制限を確認するには、使用しているプラットフォームおよびONTAPバージョンに対応したを参照してください<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block>。ボリューム数を使い果たした場合、 Trident のプロビジョニング処理だけでなく、すべてのストレージ要求に対してプロビジョニング処理が失敗します。</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Tridentの<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバは、作成されるKubernetes永続ボリューム（PV）ごとにFlexVolをプロビジョニングします。<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、200 PVSごとに約1つのFlexVolumeを作成します（50～300の間で設定可能）。<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバは、100 PVSごとに約1つのFlexVolumeを作成します（50～200の間で設定可能）。Trident がストレージシステム上の使用可能なボリュームをすべて消費しないようにするには、 SVM に制限を設定する必要があります。コマンドラインから実行できます。</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">の値<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>は、環境に固有のいくつかの条件によって異なります。</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">ONTAP クラスタ内の既存のボリュームの数</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">他のアプリケーション用に Trident 外部でプロビジョニングするボリュームの数</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes アプリケーションで消費されると予想される永続ボリュームの数</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph"><block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>この値は、個 々 のONTAPノードではなく、ONTAPクラスタ内のすべてのノードにプロビジョニングされたボリュームの合計です。その結果、 ONTAP クラスタノードの Trident でプロビジョニングされたボリュームの数が、別のノードよりもはるかに多い、または少ない場合があります。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">アグリゲート</block>
  <block id="8eb27359ed8f69eb07c318fcd224ba66" category="paragraph">たとえば、 2 ノードの ONTAP クラスタでは、最大 2 、 000 個の FlexVol をホストできます。最大ボリューム数を 1250 に設定していると、非常に妥当な結果が得られます。ただし、SVMに1つのノードからしか割り当てられていない場合や、一方のノードから割り当てられたアグリゲートを（容量などの理由で）プロビジョニングできない場合は<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block>、Tridentでプロビジョニングされるすべてのボリュームのターゲットにもう一方のノードがなります。つまり、の値に達する前にそのノードのボリューム制限に達する可能性があり、その結果、Tridentとそのノードを使用するその他のボリューム処理の両方に影響が及ぶ可能性があり<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>ます。* クラスタ内の各ノードのアグリゲートを、 Trident が使用する SVM に同じ番号で確実に割り当てることで、この状況を回避できます。 *</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">Trident で作成できるボリュームの最大サイズを制限</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">Tridentで作成できるボリュームの最大サイズを設定するには、定義でパラメータを<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>使用し<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">ストレージアレイでボリュームサイズを制御するだけでなく、 Kubernetes の機能も利用する必要があります。</block>
  <block id="1b75c146ff0568d5fc11072b08cfe580" category="section-title">Tridentで作成されるFlexVolの最大サイズを制限する</block>
  <block id="913d5950907a31c9d3ea6cd0a3b6a524" category="paragraph">ONTAPドライバSAN-EconomyドライバおよびONTAP NAS-Economyドライバのプールとして使用されるFlexVolの最大サイズを設定するには、<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>定義でパラメータを使用します。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">双方向 CHAP を使用するように Trident を設定します</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">バックエンド定義で CHAP イニシエータとターゲットのユーザ名とパスワードを指定し、 Trident を使用して SVM で CHAP を有効にすることができます。バックエンド構成のパラメータを使用して<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>、TridentはCHAPを使用してONTAPバックエンドのiSCSI接続を認証します。</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">SVM QoS ポリシーを作成して使用します</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">Bully を防止します</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">SVM に適用された ONTAP QoS ポリシーを使用すると、 Trident でプロビジョニングされたボリュームが使用できる IOPS の数が制限されます。これにより、コンテナがTrident SVMの外部のワークロードに影響を及ぼすのを防ぎ、制御不能にすることができます<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block>。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">SVM の QoS ポリシーはいくつかの手順で作成します。正確な情報については、ご使用の ONTAP バージョンのマニュアルを参照してください。次の例は、 SVM で使用可能な合計 IOPS を 5000 に制限する QoS ポリシーを作成します。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">また、使用しているバージョンの ONTAP でサポートされている場合は、最小 QoS を使用してコンテナ化されたワークロードへのスループットを保証することもできます。アダプティブ QoS は SVM レベルのポリシーには対応していません。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">コンテナ化されたワークロード専用の IOPS は、さまざまな要素によって異なります。その中には、次のようなものがあります。</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">ストレージアレイを使用するその他のワークロード。Kubernetes 環境とは関係なく、ストレージリソースを利用するほかのワークロードがある場合は、それらのワークロードが誤って影響を受けないように注意する必要があります。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">想定されるワークロードはコンテナで実行されます。IOPS 要件が高いワークロードをコンテナで実行する場合は、 QoS ポリシーの値が低いとエクスペリエンスが低下します。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">SVM レベルで割り当てた QoS ポリシーを使用すると、 SVM にプロビジョニングされたすべてのボリュームで同じ IOPS プールが共有されることに注意してください。コンテナ化されたアプリケーションの 1 つまたは少数のに高い IOPS が必要な場合、コンテナ化された他のワークロードに対する Bully になる可能性があります。その場合は、外部の自動化を使用したボリュームごとの QoS ポリシーの割り当てを検討してください。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">ONTAP バージョン 9.8 より前の場合は、 QoS ポリシーグループを SVM * only * に割り当ててください。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">Trident の QoS ポリシーグループを作成</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">QoSによるスループットの保証</block>
  <block id="ed108e0380671c3131e1a4795b982a45" category="paragraph">Quality of Service （ QoS ；サービス品質）は、競合するワークロードによって重要なワークロードのパフォーマンスが低下しないようにします。ONTAP の QoS ポリシーグループには、ボリュームに対する QoS オプションが用意されており、ユーザは 1 つ以上のワークロードに対するスループットの上限を定義できます。QoSの詳細については、を参照してください<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。QoS ポリシーグループはバックエンドまたはストレージプールに指定でき、そのプールまたはバックエンドに作成された各ボリュームに適用されます。</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">ONTAP には、従来型とアダプティブ型の 2 種類の QoS ポリシーグループがあります。従来のポリシーグループは、最大スループット（以降のバージョンでは最小スループット）がフラットに表示されます。アダプティブ QoS では、ワークロードのサイズの変更に合わせてスループットが自動的に調整され、 TB または GB あたりの IOPS が一定に維持されます。これにより、何百何千という数のワークロードを管理する大規模な環境では大きなメリットが得られます。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">QoS ポリシーグループを作成するときは、次の点に注意してください。</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">キーはバックエンド構成のブロックに<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>設定する必要があります<block ref="36c38058d66835923c982c773a817f0b" prefix=" " category="inline-code"></block>。次のバックエンド設定例を参照してください。</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">ボリュームごとにポリシーグループを適用して、各ボリュームがポリシーグループの指定に従ってスループット全体を取得するようにします。共有ポリシーグループはサポートされません。</block>
  <block id="b2365e059850d5e32885189655bf469c" category="inline-link">ONTAP 9.8 QoS コマンド</block>
  <block id="cf43d7aa3804e1b74345d201f67e0f86" category="paragraph">QoSポリシーグループの詳細については、を参照してください<block ref="40468e984a92fba9003857701268163a" category="inline-link-rx"></block>。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">ストレージリソースへのアクセスを Kubernetes クラスタメンバーに制限する</block>
  <block id="0f2b74d1b972675eb3d4efe7d8c3ed16" category="paragraph">Trident によって作成される NFS ボリュームと iSCSI LUN へのアクセスを制限することは、 Kubernetes 環境のセキュリティ体制に欠かせない要素です。これにより、 Kubernetes クラスタに属していないホストがボリュームにアクセスしたり、データが予期せず変更されたりすることを防止できます。</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">ネームスペースは Kubernetes のリソースの論理的な境界であることを理解することが重要です。ただし、同じネームスペース内のリソースは共有可能であることが前提です。重要なのは、ネームスペース間に機能がないことです。つまり、 PVS はグローバルオブジェクトですが、 PVC にバインドされている場合は、同じネームスペース内のポッドからのみアクセス可能です。* 適切な場合は、名前空間を使用して分離することが重要です。 *</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">Kubernetes 環境でデータセキュリティを使用する場合、ほとんどの組織で最も懸念されるのは、コンテナ内のプロセスがホストにマウントされたストレージにアクセスできることですが、コンテナ用ではないためです。<block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block>この種の侵害を防ぐように設計されています。ただし、特権コンテナという例外が 1 つあります。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">ポッドセキュリティポリシー</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">権限付きコンテナは、通常よりもホストレベルの権限で実行されるコンテナです。これらの機能はデフォルトでは拒否されないため、を使用して無効にして<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block>ください。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">Kubernetes と外部ホストの両方からアクセスが必要なボリュームでは、 Trident ではなく管理者が導入した PV で、ストレージを従来の方法で管理する必要があります。これにより、 Kubernetes と外部ホストの両方が切断され、ボリュームを使用していない場合にのみ、ストレージボリュームが破棄されます。また、カスタムエクスポートポリシーを適用して、 Kubernetes クラスタノードおよび Kubernetes クラスタの外部にあるターゲットサーバからのアクセスを可能にすることもできます。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">専用のインフラノード（OpenShiftなど）や、ユーザアプリケーションをスケジュールできない他のノードを導入する場合は、ストレージリソースへのアクセスをさらに制限するために別 々 のエクスポートポリシーを使用する必要があります。これには、これらのインフラノードに導入されているサービス（ OpenShift Metrics サービスや Logging サービスなど）のエクスポートポリシーの作成と、非インフラノードに導入されている標準アプリケーションの作成が含まれます。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">専用のエクスポートポリシーを使用します</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">Kubernetes クラスタ内のノードへのアクセスのみを許可するエクスポートポリシーが各バックエンドに存在することを確認する必要があります。Tridentはエクスポートポリシーを自動的に作成、管理できます。これにより、 Trident はプロビジョニング対象のボリュームへのアクセスを Kubernetes クラスタ内のノードに制限し、ノードの追加や削除を簡易化します。</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">また、エクスポートポリシーを手動で作成し、各ノードのアクセス要求を処理する 1 つ以上のエクスポートルールを設定することもできます。</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">ONTAP CLIコマンドを使用し<block ref="7d47f98e53b93d7fb8a050185d494363" prefix=" " category="inline-code"></block>て、エクスポートポリシーを作成します。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">ONTAP CLIコマンドを使用して、エクスポートポリシーにルールを追加します<block ref="729c5e15acc8b31618fe3265de1c624b" prefix=" " category="inline-code"></block>。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">これらのコマンドを実行すると、データにアクセスできる Kubernetes ノードを制限できます。</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">アプリケーションSVMで無効にする<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block></block>
  <block id="613655fb3db9bdbe0f795ee9424fc1fe" category="paragraph">この<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>機能を使用すると、NFSクライアントがSVMに照会して使用可能なNFSエクスポートのリストを確認できます。Kubernetesクラスタに導入されたポッドは、データLIFに対してコマンドを実行し、使用可能なマウント（アクセスできないマウントを含む）のリストを受け取ることができます<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block>。これだけではセキュリティ上の妥協ではありませんが、権限のないユーザが NFS エクスポートに接続するのを阻止する可能性のある不要な情報が提供されます。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">SVMレベルのONTAP CLIコマンドを使用して無効にする必要があり<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>ます。</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">SolidFire のベストプラクティス</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">Trident に SolidFire ストレージを設定するためのベストプラクティスをご確認ください。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">SolidFire アカウントを作成します</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">各 SolidFire アカウントは固有のボリューム所有者で、 Challenge Handshake Authentication Protocol （ CHAP ；チャレンジハンドシェイク認証プロトコル）クレデンシャルのセットを受け取ります。アカウントに割り当てられたボリュームには、アカウント名とその CHAP クレデンシャルを使用してアクセスするか、ボリュームアクセスグループを通じてアクセスできます。アカウントには最大 2 、 000 個のボリュームを関連付けることができますが、 1 つのボリュームが属することのできるアカウントは 1 つだけです。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">QoS ポリシーを作成する</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">標準的なサービス品質設定を作成して保存し、複数のボリュームに適用する場合は、 SolidFire のサービス品質（ QoS ）ポリシーを使用します。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">QoS パラメータはボリューム単位で設定できます。QoS を定義する 3 つの設定可能なパラメータである Min IOPS 、 Max IOPS 、 Burst IOPS を設定することで、各ボリュームのパフォーマンスが保証されます。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">4KB のブロックサイズの最小 IOPS 、最大 IOPS 、バースト IOPS の値を次に示します。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPSパラメータ</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小値</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">デフォルト値</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大値（4KB）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小 IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">ボリュームに対して保証されたレベルのパフォーマンス。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大 IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">パフォーマンスはこの制限を超えません。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200,000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">バースト IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">短時間のバースト時に許容される最大 IOPS 。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">Max IOPS と Burst IOPS は最大 200 、 000 に設定できますが、実際のボリュームの最大パフォーマンスは、クラスタの使用量とノードごとのパフォーマンスによって制限されます。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire のサービス品質</block>
  <block id="acd73d692aa90cacfe480ba8ba39cd5d" category="paragraph">ブロックサイズと帯域幅は、 IOPS に直接影響します。ブロックサイズが大きくなると、システムはそのブロックサイズを処理するために必要なレベルまで帯域幅を増やします。帯域幅が増えると、システムが処理可能な IOPS は減少します。QoSとパフォーマンスの詳細については、を参照してください<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block>。</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">SolidFire 認証</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element では、認証方法として CHAP とボリュームアクセスグループ（ VAG ）の 2 つがサポートされています。CHAP は CHAP プロトコルを使用して、バックエンドへのホストの認証を行います。ボリュームアクセスグループは、プロビジョニングするボリュームへのアクセスを制御します。CHAP はシンプルで拡張性に制限がないため、認証に使用することを推奨します。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">Trident と強化された CSI プロビジョニングツールは、 CHAP 認証の使用をサポートします。VAG は、従来の CSI 以外の動作モードでのみ使用する必要があります。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP 認証（イニシエータが対象のボリュームユーザであることの確認）は、アカウントベースのアクセス制御でのみサポートされます。認証に CHAP を使用している場合は、単方向 CHAP と双方向 CHAP の 2 つのオプションがあります。単方向 CHAP は、 SolidFire アカウント名とイニシエータシークレットを使用してボリュームアクセスを認証します。双方向の CHAP オプションを使用すると、ボリュームがアカウント名とイニシエータシークレットを使用してホストを認証し、ホストがアカウント名とターゲットシークレットを使用してボリュームを認証するため、ボリュームを最も安全に認証できます。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">ただし、 CHAP を有効にできず VAG が必要な場合は、アクセスグループを作成し、ホストのイニシエータとボリュームをアクセスグループに追加します。アクセスグループに追加した各 IQN は、 CHAP 認証の有無に関係なく、グループ内の各ボリュームにアクセスできます。iSCSI イニシエータが CHAP 認証を使用するように設定されている場合は、アカウントベースのアクセス制御が使用されます。iSCSI イニシエータが CHAP 認証を使用するように設定されていない場合は、ボリュームアクセスグループのアクセス制御が使用されます。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">詳細情報の入手方法</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp ライブラリ</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">ベストプラクティスのドキュメントの一部を以下に示します。で最新バージョンを検索し<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block>ます。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">* ONTAP *</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">NFSベストプラクティスおよび実装ガイド</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="a76193f5d9397d9c49ca283a20ccf649" category="inline-link">SANアドミニストレーションガイド</block>
  <block id="5bc9b097037d45aff954bf9bd632d4a4" category="list-text"><block ref="c745f55eb0c9991966e63f0608541bb1" category="inline-link-rx"></block>（iSCSIの場合）</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">RHEL 向けの iSCSI のクイック構成</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">* Element ソフトウェア *</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">SolidFire for Linux を設定しています</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">* NetApp HCI *</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">NetApp HCI 導入の前提条件</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">NetApp Deployment Engine にアクセスします</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">* アプリケーションのベストプラクティス情報 *</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">ONTAP での MySQL に関するベストプラクティスです</block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">SolidFire での MySQL に関するベストプラクティスです</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire および Cassandra</block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">SolidFire での Oracle のベストプラクティス</block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">SolidFire での PostgreSQL のベストプラクティスです</block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">すべてのアプリケーションに特定のガイドラインがあるわけではありません。NetAppチームと協力し、を使用して最新のドキュメントを見つけることが重要<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block>です。</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">Kubernetes システムの構成要素の詳細をご確認ください。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes の概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes システム</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">の各部分の詳細については、を参照して<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>ください。</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes オブジェクトと Trident オブジェクト</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">リソースオブジェクトの読み取りと書き込みを行うことで、 REST API を使用して Kubernetes や Trident を操作できます。Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">オブジェクトは相互にどのように相互作用しますか。</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">おそらく、オブジェクト、その目的、操作方法を理解する最も簡単な方法は、 Kubernetes ユーザからのストレージ要求を 1 回だけ処理することです。</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">ユーザは、管理者が以前に設定したKubernetesから、特定のサイズの<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>新しい要求を<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>作成します<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetesは<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Tridentをプロビジョニングツールとして識別し、要求されたクラスのボリュームのプロビジョニング方法をTridentに指示するパラメータを備えています。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Tridentは、同じ名前を使用して一致するものを識別し<block ref="b81146e6af95bf6e22cf57459890216f" prefix=" " category="inline-code"></block>、<block ref="a410a2a085f482e6dc04e225e54ee323" prefix=" " category="inline-code"></block>クラス用のボリュームのプロビジョニングに使用できるかどうかを確認し<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Tridentは、対応するバックエンドにストレージをプロビジョニングし、2つのオブジェクトを作成します。1つは<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>Kubernetesでボリュームの検索、マウント、処理方法を指示するもので、もう1つはTridentで、もう1つはと実際のストレージの関係を保持するもの<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>です。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetesは、を新しいに<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>バインドし<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>ます。実行されるホスト上のPersistentVolumeのマウントを含むポッド<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">ユーザは、Tridentをポイントするを使用して、既存のPVCの<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>を作成します<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident が PVC に関連付けられているボリュームを特定し、バックエンドにボリュームの Snapshot を作成します。また、Snapshotを識別する方法をKubernetesに指示するを作成し<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">ユーザーは、をソースとして使用して<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>を作成できます<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>。</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Tridentは必要なSnapshotを特定し、およびの<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>作成と同じ手順を実行します<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">永続ボリューム</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">Kubernetesオブジェクトの詳細については、Kubernetesドキュメントのセクションを読むことを強くお勧めします<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block>。</block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title"><block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>オブジェクトは、Kubernetesクラスタユーザによって行われたストレージへの要求です。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">Trident では、標準仕様に加えて、バックエンド構成で設定したデフォルト設定を上書きする場合に、ボリューム固有の次のアノテーションを指定できます。</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">アノテーション</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">ボリュームオプション</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">サポートされているドライバ</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">ファイルシステム</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-SAN、solidfire-san-エコノミー 構成、solidfire-san-SAN間にあるSolidFireを実現します</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">cloneSourceVolume の実行中です</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ontap - NAS 、 ontap - san 、 solidfire-san-files 、 gcvs 、 ONTAP - SAN - 経済性</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">splitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP - NAS 、 ONTAP - SAN</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">プロトコル</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任意</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">エクスポートポリシー</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Snapshot ポリシー</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAP-SAN</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">Snapshot リザーブ</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-NAS 、 ONTAP-NAS-flexgroup 、 ONTAP-SAN 、 GCP-cvs</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">snapshotDirectory の略</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">ブロックサイズ</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire - SAN</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">作成されたPVに再要求ポリシーが設定されている場合<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>、PVが解放されると（つまり、ユーザがPVCを削除すると）、TridentはPVと元のボリュームの両方を削除します。削除操作が失敗した場合、 Trident は PV をマークします。そのような状態で操作が成功するか、 PV が手動で削除されるまで、定期的に再試行します。PVがポリシーを使用している場合<block ref="8d6d1e80894475845ded00dcd1f8cc41" prefix=" " category="inline-code"></block>、Tridentはポリシーを無視し、管理者がKubernetesとバックエンドからポリシーをクリーンアップすると想定します。これにより、削除前にボリュームをバックアップまたは検査できるようになります。PV を削除しても、原因 Trident で元のボリュームが削除されないことに注意してください。REST APIを使用して削除する必要があり<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>ます）。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident では CSI 仕様を使用したボリュームスナップショットの作成がサポートされています。ボリュームスナップショットを作成し、それをデータソースとして使用して既存の PVC のクローンを作成できます。これにより、 PVS のポイントインタイムコピーを Kubernetes にスナップショットの形で公開できます。作成した Snapshot を使用して新しい PVS を作成できます。これがどのように機能するかを見て<block ref="e9de36458dcd95988ba2d0b4f6d8ee2f" prefix=" " category="inline-code"></block>ください。</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">Tridentには、クローンを作成するためのアノテーションとが<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block>用意されています<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block>。これらの注釈を使用して、CSI実装を使用せずにPVCのクローンを作成できます。</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">次に例を示します。ユーザがすでにというPVCを持っている場合、<block ref="81c3b080dad537de7e10e0987a4bf52e" prefix=" " category="inline-code"></block>ユーザはなどの注釈を使用して<block ref="dd145212234939588777c41b78a948b2" prefix=" " category="inline-code"></block>という新しいPVCを作成できます<block ref="f68f5a5c173ec94fcc1da047d933d613" prefix=" " category="inline-code"></block>。このアノテーションセットを使用すると、 Trident はボリュームをゼロからプロビジョニングするのではなく、 MySQL PVC に対応するボリュームのクローンを作成します。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">次の点を考慮してください。</block>
  <block id="5faae6e509c8aecf9f8815a4ceef02b3" category="list-text">アイドルボリュームのクローンを作成することを推奨します。</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">PVC とそのクローンは、同じ Kubernetes ネームスペースに存在し、同じストレージクラスを持つ必要があります。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバを使用している<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>場合は、と組み合わせて<block ref="979f70bf9da982ee97ac075df4f048c3" prefix=" " category="inline-code"></block>PVCアノテーションを設定することをお勧めし<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>ます。<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>をに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Tridentはクローンボリュームを親ボリュームからスプリットするため、クローンボリュームのライフサイクルが親から完全に切り離されますが、ストレージ効率が低下することはありません。に設定または設定し<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>ない<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block>とバックエンドのスペース消費が削減されますが、親ボリュームとクローンボリュームの間に依存関係が作成されるので、最初にクローンを削除しないかぎり親ボリュームを削除できません。クローンをスプリットするシナリオでは、空のデータベースボリュームをクローニングする方法が効果的です。このシナリオでは、ボリュームとそのクローンで使用するデータベースボリュームのサイズが大きく異なっており、 ONTAP ではストレージ効率化のメリットはありません。</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">この<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block>ディレクトリには、Tridentで使用するPVC定義の例が含まれています。Tridentボリュームに関連するパラメータと設定の詳細については、を参照してください<block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block>。</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title"><block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>オブジェクトは、Kubernetesクラスタで使用可能になるストレージの一部を表します。ポッドに依存しないライフサイクルがあります。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Tridentは、プロビジョニングするボリュームに基づいて自動的にオブジェクトを作成し<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>、Kubernetesクラスタに登録します。自分で管理することは想定されていません。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">Tridentベースを参照するPVCを作成すると<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>、Tridentは対応するストレージクラスを使用して新しいボリュームをプロビジョニングし、そのボリュームの新しいPVを登録します。プロビジョニングされたボリュームと対応する PV の構成では、 Trident は次のルールに従います。</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident は、 Kubernetes に PV 名を生成し、ストレージのプロビジョニングに使用する内部名を生成します。どちらの場合も、名前がスコープ内で一意であることが保証されます。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">ボリュームのサイズは、 PVC で要求されたサイズにできるだけ近いサイズに一致しますが、プラットフォームによっては、最も近い割り当て可能な数量に切り上げられる場合があります。</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title"><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>オブジェクトは、の名前で指定し<block ref="455385b545189aa1f74511b5dc40d1eb" prefix=" " category="inline-code"></block>、一連のプロパティを使用してストレージをプロビジョニングします。ストレージクラス自体が、使用するプロビジョニングツールを特定し、プロビジョニングツールが理解できる一連のプロパティを定義します。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">管理者が作成および管理する必要がある 2 つの基本オブジェクトのうちの 1 つです。もう 1 つは Trident バックエンドオブジェクトです。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Tridentを使用するKubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>オブジェクトは次のようになります。</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">これらのパラメータは Trident 固有で、クラスのボリュームのプロビジョニング方法を Trident に指示します。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">ストレージクラスのパラメータは次のとおりです。</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">属性</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">タイプ</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必須</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">属性</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">[string] 文字列をマップします</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">いいえ</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">後述の「属性」セクションを参照してください</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">ストレージプール</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">[string] StringList をマップします</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">AdditionalStoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">excludeStoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">ストレージ属性とその有効な値は、ストレージプールの選択属性と Kubernetes 属性に分類できます。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">ストレージプールの選択の属性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">これらのパラメータは、特定のタイプのボリュームのプロビジョニングに使用する Trident で管理されているストレージプールを決定します。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">値</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">提供</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">リクエスト</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">でサポートされます</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">メディア ^1</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">文字列</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">HDD 、ハイブリッド、 SSD</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">プールにはこのタイプのメディアが含まれています。ハイブリッドは両方を意味します</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">メディアタイプが指定されました</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 solidfire-san-SAN 、 solidfire-san-SAN のいずれかに対応しています</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">プロビジョニングタイプ</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">シン、シック</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">プールはこのプロビジョニング方法をサポートします</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">プロビジョニング方法が指定されました</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">シック：All ONTAP ；thin：All ONTAP &amp; solidfire-san-SAN</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">backendType</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAPNAS、ONTAPNASエコノミー、ONTAP-NAS-flexgroup、ONTAPSAN、solidfire-san-SAN、solidfire-san-SAN、GCP-cvs、azure-NetApp-files、ONTAP-SAN-bエコノミー</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">プールはこのタイプのバックエンドに属しています</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">バックエンドが指定されて</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">すべてのドライバ</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">Snapshot</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">ブール値</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">true false</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">プールは、 Snapshot を含むボリュームをサポートします</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">Snapshot が有効なボリューム</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-NAS, ONTAP-SAN, solidfire-san-, gcvs</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">クローン</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">プールはボリュームのクローニングをサポートします</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">クローンが有効なボリューム</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">暗号化</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">プールでは暗号化されたボリュームをサポート</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">暗号化が有効なボリューム</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-FlexArray グループ、 ONTAP-SAN</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">整数</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正の整数</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">プールは、この範囲内で IOPS を保証する機能を備えています</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">ボリュームで IOPS が保証されました</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1 ^ ： ONTAP Select システムではサポートされていません</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">ほとんどの場合、要求された値はプロビジョニングに直接影響します。たとえば、シックプロビジョニングを要求した場合、シックプロビジョニングボリュームが使用されます。ただし、 Element ストレージプールでは、提供されている IOPS の最小値と最大値を使用して、要求された値ではなく QoS 値を設定します。この場合、要求された値はストレージプールの選択のみに使用されます。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想的には、単独でを使用して、特定のクラスのニーズを満たすために必要なストレージの品質をモデル化できます<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>。Tridentは、指定したの_all_に一致するストレージプールを自動的に検出して選択します<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>。</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">を使用してクラスに適したプールを自動的に選択できない場合<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>は、パラメータと<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>パラメータを使用してプールをさらに絞り込んだり、特定のプールセットを選択したりできます<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">パラメータを使用すると、指定したいずれかに一致するプールのセットをさらに制限<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>でき<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>ます。つまり、Tridentでは、パラメータと<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>パラメータで識別されたプールの共通部分がプロビジョニングに使用され<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>ます。どちらか一方のパラメータを単独で使用することも、両方を同時に使用することも</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">パラメータを使用すると、パラメータと<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>パラメータで選択したプールに関係なく、Tridentがプロビジョニングに使用するプールのセットを拡張<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block>でき<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>ます。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">パラメータを使用すると、Tridentがプロビジョニングに使用する一連のプールをフィルタリングできます<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>。このパラメータを使用すると、一致するプールがすべて削除されます。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>パラメータおよび<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>パラメータでは、各エントリはの形式になり<block ref="54b40b3e6f1384da4e4c920869e31d56" prefix=" " category="inline-code"></block>ます。<block ref="f6beb3e72ef13817e534adfcb53abf8d" prefix=" " category="inline-code"></block>は、指定したバックエンドのストレージプールをカンマで区切ったリストです。たとえば、の値<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>はのようになります<block ref="f4f4f3be41d583caff484e84868faa12" prefix=" " category="inline-code"></block>。これらのリストでは、バックエンド値とリスト値の両方に正規表現値を使用できます。を使用すると、バックエンドとそのプールのリストを取得できます<block ref="de7f24c692bef12dc6db5ad320f2f284" prefix=" " category="inline-code"></block>。</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes の属性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">これらの属性は、動的プロビジョニングの際に Trident が選択するストレージプール / バックエンドには影響しません。代わりに、 Kubernetes Persistent Volume でサポートされるパラメータを提供するだけです。ワーカーノードはファイルシステムの作成操作を担当し、 xfsprogs などのファイルシステムユーティリティを必要とする場合があります。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">関連するドライバ</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes のバージョン</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FSstype （英語）</block>
  <block id="010e61d0b40eeb84b96a1321e8f0bab7" category="cell">ext4、ext3、xfs</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">ブロックボリュームのファイルシステムのタイプ</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san-group、ontap/nas、ontap -nas-エコノミー、ontap -nas-flexgroup、ontap -san、ONTAP - SAN -経済性</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">すべて</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">allowVolumeExpansion の略</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">ブーリアン</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">PVC サイズの拡張のサポートをイネーブルまたはディセーブルにします</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 ONTAP-SAN-エコノミー 、 solidfire-san-, gcvs, azure-netapp-files</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11以上</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">volumeBindingMode のようになりました</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">即時、 WaitForFirstConsumer</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">ボリュームバインドと動的プロビジョニングを実行するタイミングを選択します</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19 ~ 1.26</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes ：ポッドまたはコンテナのセキュリティコンテキストを設定します</block>
  <block id="9ec97307849e95766ab72c5a34828c08" category="list-text">パラメータは、<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>SAN LUNに必要なファイルシステムタイプを制御するために使用します。さらに、Kubernetesはストレージクラスにが含まれていることを使用して<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>、ファイルシステムが存在することを示します。ボリューム所有権は、が設定されている場合にのみ、ポッドのセキュリティコンテキストを<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>使用して制御でき<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>ます。コンテキストを使用したボリューム所有権の設定の概要については<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>、を参照してください<block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block>。Kubernetesがこの値を適用する<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>のは、次の場合のみです。</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text"><block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix="" category="inline-code"></block>はストレージクラスに設定されます。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVC アクセスモードは RWO です。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">NFS ストレージドライバの場合、 NFS エクスポートにはファイルシステムがすでに存在します。ストレージクラスを使用する<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>には、を指定する必要があり<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>ます。またはnull以外の任意の値に設定できます。<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block></block>
  <block id="c2b0df577877e25491f6e1ed397c87df" category="list-text">ボリューム拡張の詳細については、を参照してください<block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block>。</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">Tridentインストーラバンドルには、のTridentで使用するストレージクラスの定義例がいくつか用意されています<block ref="532e65fde9b7cd84dd9a7a9be1e1ddbb" prefix="" category="inline-code"></block>。Kubernetes ストレージクラスを削除すると、対応する Trident ストレージクラスも削除されます。</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title"><block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>オブジェクトはに似てい<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>ます。この Snapshot コピーは、複数のストレージクラスの定義に役立ちます。また、ボリューム Snapshot によって参照され、 Snapshot を必要な Snapshot クラスに関連付けます。各ボリューム Snapshot は、単一のボリューム Snapshot クラスに関連付けられます。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">スナップショットを作成するには、管理者がを<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>定義する必要があります。ボリューム Snapshot クラスは、次の定義で作成されます。</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">は<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>、Kubernetesに対して、クラスのボリュームSnapshotの要求がTridentで処理されるように指定します<block ref="6c7238e4718cba62616087e70f5e30ec" prefix=" " category="inline-code"></block>。は、<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>Snapshotを削除する必要がある場合に実行する処理を指定します。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>をに設定する<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>と、Snapshotを削除すると、ボリュームSnapshotオブジェクトとストレージクラスタ上の基盤となるSnapshotが削除されます。または、に設定する<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>と、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物理Snapshotが保持されます。</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title"><block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>オブジェクトは、ボリュームのSnapshotの作成要求です。PVC がボリュームに対するユーザからの要求を表すのと同様に、ボリュームスナップショットは、ユーザが既存の PVC のスナップショットを作成する要求です。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">ボリュームSnapshot要求を受信すると、TridentはバックエンドでのボリュームのSnapshotの作成を自動的に管理し、一意のオブジェクトを作成してそのSnapshotを公開します。<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>既存の PVC からスナップショットを作成し、新しい PVC を作成するときにスナップショットを DataSource として使用できます。</block>
  <block id="53847015682974d066a919b1b45a44a5" category="admonition">VolumeSnapshot のライフサイクルはソース PVC とは無関係です。ソース PVC が削除されても、スナップショットは維持されます。スナップショットが関連付けられている PVC を削除すると、 Trident はその PVC のバッキングボリュームを *Deleting* 状態でマークしますが、完全には削除しません。関連付けられている Snapshot がすべて削除されると、ボリュームは削除されます。</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title"><block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>オブジェクトは、プロビジョニング済みのボリュームから取得されたSnapshotを表します。これは、に似て<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>おり、ストレージクラスタにプロビジョニングされたSnapshotを示します。オブジェクトと<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>オブジェクトと同様に、<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>Snapshotが作成されると、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>オブジェクトはSnapshotの作成を要求したオブジェクトへの1対1のマッピングを保持し<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>ます。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph"><block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>オブジェクトには、Snapshotを一意に識別する詳細（など）が含まれます<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>。これは<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>、PVの名前とオブジェクトの名前の一意の組み合わせ<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>です。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">Trident では、スナップショット要求を受信すると、バックエンドにスナップショットが作成されます。スナップショットが作成されると、Tridentはオブジェクトを構成し<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>、スナップショットをKubernetes APIに公開します。</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">ボリュームSnapshotのインポート</block>
  <block id="4999635328ae714b8eb5f24934a24943" category="admonition">通常、オブジェクトを管理する必要はありませ<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ん。ただし、Astra Trident以外でを作成する場合は例外です<block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block>。</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title"><block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes カスタムリソースは、管理者が定義した Kubernetes API 内のエンドポイントであり、類似するオブジェクトのグループ化に使用されます。Kubernetes では、オブジェクトのコレクションを格納するためのカスタムリソースの作成をサポートしています。これらのリソース定義は、を実行して取得できます<block ref="1201c6fb7452320c42006b3c6341e824" prefix=" " category="inline-code"></block>。</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">カスタムリソース定義（ CRD ）と関連するオブジェクトメタデータは、 Kubernetes によってメタデータストアに格納されます。これにより、 Trident の独立したストアが不要になります。</block>
  <block id="6229286496513c532bbb85d111e6228f" category="paragraph">Astra Tridentでは、オブジェクトを使用して<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>、Tridentバックエンド、Tridentストレージクラス、TridentボリュームなどのTridentオブジェクトのIDを保持します。これらのオブジェクトは Trident によって管理されます。また、 CSI のボリュームスナップショットフレームワークには、ボリュームスナップショットの定義に必要ないくつかの SSD が導入されています。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD は Kubernetes の構成要素です。上記で定義したリソースのオブジェクトは Trident によって作成されます。簡単な例として、を使用してバックエンドを作成する<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>と、Kubernetesで使用するために対応する<block ref="0509578b4c12ac2fc745903388753e2c" prefix=" " category="inline-code"></block>CRDオブジェクトが作成されます。</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">Trident の CRD については、次の点に注意してください。</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">Trident をインストールすると、一連の CRD が作成され、他のリソースタイプと同様に使用できるようになります。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">Trident をアンインストールします</block>
  <block id="d7b7b183151bdcc8d68efef8a53c02cb" category="list-text">コマンドを使用してTridentをアンインストールする<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block>と、Tridentポッドは削除されますが、作成されたCRDはクリーンアップされません。Tridentを完全に削除してゼロから再構成する方法については、を参照してください<block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block>。</block>
  <block id="5ecf0e8b098b4ea6bc01c794d40a3fbe" category="section-title">Astra Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="cfc01756266d8d0e43eb3a9f2753f472" category="paragraph">Tridentは、プロビジョニングツールフィールドで指定されたKubernetesオブジェクト<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>に一致するストレージクラスを作成します<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。ストレージクラス名は、そのストレージクラスが表すKubernetesオブジェクトの名前と一致し<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">Kubernetesでは、Tridentをプロビジョニングツールとして使用するKubernetesを登録すると、これらのオブジェクトが自動的に作成され<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">ストレージクラスは、ボリュームの一連の要件で構成されます。Trident は、これらの要件と各ストレージプール内の属性を照合し、一致する場合は、そのストレージプールが、そのストレージクラスを使用するボリュームのプロビジョニングの有効なターゲットになります。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">REST API を使用して、ストレージクラスを直接定義するストレージクラス設定を作成できます。ただし、Kubernetesデプロイメントの場合は、新しいKubernetesオブジェクトを登録するときに作成されることを想定してい<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4b9c0a0ad9ce7e75e59f955a526e9367" category="section-title">Astra Tridentバックエンドオブジェクト</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">バックエンドとは、 Trident がボリュームをプロビジョニングする際にストレージプロバイダを表します。 1 つの Trident インスタンスであらゆる数のバックエンドを管理できます。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">これは、自分で作成および管理する 2 つのオブジェクトタイプのうちの 1 つです。もう1つはKubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>オブジェクトです。</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">バックエンドの設定</block>
  <block id="7a82af4e68a9aca0b21f107f4c0836ee" category="paragraph">これらのオブジェクトの作成方法の詳細については、を参照してください<block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>。</block>
  <block id="1e82ec36f9663b7e8b91dc727ebaa70b" category="section-title">Astra Trident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">ストレージプールは、各バックエンドでのプロビジョニングに使用できる個別の場所を表します。ONTAP の場合、これらは SVM 内のアグリゲートに対応します。NetApp HCI / SolidFire では、管理者が指定した QoS 帯域に対応します。Cloud Volumes Service の場合、これらはクラウドプロバイダのリージョンに対応します。各ストレージプールには、パフォーマンス特性とデータ保護特性を定義するストレージ属性があります。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">他のオブジェクトとは異なり、ストレージプールの候補は常に自動的に検出されて管理されます。</block>
  <block id="5e32849b22982f8931eb5a8a2b334104" category="section-title">Astra Trident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="894765102686902c6acc3024e5bdb9bd" category="paragraph">ボリュームは、 NFS 共有や iSCSI LUN などのバックエンドエンドエンドエンドポイントで構成される、プロビジョニングの基本単位です。Kubernetesでは、これらはに直接対応し<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block>ます。ボリュームを作成するときは、そのボリュームにストレージクラスが含まれていることを確認します。このクラスによって、ボリュームをプロビジョニングできる場所とサイズが決まります。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="list-text">Kubernetes では、これらのオブジェクトが自動的に管理されます。Trident がプロビジョニングしたものを表示できます。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="list-text">関連付けられた Snapshot がある PV を削除すると、対応する Trident ボリュームが * Deleting * 状態に更新されます。Trident ボリュームを削除するには、ボリュームの Snapshot を削除する必要があります。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">ボリューム構成は、プロビジョニングされたボリュームに必要なプロパティを定義します。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API のバージョン（「 1 」）</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名前</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">はい</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">作成するボリュームの名前</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">ストレージクラス</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">ボリュームのプロビジョニング時に使用するストレージクラス</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">サイズ</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">プロビジョニングするボリュームのサイズ（バイト単位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">使用するプロトコルの種類：「 file 」または「 block 」</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">インターン名</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">Trident が生成した、ストレージシステム上のオブジェクトの名前</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ONTAP （ NAS 、 SAN ） &amp; SolidFire - * ：クローン元のボリュームの名前</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ONTAP （ NAS 、 SAN ）：クローンを親からスプリットします</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ONTAP - * ：使用する Snapshot ポリシー</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ONTAP - * ： Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-NAS* ：使用するエクスポートポリシー</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-NAS* ： Snapshot ディレクトリが表示されているかどうか</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-NAS* ：最初の UNIX 権限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">SolidFire - * ：ブロック / セクターサイズ</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">ファイルシステムタイプ</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">ボリュームの作成時にTridentで生成され<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>ます。この構成は 2 つのステップで構成されます。最初に、ボリューム名の先頭にストレージプレフィックス（デフォルトまたはバックエンド構成のプレフィックス）が付加さ<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>れ、形式の名前が生成されます。<block ref="c1698e7d39f974847e6db255afc061d7" prefix=" " category="inline-code"></block>その後、名前の完全消去が行われ、バックエンドで許可されていない文字が置き換えられます。ONTAPバックエンドの場合、ハイフンはアンダースコアに置き換えられます（内部名はになります<block ref="1edd19f408fb01912396584374aad28a" prefix=" " category="inline-code"></block>）。Element バックエンドの場合、アンダースコアはハイフンに置き換えられます。</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">ボリューム構成を使用して、REST APIを使用してボリュームを直接プロビジョニングできますが、Kubernetes環境では、ほとんどのユーザが標準のKubernetesメソッドを使用することを想定してい<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>ます。Trident は、プロビジョニングプロセスの一環として、このボリュームオブジェクトを自動的に作成します。</block>
  <block id="4d030713789beb2071b47e51b99ea17f" category="section-title">Astra Trident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">Snapshot はボリュームのポイントインタイムコピーで、新しいボリュームのプロビジョニングやリストア状態に使用できます。Kubernetesでは、これらはオブジェクトに直接対応し<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ます。各 Snapshot には、 Snapshot のデータのソースであるボリュームが関連付けられます。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">各<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block>オブジェクトには、次のプロパティが含まれています。</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">文字列</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident Snapshot オブジェクトの名前</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">ストレージシステム上の Trident Snapshot オブジェクトの名前</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">ボリューム名</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">Snapshot を作成する永続的ボリュームの名前</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">ボリュームの内部名</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">ストレージシステムに関連付けられている Trident ボリュームオブジェクトの名前</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">Kubernetesオブジェクト要求が作成されると、<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>Tridentは元のストレージシステムにSnapshotオブジェクトを作成することで機能します。このSnapshotオブジェクトのは<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>、プレフィックスと<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>オブジェクトのを<block ref="e7d22294bdcb7133967c3548ece982e5" prefix=" " category="inline-code"></block>組み合わせることで生成され<block ref="9df5757552a92dfd36506c9ef1ef6553" prefix=" " category="inline-code"></block>ます（例：<block ref="c0d30538d15b43e0140bcf4251703864" prefix=" " category="inline-code"></block>）。<block ref="617a43eb0446f84414df73cce2997fa1" prefix=" " category="inline-code"></block>および<block ref="2c2aed4b417a0f9c189d7ad6414ae28c" prefix=" " category="inline-code"></block>は、バッキングボリュームの詳細を取得することによって読み込まれます。</block>
  <block id="65589e383667ac98801982f7e9704f2a" category="section-title">Astra Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="1733f6bf382fd79ef07194c1f01825fa" category="paragraph">Tridentデーモンセットは、Kubernetesで利用可能な最高の優先度クラスであるプライオリティクラスを使用して<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block>、ノードの正常なシャットダウン時にAstra Tridentがボリュームを特定してクリーンアップできるようにし、リソースへの負荷が高いクラスタでは、Tridentデーモンセットポッドが優先度の低いワークロードをプリエンプトできるようにします。</block>
  <block id="bc1252710ec794375d6c59f55eea9823" category="paragraph">これを実現するために、Astra Tridentではオブジェクトを使用し<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>て、Tridentデーモンセットで「system-node-critical」優先クラスを確実に満たします。導入とデーモンセットの作成の前に、Astra Tridentがオブジェクトを検索し<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>、検出されなかった場合は適用します。</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">デフォルトのリソースクォータと優先クラスを詳細に制御する必要がある場合は、Helmチャートを使用してオブジェクトを生成または設定<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>できます<block ref="21b1223568b2ae7cd1db3ffddbe3b3fd" prefix=" " category="inline-code"></block>。</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">次に示すのは'ResourceQuota'オブジェクトがTridentのデマ作用を優先する例です</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：リソースクォータ</block>
  <block id="1894d1b67a8b86d7f876f515c238d5a6" category="paragraph">リソースクォータの詳細については、を参照してください<block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">インストールに失敗した場合のクリーンアップ<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">アンインストール</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">まれに、オブジェクトの作成後にインストールが失敗する<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>場合は、最初に再インストールを試行してから再インストールして<block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block>ください。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">それでも問題が解決しない場合は、オブジェクトを手動で削除し<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">取り外す<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="ba991f2f6d0f733e9b8a2136cedc99b2" category="paragraph">リソースの割り当てを独自に制御する場合は、コマンドを使用してAstra Tridentオブジェクトを削除できます<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>。</block>
  <block id="880cacf6429ab3c253b14beac8b73951" category="summary">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Astra Tridentはインストール時に特定の権限を有効にします。</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">PODセキュリティ標準（PSS）およびセキュリティコンテキストの制約（SCC）</block>
  <block id="9d482ecca4ba8a41fd8e1180c97a4b97" category="paragraph">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Astra Tridentはインストール時に特定の権限を有効にします。次のセクションでは、Astra Tridentによって設定された権限の詳細を説明します。</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：セキュリティ</block>
  <block id="bf490af1c404d2415dfe93c23b646bfb" category="admonition">PSSは、Podセキュリティポリシー（PSP）に代わるものです。PSPはKubernetes v1.21で廃止され、v1.25で削除されます。詳細については、を参照してください<block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必須のKubernetes Security Contextと関連フィールド</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">権限</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">権限があります</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：マウントの伝播</block>
  <block id="8711d10d95f02e2915623a51693eaaac" category="cell">CSIでは、マウントポイントが双方向である必要があります。つまり、Tridentノードポッドで特権コンテナを実行する必要があります。詳細については、を参照してください <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">ホストネットワーク</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSIデーモンに必要です。<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block>iSCSIマウントを管理し、ホストネットワークを使用してiSCSIデーモンと通信します。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">ホストIPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFSは'IPC（プロセス間通信）を使用して'nfsdと通信します</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">ホストPID</block>
  <block id="50a75b984e49b81a5c2b366ffe8cfba2" category="cell">NFSで開始する必要があり<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>ます。Astra Tridentは、ホストプロセスを照会して、NFSボリュームをマウントする前にが実行されているかどうかを確認し<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>ます。</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">機能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">この<block ref="89e03940e064509cce675def4874338e" prefix=" " category="inline-code"></block>機能は、特権コンテナのデフォルト機能の一部として提供されています。たとえば、Dockerは特権コンテナに次の機能を設定します。<block ref="279f844076697173760b840190800fa7" prefix=" " category="inline-code"></block><block ref="ca9d7807fbdd864698fc848190c05c7a" prefix=" " category="inline-code"></block></block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccom</block>
  <block id="bc13155252332e44b7dd850ea5842641" category="cell">Seccompプロファイルは、権限のあるコンテナでは常に「制限なし」なので、Astra Tridentでは有効にできません。</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="86b4800be380b1baaeaeead5f71076db" category="cell">OpenShiftでは、特権コンテナは（「Super Privileged Container」）ドメインで実行され、非特権コンテナはドメインで実行さ<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>れ<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block>ます。では<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>、がインストールされていると<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block>、すべてのコンテナがドメイン内で実行され<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>、SELinuxが実質的に無効になります。そのため、Astra Tridentはコンテナに追加しません<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>。</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">特権コンテナは、ルートとして実行する必要があります。CSIに必要なUNIXソケットにアクセスするために、非特権コンテナはrootとして実行されます。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">PODセキュリティ標準（PSS）</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">ラベル</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell"><block ref="c50055ec8e6213f61bd81cfda31f072f" prefix="" category="inline-code"></block> <block ref="76404c03a86906ee3beb617ed963367c" prefix=" " category="inline-code"></block></block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">Tridentコントローラとノードをインストールネームスペースに登録できるようにします。ネームスペースラベルは変更しないでください。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell"><block ref="65f4d8e6b012530443d6a9f6f2b9ce47" prefix="" category="inline-code"></block> <block ref="c9618b80f22dd4422aedf605ca48825e" prefix=" " category="inline-code"></block></block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">名前空間ラベルを変更すると、ポッドがスケジュールされず、「Error creating：...」または「Warning：trident-csi-...」が表示される場合があります。この場合は、のネームスペースラベルが変更されていないかどうかを確認してください<block ref="bd638b36d2814f488c1497cfe49eceea" prefix=" " category="inline-code"></block>。その場合は、Tridentを再インストールします。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">PoDセキュリティポリシー（PSP）</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">フィールド</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell"><block ref="18dfe779aeef79958856ed305c2bdf2c" prefix="" category="inline-code"></block></block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特権コンテナは、特権昇格を許可する必要があります。</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell"><block ref="320921b707f3348e6c98b4280fa1a31d" prefix="" category="inline-code"></block></block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">TridentはインラインCSIエフェメラルボリュームを使用しません。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell"><block ref="cdefa1888948b5a72fea2994aeca2cab" prefix="" category="inline-code"></block></block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">権限のないTridentコンテナにはデフォルトよりも多くの機能が必要ないため、特権コンテナには可能なすべての機能が付与されます。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell"><block ref="5439f69262a770a5f83afbdcce16c7e8" prefix="" category="inline-code"></block></block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolドライバ</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Tridentではを使用できない<block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>ため、これらのボリュームは許可されるボリュームのリストに含まれていません。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell"><block ref="5ecb32286b22ea1d317e0328f6ca17f3" prefix="" category="inline-code"></block></block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Tridentノードポッドでノードのルートファイルシステムがマウントされるため、このリストを設定してもメリットはありません。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell"><block ref="c503c5204b219327ad1ec993eafeb60b" prefix="" category="inline-code"></block></block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Tridentはいずれも使用しません<block ref="9b2836a126a08612261801d15525c966" prefix=" " category="inline-code"></block>。</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell"><block ref="1f5590dd9e5fe118cb2d0fafdd4a2c76" prefix="" category="inline-code"></block></block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Tridentには安全でないものは必要あり<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>ません。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell"><block ref="11ed1e398eb4fb87f6dd82eb0c2c484b" prefix="" category="inline-code"></block></block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">特権コンテナに追加する機能は必要ありません。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell"><block ref="3262227f241b5104dae49e3b6794a48e" prefix="" category="inline-code"></block></block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">権限の昇格は、各Tridentポッドで処理されます。</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell"><block ref="8de935bade437bae01a87d360814f8b2" prefix="" category="inline-code"></block></block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">いいえは<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>許可されません。</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell"><block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix="" category="inline-code"></block></block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Tridentコンテナはrootとして実行されます。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell"><block ref="9510eecf0d7bfd6ddcc0af8dcab468c3" prefix="" category="inline-code"></block></block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell"><block ref="caa805d341a15bff93c4a9a29f49b191" prefix="" category="inline-code"></block></block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">NFSボリュームをマウントするにはホストIPCが通信する必要があります<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block></block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell"><block ref="e3b493bcbdc62af28f127a151a9fb487" prefix="" category="inline-code"></block></block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadmには、iSCSIデーモンと通信するためのホストネットワークが必要です。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell"><block ref="d5eeda68602776a6cc184dc06e8008fb" prefix="" category="inline-code"></block></block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">ホストPIDは、がノードで実行されているかどうかを確認するために必要<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>です。</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell"><block ref="79602710f0451e93a37a68d73146cdfd" prefix="" category="inline-code"></block></block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Tridentはホストポートを使用しません。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell"><block ref="bd638b36d2814f488c1497cfe49eceea" prefix="" category="inline-code"></block></block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Tridentノードのポッドでは、ボリュームをマウントするために特権コンテナを実行する必要があります。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell"><block ref="a36ad2513fd5bed82000a11cd072c70c" prefix="" category="inline-code"></block></block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Tridentノードのポッドは、ノードのファイルシステムに書き込む必要があります。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell"><block ref="8ef4c526d5dbf854568be0215948562b" prefix="" category="inline-code"></block></block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Tridentノードのポッドは特権コンテナを実行するため、機能をドロップすることはできません。</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell"><block ref="24f066518afeea78c9e3e1935e2b4afa" prefix="" category="inline-code"></block></block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell"><block ref="e70b97e1fe755b3b63eee3148167d06a" prefix="" category="inline-code"></block></block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell"><block ref="a1933ffc7c56d4bad559d4aada4b5cf4" prefix="" category="inline-code"></block></block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell"><block ref="119a538c01fd566d2c6b0a773680c029" prefix="" category="inline-code"></block></block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Tridentはを使用しません<block ref="578e49a043cd014389265d3d5745237b" prefix=" " category="inline-code"></block>。</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell"><block ref="35fa9c57956b497d442646153f18643f" prefix="" category="inline-code"></block></block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">現在、コンテナランタイムとKubernetesディストリビューションでSELinuxを処理する方法が異なるため、Tridentは設定されて<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>いません。</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell"><block ref="69ca32a3f2c3aed6de1cc5ea72ab45eb" prefix="" category="inline-code"></block></block>
  <block id="707325d27093188691659cc218115f02" category="cell"><block ref="078831e29f354e83fac6da3db6ed6b7b" prefix="" category="inline-code"></block></block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Tridentポッドには、このボリュームプラグインが必要です。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell"><block ref="7af598b967dfa9a65aa6bc1172ac2793" prefix="" category="inline-code"></block></block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">セキュリティコンテキストの制約（SCC）</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">ラベル</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell"><block ref="34f1a1024ebe43028f3959a44bacfc6b" prefix="" category="inline-code"></block></block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Tridentノードのポッドは、ノードのルートファイルシステムをマウントします。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell"><block ref="96a892a9f3eea0ca79b145a0eaf9dbb2" prefix="" category="inline-code"></block></block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">NFSボリュームをマウントするには、ホストIPCと通信する必要があり<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block>ます。</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell"><block ref="90837134a0fa2189e147709cb1c8ee73" prefix="" category="inline-code"></block></block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell"><block ref="1f50d8422285f1e4485caf89884871d1" prefix="" category="inline-code"></block></block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell"><block ref="e3370203a64857bb982dfad1f53f32dd" prefix="" category="inline-code"></block></block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell"><block ref="2290fe08023a5a24bfa0749418021ce3" prefix="" category="inline-code"></block></block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell"><block ref="1471e4e05a4db95d353cc867fe317314" prefix="" category="inline-code"></block></block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">このSCCはTridentに固有で、ユーザにバインドされています。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell"><block ref="64ed99ed2cd72b59717e6297314edfc3" prefix="" category="inline-code"></block></block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell"><block ref="5c9160146b43f9e1879772881e219a6a" prefix="" category="inline-code"></block></block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特権のあるコンテナは常に「閉鎖的」な状態で実行されます。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell"><block ref="9bc65c2abec141778ffaa729489f3e87" prefix="" category="inline-code"></block></block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">このSCCをTridentネームスペースのTridentユーザにバインドするエントリが1つあります。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">N/A</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell"><block ref="05b8f3cd42ccc5f3a4847a902e506823" prefix="" category="inline-code"></block></block>
  <block id="e977c869b42c54e3c7d8fb9c071aab2b" category="summary">Trident が通信するポートの詳細をご確認ください。</block>
  <block id="66163e38dd4a6a2a3e01f422ce501b1b" category="paragraph">Tridentが通信に使用するポートの詳細をご確認ください。</block>
  <block id="219abf04d1bb79760c15ca6966b68fb3" category="paragraph">Astra Trident は次のポート経由で通信：</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">ポート</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">バックチャネル HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus 指標エンドポイント</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST サーバ</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident デミ作用 / レディネスプローブポートは、 Trident デミ作用ポッドで使用されます</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">Liveness/Readinessプローブポートは、フラグを使用してインストール中に変更できます<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block>。このポートがワーカーノード上の別のプロセスで使用されていないことを確認することが重要です。</block>
  <block id="8447c4879970f03c99a2bec36a05c141" category="summary">Trident の REST API を使用する場合は、 REST エンドポイントを直接使用できます。</block>
  <block id="a0ebcf8495639418ba9d4b85dbb67b8b" category="doc">Astra Trident REST API</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl コマンドとオプション</block>
  <block id="bd75dd911fd79061ecd2d46e65ed7f74" category="paragraph">Astra Trident REST APIは最も簡単に操作できます<block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>が、必要に応じてRESTエンドポイントを直接使用することもできます。</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">REST APIを使用する状況</block>
  <block id="d08436e363d4793fd6a0de3022ebfd63" category="paragraph">REST APIは、Kubernetes以外の環境でAstra Tridentをスタンドアロンバイナリとして使用する高度なインストールに役立ちます。</block>
  <block id="14dc7970933630896b0232f2a8b52039" category="paragraph">セキュリティを強化するため、ポッド内で実行する場合、Astra Tridentは<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block>デフォルトでlocalhostに制限されます。この動作を変更するには、ポッド構成でAstra Tridentの引数を設定する必要があり<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block>ます。</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">REST APIを使用する</block>
  <block id="7dc6bdd02fe704435408c2f2a72ccdcb" category="paragraph">これらのAPIの呼び出し方法の例については、debug)<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block>フラグを渡します。詳細については、を参照してください <block ref="397e1725afc9a253baf2479c77d66ced" category="inline-link-macro-rx"></block>。</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API は次のように機能します。</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="section-title">取得</block>
  <block id="943c9b081b44587d874271006286d321" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block></block>
  <block id="0211fd9d40454137caed274c8b3d6054" category="list-text">そのタイプのすべてのオブジェクトを一覧表示します。</block>
  <block id="a1ed61bb0432fb6b25e4789166744818" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block></block>
  <block id="aa5aa416edde45fdd91bf4eff5a47d7f" category="list-text">指定したオブジェクトの詳細を取得します。</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="section-title">投稿</block>
  <block id="fe25634ce7a9cad53e5d4b1d7a3039a6" category="list-text"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block></block>
  <block id="777bb10b09d21c1e8001a8a8aa5767d8" category="list-text">指定したタイプのオブジェクトを作成します。</block>
  <block id="852d4423ad46f1602189d5c1abeb2f27" category="list-text">オブジェクトを作成するには JSON 構成が必要です。各オブジェクトタイプの仕様については、を参照してください<block ref="397e1725afc9a253baf2479c77d66ced" category="inline-link-macro-rx"></block>。</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">オブジェクトがすでに存在する場合、動作は一定ではありません。バックエンドが既存のオブジェクトを更新しますが、それ以外のすべてのオブジェクトタイプで処理が失敗します。</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="section-title">削除</block>
  <block id="7f43e795c3bf1beb79462cd9164057e4" category="list-text"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block></block>
  <block id="99e18f16be02084849198b503c3e3c29" category="list-text">指定したリソースを削除します。</block>
  <block id="b78ecf69aa9170bc62d1fa7a8b8ac289" category="admonition">バックエンドまたはストレージクラスに関連付けられているボリュームは削除されず、削除されません。詳細については、を参照してください <block ref="397e1725afc9a253baf2479c77d66ced" category="inline-link-macro-rx"></block>。</block>
  <block id="ee50ce7340da5b018abe62c8e613cae0" category="summary">Astra Trident は、 Trident オーケストレーションツール用のコマンドラインオプションをいくつか提供し、特定のポートを介して通信を行います。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">コマンドラインオプション</block>
  <block id="94efe0c9471991c69d2a3b0970a56744" category="paragraph">Trident は、 Trident オーケストレーションツールのコマンドラインオプションをいくつか公開しています。これらのオプションを使用して、導入環境を変更できます。</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">ロギング</block>
  <block id="9b9ef5337f7c7fbad5389e8b34d3fb1f" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block></block>
  <block id="f4078e4654ff3cac1121079492b0c3f4" category="list-text">デバッグ出力を有効にします。</block>
  <block id="ca4acdfba197b4053e99386e85bf4cc4" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block></block>
  <block id="5c8767809eb386e1ab0473de8292544f" category="list-text">ロギングレベル（debug、info、warn、error、fatal）を設定します。デフォルトは info です。</block>
  <block id="4da29764ff4997096420f0ae6861b27c" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block></block>
  <block id="7db7db05fbaa2896d81a59e8f38fc27a" category="list-text">このオプションまたはを使用し<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block>て、Kubernetesのサポートを有効にします。これを設定すると、 Trident はポッドの Kubernetes サービスアカウントのクレデンシャルを使用して API サーバに接続します。これは、サービスアカウントが有効になっている Kubernetes クラスタで Trident がポッドとして実行されている場合にのみ機能します。</block>
  <block id="1d0a1baeeb99a2ab2b62995cd2ca3fc7" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block></block>
  <block id="e7f495e8d7ecb1b679fe990c82ebd24b" category="list-text">このオプションまたはを使用し<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>て、Kubernetesのサポートを有効にします。Trident を指定すると、セキュアでないアドレスとポートを使用して Kubernetes API サーバに接続されます。これにより、 Trident をポッドの外部に導入することができますが、サポートされるのは API サーバへのセキュアでない接続だけです。安全に接続するには、オプションを使用してポッドにTridentを導入し<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="4248fc4f101e2b3fe6bdb19065701fa5" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block></block>
  <block id="fc3445d927bff3ae43a549a8e6534c5c" category="list-text">Dockerプラグインの登録時に使用するドライバ名。デフォルトはです<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>。</block>
  <block id="fc9918a81547fe43ace70de85a7bebac" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block></block>
  <block id="65ec7391e16f9bd6e659149b86819a17" category="list-text">UNIXドメインソケットではなく、このポートでリッスンします。</block>
  <block id="9489e1104464d83e0ce20703b6791e94" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block></block>
  <block id="edd29d0afafb06480d68d40a7a22ffa5" category="list-text">必須。バックエンド構成ファイルへのパスを指定する必要があります。</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">REST</block>
  <block id="668ae2bb5fbfb42f8d89e94482a4de47" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block></block>
  <block id="46fedf27957de15ad13ad14b25adb901" category="list-text">TridentのRESTサーバがリスンするアドレスを指定します。デフォルトは localhost です。localhost で聞いて Kubernetes ポッド内で実行しているときに、 REST インターフェイスにポッド外から直接アクセスすることはできません。ポッドのIPアドレスからRESTインターフェイスにアクセスできるようにするために使用し<block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block>ます。</block>
  <block id="99f1d9ee8daaf03f69217b44950e3442" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block></block>
  <block id="33be5112b1ca3c0147264576f7d2e571" category="list-text">TridentのRESTサーバがリスンするポートを指定します。デフォルトは8000です。</block>
  <block id="a2714fafd1caea03119590a34bc711c6" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block></block>
  <block id="14d37f351bc2789fc70a93a3114308f0" category="list-text">RESTインターフェイスを有効にします。デフォルトは true です。</block>
  <block id="0f5dc79c8003190ab8f758b1748ba0d8" category="summary">ネットアップは、製品やサービスの改善と強化を継続的に行っています。最新バージョンの Astra Trident の機能、拡張機能、バグ修正の一部を以下に示します。</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">新機能</block>
  <block id="2e6ce374ac42de81aea6a3d682b92e33" category="paragraph">リリースノートでは、最新バージョンの Astra Trident の新機能、拡張機能、およびバグ修正に関する情報を提供しています。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>インストーラのzipファイルに含まれているLinux用のバイナリは、テスト済みでサポートされているバージョンです。zipファイルの一部で提供されるバイナリ<block ref="1e6add150fa42ebd470891f1547d31f0" prefix=" " category="inline-code"></block>は、テストまたはサポートされていないことに注意して<block ref="43b9d8ea18c48c3a64c4e37338fc668f" prefix=" " category="inline-code"></block>ください。</block>
  <block id="cb308305fa3948c63d3c57dff530cf62" category="section-title">24.06の新機能</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">キノウカクチョウ</block>
  <block id="68fed7a5dad5dbe38e73f242591f9cdc" category="inline-link-macro">問題#341</block>
  <block id="79695bf027de5b53252ad567db19afc0" category="list-text">**重要**：<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> ONTAPエコノミードライバでqtree / LUNのサイズが制限されるようになりました。これらのドライバのFlexVolサイズを制御するには、新しいパラメータを使用し <block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block> ます。<block ref="43e193e4ec566def2b1890b13e291e7f" category="inline-link-macro-rx"></block>()。</block>
  <block id="f8a74109e040a7d2fe11f386046e7f0f" category="inline-link-macro">問題#883</block>
  <block id="d9b039cc0482c40024b1c3e5b5bfab48" category="list-text">廃止されたigroupを使用している場合に、iSCSIの自己修復機能で正確なLUN IDでSCSIスキャンを開始できるようになりました（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>）。</block>
  <block id="624c548303efc06e3245885cb046ce02" category="list-text">バックエンドが中断モードの場合でもボリュームのクローン処理とサイズ変更処理を実行できるようになりました。</block>
  <block id="5ef8edaa80dbf1c2759570029443b27c" category="list-text">Tridentコントローラのユーザ設定のログ設定をAstra Tridentノードポッドに伝播できるようになりました。</block>
  <block id="1cf26851b2b9fef8a790b63dbf611e3b" category="list-text">ONTAPバージョン9.15.1以降ではなくRESTをデフォルトで使用するためのAstra Tridentのサポートが追加されました。</block>
  <block id="53e2f13be42e180fc96be9feca214cc0" category="list-text">新しい永続ボリュームのONTAPストレージバックエンドでのカスタムボリューム名とメタデータのサポートが追加されました。</block>
  <block id="f22dddc969b204ba1f08fd5b6dccf9e5" category="list-text">NFSマウントオプションがNFSバージョン4.xを使用するように設定されている場合に、（ANF）ドライバがデフォルトでSnapshotディレクトリが自動的に有効になるように拡張されました<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 。</block>
  <block id="b480f0e15ab56f178942ac571ef3d0b4" category="list-text">NFSボリュームに対するBottlerocketのサポートが追加されました。</block>
  <block id="2b1f345aa37d468275a96267dbf3cc86" category="list-text">Google Cloud NetApp Volumeのテクニカルプレビューのサポートを追加。</block>
  <block id="e422e290c66eca7f882976f830b781b4" category="list-text">Kubernetes 1.30のサポートを追加。</block>
  <block id="c525dea7c7a91aa83ecee7ebbc7ed780" category="list-text">Astra Trident DaemonSetの起動時にゾンビマウントと残留追跡ファイルをクリーンアップする機能が追加されました（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>）。</block>
  <block id="d329ee31cea82ba7b18282e9874fd6fb" category="inline-link-macro">問題#849</block>
  <block id="7bdef3d1e5eba62c2c49345689cb034e" category="list-text">LUKSボリュームを動的にインポートするためのPVCアノテーションが追加されました<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block> （<block ref="8164e77c784c82617684b3113cbe7b39" category="inline-link-macro-rx"></block>）。</block>
  <block id="88cc43db200dd9a0ba8b9f3d2b3494c5" category="list-text">ANFドライバにトポロジ対応を追加。</block>
  <block id="bd97885496639b0f4498d4131198ac36" category="list-text">Windows Server 2022ノードのサポートが追加されました。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">の修正</block>
  <block id="b42a3876afd5599c0b571a2d374456a3" category="list-text">古いトランザクションが原因でAstra Tridentのインストールが失敗する問題を修正。</block>
  <block id="5f9e29078ffd406f09be67dadfa65c81" category="inline-link-macro">問題#892</block>
  <block id="d2e65e05e52ae58b1bc83b9f92667bc4" category="list-text">kutes()からの警告メッセージを無視するtridentctlを修正しました<block ref="74b3b54ef301f7904eaa2691276657ad" category="inline-link-macro-rx"></block>。</block>
  <block id="6d20ebb6924fd1c28927afadfd523477" category="inline-link-macro">問題#887</block>
  <block id="13d171c7c92d2901c77206b8f50a0e4c" category="list-text">Astra Tridentコントローラの優先度が（）に変更されました<block ref="4727953cbcafc9a49db2d5e1fbb4878a" prefix=" " category="inline-code"></block><block ref="cfcd208495d565ef66e7dff9f98764da" prefix=" " category="inline-code"></block><block ref="f7f5a51d8afc55795aa860b78e4c6437" category="inline-link-macro-rx"></block>。</block>
  <block id="e0d3d678b5ec46031ee8c6afb7413c9e" category="inline-link-macro">問題[#885</block>
  <block id="2d7e2b9397eede29137512c835ab6774" category="list-text">ONTAPドライバでは、20MiB未満のボリュームサイズを使用できるようになりました（<block ref="91ddf20e925712134071a4cc83fc66a3" category="inline-link-macro-rx"></block>）。</block>
  <block id="63edbe181a5ad4e508e7de92668ddb1c" category="list-text">Astra Tridentを修正し、ONTAP-SANドライバのサイズ変更処理中にFlexVolが縮小されないようにしました。</block>
  <block id="62a3f40ae48e77863d3e5bdef59c1adb" category="list-text">NFS v4.1でのANFボリュームのインポートエラーを修正。</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">非推奨</block>
  <block id="ec3a1c549e57d9bf27115540489138c6" category="list-text">EOLのWindows Server 2019のサポートが削除されました。</block>
  <block id="6a89b6f002954f791e28c8dd2f2afcc8" category="section-title">24.02の変更点</block>
  <block id="ad8deb3ead6fe765f774fdb1b4d51494" category="list-text">Cloud Identityのサポートが追加されました。</block>
  <block id="1ed2e28ed5e329359ed11fa6b3213f12" category="list-text">ANF-AzureワークロードIDを持つAKは、クラウドIDとして使用されます。</block>
  <block id="685239028773625de0a3fdc18c584dcc" category="list-text">FSxN-AWS IAMロールを持つEKSがクラウドIDとして使用されます。</block>
  <block id="028454bbd057dd804724aba8aaa7845e" category="list-text">EKSコンソールからEKSクラスタにアドオンとしてAstra Tridentをインストールするサポートを追加。</block>
  <block id="a78644e58f124252a596fb7bd5a3f0e3" category="inline-link-macro">問題#864</block>
  <block id="45691f8c8852e7e9f8cf8e2ca1fd1a31" category="list-text">iSCSIの自己修復を設定および無効にする機能（）が追加されました<block ref="eebe101dfd60623e764ed89e9c35e13c" category="inline-link-macro-rx"></block>。</block>
  <block id="77a876e8901fcb15dc01c057f3102ab6" category="inline-link-macro">問題#453</block>
  <block id="7442164780795ca1f9f8a0ab2826caa9" category="list-text">AWS IAMおよびSecretsManagerとの統合を可能にし、Astra Tridentでバックアップを含むFSxボリュームを削除できるように、ONTAPドライバにFSxパーソナリティを追加（<block ref="7c3258c670b686f5f475bd6b06dfec79" category="inline-link-macro-rx"></block>）。</block>
  <block id="210645e9f461c75a53d611ad7ca29990" category="list-text">Kubernetes 1.29のサポートを追加。</block>
  <block id="40c23d891efbf79122ffcbfdd4e1fc28" category="inline-link-macro">問題#866</block>
  <block id="b39a2f3ca5558cdf70a39aaa44921e02" category="list-text">ACPが有効になっていない場合に表示されるACPの警告メッセージを修正しました（<block ref="8b8bf8931a263b3cadfea0d794486463" category="inline-link-macro-rx"></block>）。</block>
  <block id="694637a910367ab017767d1135910517" category="list-text">クローンがスナップショットに関連付けられている場合、ONTAPドライバのスナップショット削除中にクローンスプリットを実行する前に10秒の遅延が追加されました。</block>
  <block id="52a6fa0a11a7afe868a3a84e42cff7a1" category="list-text">マルチプラットフォームイメージマニフェストからIn-Tooアテステーションフレームワークを削除しました。</block>
  <block id="1fc7da31107247b07ab3abf335b217de" category="section-title">23.10の変更点</block>
  <block id="2564a762d021b4beae21f01627773c0f" category="inline-link-macro">問題#834</block>
  <block id="e53ddb8a6947ad5b93f8c82a86836f16" category="list-text">新しい要求サイズがONTAP - NASおよびONTAP - NAS - FlexGroupストレージドライバの合計ボリュームサイズよりも小さい場合、ボリュームの拡張を修正しました（<block ref="6140c2bc2ecfc555b47da5841f5fd8ae" category="inline-link-macro-rx"></block>）。</block>
  <block id="d52fe9ebb96cf9ce91bf00e0caa773de" category="inline-link-macro">問題#722</block>
  <block id="676394929bfe922b6aff300499cef5a9" category="list-text">ONTAP - NASおよびONTAP - NAS - FlexGroupストレージドライバのインポート時にボリュームの使用可能なサイズのみを表示する固定ボリュームサイズ（<block ref="1ec6a9e212fa13524af3f3c296d6bb72" category="inline-link-macro-rx"></block>）。</block>
  <block id="c2b105e6592336c26afd4f39319a222e" category="list-text">ONTAP-NAS-EconomyのFlexVol名変換が修正されました。</block>
  <block id="a78c2c1c722d3e8b3abc0e050b914850" category="list-text">ノードのリブート時にWindowsノードでAstra Tridentの初期化問題が発生する問題が修正されました。</block>
  <block id="b680f5ddc32b78c78329f3f15a836381" category="paragraph">Kubernetes 1.28のサポートを追加。</block>
  <block id="2284dc5d4add6f82e5bc0121aa82a816" category="list-text">azure-netapp-filesストレージドライバでAzure Managed Identities（AMI）を使用するためのサポートが追加されました。</block>
  <block id="be1e775eed9a7023c7facbd3f3cd32cd" category="list-text">ONTAP-SANドライバでNVMe over TCPのサポートが追加されました。</block>
  <block id="24a3b687404991a8b5d83740bfde9f9c" category="inline-link-macro">問題#558</block>
  <block id="86826a04ec735c436222d55949b27e52" category="list-text">ユーザによってバックエンドがSuspended状態に設定されている場合に、ボリュームのプロビジョニングを一時停止する機能が追加されました（<block ref="4ad3a18b49b4979346d26b5940c21a0f" category="inline-link-macro-rx"></block>）。</block>
  <block id="4b7b626af3a0da6c1aea3f8bfb747ecd" category="section-title">Astra Controlの高度な機能</block>
  <block id="8db3e906ba1fb6be167b2c9c454bb44a" category="paragraph">Astra Trident 23.10では、Astra ControlのライセンスユーザがAstra Control Provisionerと呼ばれる新しいソフトウェアコンポーネントを利用できます。このプロビジョニングツールでは、Astra Tridentだけではサポートされない、高度な管理機能とストレージプロビジョニング機能のスーパーセットを利用できます。23.10リリースでは、次の機能があります。</block>
  <block id="841c0f9b214b9e81f2613e90df896d01" category="list-text">ONTAP NAS経済性に優れたドライバベースのストレージバックエンドで、アプリケーションのバックアップとリストアを実現</block>
  <block id="e5724ee5eef0c70e6b8279698448801b" category="list-text">Kerberos 5暗号化によるストレージバックエンドのセキュリティの強化</block>
  <block id="9997c94ed11ae9d75d9264b1124be18e" category="list-text">スナップショットを使用したデータリカバリ</block>
  <block id="4f254b5768d1e18364bedb0b2402d10a" category="list-text">SnapMirrorの機能拡張</block>
  <block id="bc321686af3ca8a3db0bcd93ef54f9ce" category="inline-link-macro">Astra Control Provisionerの詳細をご確認ください。</block>
  <block id="429c6ecffd4e4a3e5f95dcee1ad3e43c" category="paragraph"><block ref="429c6ecffd4e4a3e5f95dcee1ad3e43c" category="inline-link-macro-rx"></block></block>
  <block id="d4eb6933e70b3c49a70e1d8427489044" category="section-title">23.07.1の変更点</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">問題#740</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">* Kubernetes：*ダウンタイムゼロのアップグレードをサポートするためのデーモンセットの削除を修正（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">23.07の変更点</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">古いポッドがterminating状態で停止するのを無視するためのTridentアップグレードを修正しました<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>()。</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">問題#795</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">「transient-toleration-toleration-pod Trident」定義（）に公差を追加しました<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block>。</block>
  <block id="0fc3850c9a9a5c53529bc5bfadf0cd58" category="list-text">ノードステージング操作中にゴーストiSCSIデバイスを識別して修正するためのLUN属性を取得するときに、LUNシリアル番号が照会されるようにするためのONTAP ZAPI要求を修正しました。</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">問題#816</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">ストレージドライバコード()のエラー処理を修正しました<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block>。</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">use-rest = trueを指定してONTAPドライバを使用すると、クォータのサイズが修正されました。</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">ONTAP-SAN-EconomyでLUNクローンを固定作成</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">パブリッシュ情報フィールドをからに<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>戻し<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block>ます。フィールドに値を入力して回復するためのロジックが追加されました（場合によっては）<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>。</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">事前プロビジョニングされたSnapshotのインポートのサポートが追加されました。</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">問題#817</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">最小化された配備とデーモン設定Linuxパーミッション<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block>()</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">「online」ボリュームおよびSnapshotの状態フィールドが報告されなくなりました。</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">問題#801</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">#543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">ONTAPバックエンドがオフラインの場合は、バックエンドの状態を更新します（<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block>、<block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block>）。</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">LUNシリアル番号は、ControllerVolumePublishワークフロー中に常に取得および公開されます。</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">iSCSIマルチパスデバイスのシリアル番号とサイズを確認するロジックが追加されました。</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">正しいマルチパスデバイスがステージングされていないことを確認するための、iSCSIボリュームの追加検証。</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">実験的強化</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">ONTAP-SANドライバでのNVMe over TCPのテクニカルプレビューのサポートを追加。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">ドキュメント</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">組織とフォーマットの多くの改善が行われました。</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">v1beta1スナップショットのサポートが削除されました。</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">CSI以前のボリュームとストレージクラスのサポートが削除されました。</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">サポートされるKubernetesの最小要件を1.22に更新。</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">23.04の変更点</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">ONTAP-SAN-*ボリュームの強制的なボリューム接続解除は、非グレースフルノードシャットダウン機能のゲートが有効になっているKubernetesバージョンでのみサポートされます。インストール時にTridentインストーラフラグを使用して強制接続解除を有効にする必要があります<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block>。</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">Tridentのオペレータが、仕様で指定されている場合にインストールにIPv6 localhostを使用するように修正しました。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">問題#799</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">Trident Operatorクラスタロールの権限が、バンドル権限（）と同期されるように修正され<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>ました。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">RWXモードで複数のノードにrawブロックボリュームを接続することで問題 を修正。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">SMBボリュームのFlexGroup クローニングのサポートとボリュームインポートが修正されました。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">問題#811</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">Tridentコントローラをすぐにシャットダウンできない問題が修正されました（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">ONTAP-SAN-*ドライバでプロビジョニングされた指定したLUNに関連付けられているすべてのigroup名を一覧表示する修正を追加しました。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">外部プロセスを完了まで実行できるようにする修正を追加しました。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">問題#537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">s390アーキテクチャ()のコンパイルエラーを修正しました<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block>。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">問題#781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">ボリュームマウント処理中の誤ったログレベルを修正（<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">問題#802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">電位タイプアサーションエラー()が修正されました<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block>。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">Kubernetes 1.27のサポートを追加。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">LUKSボリュームのインポートのサポートが追加されました。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">ReadWriteOncePod PVCアクセスモードのサポートが追加されました。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">ノードの正常でないシャットダウン時にONTAP-SAN-*ボリュームで強制的に接続解除がサポートされるようになりました。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">問題#758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">すべてのontap-san-*ボリュームでノード単位のigroupを使用するようになりました。LUNはigroupにマッピングされるだけで、それらのノードにアクティブにパブリッシュされるため、セキュリティ体制が強化されます。既存のボリュームは、アクティブなワークロードに影響を与えずに安全であるとTridentが判断した場合に、必要に応じて新しいigroupスキームに切り替えられます（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">Tridentで管理されていないigroupをONTAP-SAN-*バックエンドからクリーンアップし、Tridentのセキュリティを強化</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">ストレージドライバontap-nas-economyとontap-nas-flexgroupに、Amazon FSxによるSMBボリュームのサポートが追加されました。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">ontap-nas、ontap-nas-economy、ontap-nas-flexgroupストレージドライバでSMB共有のサポートが追加されました。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">問題#732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">arm64ノードのサポートを追加しました<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block>()。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">最初にAPIサーバを非アクティブ化することにより、Tridentのシャットダウン手順が改善されました（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">Windowsおよびarm64ホストのクロスプラットフォームビルドサポートをMakefileに追加しました。build.mdを参照してください。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">** Kubernetes：** ONTAP SANドライバおよびONTAP SANエコノミードライバの構成時に、バックエンドスコープigroupが作成されなくなりました（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1の変更点</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">Trident Operatorクラスタロールの権限がバンドルの権限と同期されるように修正され<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>ました。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01の変更点</block>
  <block id="d7393ea674321a4e126b601e3097f2ec" category="admonition">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にAstra Tridentをアップグレードしてください。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">問題#783、#794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：Helm()を使用してTridentのインストールを修正するポッドセキュリティポリシーの作成を除外するオプションが追加されました<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">Kubernetes 1.26のサポートを追加。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">問題#757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">全体的なTrident RBACリソース利用率の向上（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>）</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">ホストノードで解除されたiSCSIセッションや古いiSCSIセッションを自動で検出して修正できるようになりました。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">LUKS暗号化ボリュームの拡張のサポートが追加されました。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：LUKS暗号化ボリュームのクレデンシャルローテーションのサポートを追加しました。</block>
  <block id="c8f16bbec47a1722c0f16f173cf64d21" category="list-text">ONTAP 対応のAmazon FSXを使用したSMBボリュームのONTAP NASストレージドライバへのサポートが追加されました。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">SMBボリュームの使用時のNTFS権限のサポートが追加されました。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">CVSサービスレベルを使用したGCPボリュームのストレージプールのサポートが追加されました。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">FlexGroupをONTAP-NAS-flexgroupストレージドライバで作成する際のflexgroupAggregateListのオプション使用がサポートされるようになりました。</block>
  <block id="af2331cf2d8ade7bb48e4d540510db26" category="list-text">複数のFlexVolを管理する場合の、ONTAPとNASの両方に対応したストレージドライバのパフォーマンスが向上しました。</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">すべてのONTAP NASストレージドライバに対してデータLIFの更新を有効にしました。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">Trident DeploymentとDemonSetの命名規則を更新し、ホストノードOSを反映させました。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：サポートされる最小Kubernetes数を1.21に更新</block>
  <block id="25854d9b7e460f2667b773a052ff6830" category="list-text">ドライバまたは<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバの設定時にデータLIFを指定しないで<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ください。</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10の変更点</block>
  <block id="027daea9679099cb5b0c6ddd862f1afc" category="paragraph">* Astra Trident 22.10.*にアップグレードする前に、次の重要な情報をお読みください</block>
  <block id="83261c9e7e65d5ffc2d188c07767e5f6" category="admonition-title">&lt;strong&gt;Astra Tridentに関する重要な情報22.10&lt;/strong&gt;</block>
  <block id="c5d2d3c8dfa65a831c35d09ac4683434" category="list-text">TridentでKubernetes 1.25がサポートされるようになりました。Kubernetes 1.25にアップグレードする前に、Astra Tridentを22.10にアップグレードする必要があります。</block>
  <block id="27418d8553177383cd6e1bb0e1ce4a57" category="list-text">SAN環境では、Astra Tridentでマルチパス構成の使用が厳密に適用されるようになりました。これには、multipath.confファイルの推奨値が<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>含まれています。</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">問題#759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">22.07.0のアップグレード中にフィールドを使用して作成されたONTAPバックエンドに固有の問題が修正されました<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block>（<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block>）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">問題#548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">問題#760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">** Docker：**一部の環境（および<block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）でDockerボリュームプラグインが起動しない問題を修正しました<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block>。</block>
  <block id="120b67b07f827aba020a1e3932877333" category="list-text">レポートノードに属するデータLIFのサブセットのみが公開されるように、ONTAP SANバックエンド固有の修正されたSLM問題 。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">ボリュームの接続時にiSCSI LUNの不要なスキャンが発生するというパフォーマンス問題 の問題が修正されました。</block>
  <block id="4a9eb9834d90361e1b70e6ac3c8b9a5c" category="list-text">Astra Trident iSCSIワークフロー内で詳細な再試行を削除し、失敗の時間を短縮。外部の再試行間隔も短縮</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">対応するマルチパスデバイスがすでにフラッシュされている場合にiSCSIデバイスのフラッシュ時にエラーが返される修正問題 。</block>
  <block id="ef0f938ae67a04ac3370fe516c2a6baf" category="list-text">Kubernetes 1.25のサポートを追加。Kubernetes 1.25にアップグレードする前に、Astra Tridentを22.10にアップグレードする必要があります。</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">Trident Deployment and DemonSet用に別々のServiceAccount、ClusterRole、ClusterRoleBindingを追加して、今後の権限の強化を可能にしました。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">ネームスペース間ボリューム共有</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">のサポートが追加されました<block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">すべてのTrident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block>ストレージドライバがONTAP REST APIで動作するようになりました。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">Kubernetes 1.25をサポートするために、<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>を使用せずに新しい演算子yaml）を<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block>追加しました。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">LUKS暗号化ボリュームをサポートします</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ストレージドライバ用に<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>追加されました<block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block>。</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">Windows Server 2019ノードのサポートが追加されました。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">WindowsノードでのSMBボリュームのサポート</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">ストレージドライバを使用して<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>追加され<block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block>ます。</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">ONTAP ドライバの自動MetroCluster スイッチオーバー検出機能が一般提供されるようになりました。</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes：**サポートされている最小Kubernetesを1.20に更新。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">Astraデータストア(Aads )ドライバを削除</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">iSCSIでワーカーノードのマルチパスを設定する際のサポートと<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block>オプションが<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block>削除されました<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block>。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">22.07の変更点</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">** Kubernetes **</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub問題#700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">HelmまたはTrident OperatorでTridentを設定する際に、ノードセレクタのブール値と数値を処理するように問題 を修正しました。(<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>)</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub問題#736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">非CHAPパスのエラーを処理する問題 を修正したため、失敗した場合kubeletが再試行されるようになりました。<block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>）</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">CSIイメージのデフォルトレジストリとして、k8s .gcr.ioからregistry.k8s .ioに移行します</block>
  <block id="99836a64b28c522e35a15aa0a4b39257" category="list-text">ONTAP SANボリュームでは、ノード単位のigroupが使用され、LUNがigroupにマッピングされると同時に、これらのノードにアクティブに公開されてセキュリティ体制が強化されます。既存のボリュームは、アクティブなワークロードに影響を与えずに安全であるとAstra Tridentが判断したときに、必要に応じて新しいigroupスキームに切り替えられます。</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">TridentのインストールにResourceQuotaが含まれ、PriorityClassの消費がデフォルトで制限されたときにTrident DemonSetがスケジュールされるようになりました。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub問題#717</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">Azure NetApp Filesドライバにネットワーク機能のサポートが追加されました。(<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>)</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub問題#228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">ONTAP ドライバにTech Previewの自動MetroCluster スイッチオーバー検出機能を追加。(<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>)</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes：**サポートされている最小Kubernetesを1.19に更新。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">バックエンド構成では、単一の構成で複数の認証タイプを使用できなくなりました。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">削除します</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVSドライバ（22.04以降で廃止）が削除されました。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">ノードのポッドから不要なSYS_Admin機能を削除。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">nodeprepを単純なホスト情報とアクティブなサービス検出に減らし、作業者ノードでNFS / iSCSIサービスが利用可能になったことをベストエフォートで確認します。</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">PODセキュリティ標準</block>
  <block id="4e8effbd512bb14dbe10454c0f045ff2" category="paragraph">新しい<block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>（PSS）セクションに、インストール時にAstra Tridentで有効になる権限の詳細が追加されました。</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">22.04の変更点</block>
  <block id="68b62682a14dee674629e9431b02803a" category="paragraph">ネットアップは、製品やサービスの改善と強化を継続的に行っています。Astra Trident の最新機能をいくつかご紹介します。以前のリリースについては、を参照してください<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">以前のTridentリリースからアップグレードし、Azure NetApp Filesを使用する場合、<block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block>configパラメータは必須の単一フィールドになりました。</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub問題#681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">iSCSI イニシエータ名の解析が改善されました。(<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>)</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub問題#598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">CSI ストレージクラスのパラメータが許可されていない問題 を修正しました。(<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>)</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub問題#671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">Trident CRD での重複キー宣言が修正されました。(<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>)</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub問題#629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">不正確な CSI スナップショットログを修正しました。()<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block></block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub問題#691</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。(<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>)</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub問題#656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">ブロックデバイスでのファイルシステムの不整合の処理が追加されました。(<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>)</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub問題#715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">インストール中にフラグを設定するときに自動サポートイメージをプルする問題を修正しました<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>。(<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>)</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">Azure NetApp Filesドライバが複数のエクスポートルールを含むボリュームのクローンを作成できない問題を修正しました問題。</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub問題#698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">Trident のセキュアエンドポイントへのインバウンド接続には、 TLS 1.3 以上が必要です。(<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>)</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident では、セキュアなエンドポイントからの応答に HSTS ヘッダーが追加されました。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident では、 Azure NetApp Files の UNIX 権限機能が自動的に有効化されるようになりました。</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub問題#694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">* Kubernetes * ： Trident のデプロイ機能は、システムノードに不可欠な優先度クラスで実行されるようになりました。(<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>)</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E シリーズドライバ（ 20.07 以降無効）が削除されました。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1の変更点</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。(<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>)</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">ONTAP API 応答でアグリゲートスペースを確保するために nil フィールドにアクセスすると、パニックが修正されました。</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0の変更点</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">* Kubernetes ：大規模なクラスタのノード登録バックオフ再試行時間を延長します。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">azure-NetApp-files ドライバが、同じ名前の複数のリソースによって混乱することがあるという解決済みの問題 。</block>
  <block id="7eaa7391130c13b3bf9a7e4ae755d908" category="list-text">ONTAP SAN IPv6 データ LIF が角かっこで指定した場合に機能するようになりました。</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub問題#489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">すでにインポートされているボリュームをインポートしようとすると、 EOF 問題 が返され、 PVC は保留状態になります。(<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>)</block>
  <block id="c28d8c94f865f3ef7e4b01a157510ef6" category="list-text">Fixed 問題 ： Astra Trident では、 SolidFire ボリュームで作成される Snapshot が 32 個を超えるとパフォーマンスが低下します。</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">SSL 証明書の作成時に SHA-1 を SHA-256 に置き換えました。</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">リソース名の重複を許可し、操作を単一の場所に制限するためのAzure NetApp Filesドライバを修正しました。</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes の機能拡張：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">Kubernetes 1.23のサポートを追加。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub問題#651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">Trident Operator または Helm 経由でインストールした場合、 Trident ポッドのスケジュールオプションを追加します。(<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>)</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub問題#633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">GCP ドライバでリージョン間のボリュームを許可します。(<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>)</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub問題#666</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">Azure NetApp Filesボリュームに「unixPermissions」オプションがサポートされるようになりました。(<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>)</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST インターフェイスは、 127.0.0.1 または [::1] アドレスでのみリスンおよびサービスを提供できます</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">21.10.1の変更点</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0 リリースには、ノードが削除されてから Kubernetes クラスタに再度追加されたときに、 Trident コントローラを CrashLoopBackOff 状態にすることができる問題があります。この問題は、 v21.10.1 (GitHub 問題 669) で修正されています。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">GCP CVS バックエンドでボリュームをインポートする際の競合状態が修正され、インポートに失敗することがありました。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">ノードを削除してから Kubernetes クラスタ（ GitHub 問題 669 ）に再度追加するときに、 Trident コントローラを CrashLoopBackOff 状態にする問題を修正しました。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">SVM 名を指定しなかった場合に問題が検出されないという問題を修正しました（ GitHub 問題 612 ）。</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.10.0の変更点</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">XFS ボリュームのクローンをソースボリュームと同じノードにマウントできない固定問題（ GitHub 問題 514 ）</block>
  <block id="4a921ae3eb8c2695dabd4044ff81141a" category="list-text">Astra Trident がシャットダウン時に致命的なエラーを記録した修正版問題（ GitHub 問題 597 ）。</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Kubernetes 関連の修正：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバを使用してスナップショットを作成する場合、ボリュームの使用済みスペースを最小restoreSizeとして返し<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます(GitHub Issue 645)。</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">ボリュームのサイズ変更後にエラーが記録される問題が修正されまし<block ref="c80aaf836310b4d6ad1f810928cbb5d2" prefix=" " category="inline-code"></block>た(GitHub Issue 560)。</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">ポッドが状態で動かなくなる問題を修正<block ref="720f84c3d4dcb9a556ac6adfd1e75b8c" prefix=" " category="inline-code"></block>(GitHub Issue 572)。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">FlexVolがスナップショットLUNでいっぱいになる場合がある問題を修正しまし<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>た(GitHub Issue 533)。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">異なるイメージを持つ固定カスタム YAML インストーラ問題（ GitHub 問題 613 ）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">Snapshot サイズの計算方法を固定（ GitHub 問題 611 ）。</block>
  <block id="fe705e5b02638736087c9fd97b2c4952" category="list-text">問題は修正され、 Astra Trident のすべてのインストーラが OpenShift としてプレーン Kubernetes を識別できるようになりました（ GitHub 問題 639 ）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">Kubernetes API サーバにアクセスできない場合に、 Trident オペレータが更新を停止するよう修正しました（ GitHub 問題 599 ）。</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">GCP-CVS Performanceボリュームのオプションのサポートが追加されました<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block>。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">GCP でのスケール最適化 CVS ボリュームのサポートが 600GiB から 1TiB に追加されました。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes 関連の機能拡張：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">Kubernetes 1.22のサポートを追加。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">Trident の operator と Helm チャートを Kubernetes 1.22 （ GitHub 問題 628 ）と連携させるように設定</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">画像コマンドに演算子画像を追加<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>(GitHub Issue 570)。</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">実験的な機能強化</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">ドライバでのボリュームレプリケーションのサポートが追加されました<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバの* tech preview * RESTサポートを追加<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">既知の問題</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">ここでは、本製品の正常な使用を妨げる可能性のある既知の問題について記載します。</block>
  <block id="572b1d7e33a1c667884a1ffdff7a2d25" category="list-text">Astra Tridentでは 、StorageClassで指定された<block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>がないボリュームに対して<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>空白が適用されるようになりました<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。Tridentでは、Kubernetes 1.17以降を使用する場合、NFSボリュームに空のを指定できます<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。iSCSIボリュームの場合、セキュリティコンテキストの使用を適用するときは、StorageClassで<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>を設定する必要があります<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。</block>
  <block id="91186d69835ccf9911e356f74938c539" category="list-text">複数のAstra Tridentインスタンスでバックエンドを使用する場合は、各バックエンド構成ファイルの値がONTAPバックエンドに対して異なるか、SolidFireバックエンドに対して異なる値を使用する<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>必要があります<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>。Astra Trident は、 Astra Trident の他のインスタンスが作成したボリュームを検出できません。ONTAP または SolidFire バックエンドに既存のボリュームを作成しようとすると成功します。 Astra Trident は、ボリューム作成をべき等の操作として扱います。<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block><block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>同じバックエンドに作成されたボリュームで名前の競合が発生する可能性があります。</block>
  <block id="9bf4c601179068ff3574d2cf87536564" category="list-text">Astra Tridentをインストールし（またはTrident Operatorを使用）、を使用して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>Astra Tridentを管理する場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、環境変数が設定されていることを確認する必要があります<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>。これは、対象となるKubernetesクラスタを指定するために必要<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。複数のKubernetes環境を使用する場合は、ファイルが正確にソースされていることを確認する必要があり<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">マウントオプション</block>
  <block id="a5c785ee36f0f2d14349653f744c8e3b" category="list-text">iSCSI PVS のオンラインスペース再生を実行するには、作業者ノード上の基盤となる OS がボリュームにマウントオプションを渡す必要があります。これはRHEL/RedHat CoreOSインスタンスに当てはまります<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>。オンラインブロック破棄をサポートするには、discard mountOptionが^]に含まれていることを確認してください。<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block></block>
  <block id="c2ebda3702872aaa7ad44122f2343d7e" category="list-text">Kubernetes クラスタごとに複数の Astra Trident インスタンスがある場合、 Astra Trident は他のインスタンスと通信できず、作成した他のボリュームを検出できません。そのため、 1 つのクラスタ内で複数のインスタンスを実行している場合、予期しない動作が発生したり、誤ったりすることがあります。Kubernetes クラスタごとに Trident のインスタンスが 1 つだけ必要です。</block>
  <block id="294f8c33b7ccdbcbf422998b64c9c931" category="list-text">Astra TridentがオフラインのときにAstra TridentベースのオブジェクトがKubernetesから削除された場合、<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Astra Tridentはオンラインに戻っても対応するストレージクラスをデータベースから削除しません。これらのストレージクラスは、またはREST APIを使用して削除して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ください。</block>
  <block id="ddab3f1d971a7608afb4c30c688a32ac" category="list-text">対応する PVC を削除する前に Astra Trident によってプロビジョニングされた PV を削除しても、 Astra Trident は自動的に元のボリュームを削除しません。またはREST APIを使用してボリュームを削除してください<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">FlexGroup では、プロビジョニング要求ごとに一意のアグリゲートセットがないかぎり、同時に複数の ONTAP をプロビジョニングすることはできません。</block>
  <block id="38699c45ccc629a8b46bd780d7aef2f6" category="list-text">IPv6経由のAstra Tridentを使用する場合は、バックエンド定義でとを<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>角かっこで指定する必要があります<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>。たとえば、<block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block>です。</block>
  <block id="001bb59b1bc94ca13afb90cc0e7a4ed5" category="admonition">ONTAP SANバックエンドでは指定できません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。Astra Tridentは、使用可能なすべてのiSCSI LIFを検出し、それらを使用してマルチパスセッションを確立します。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">OpenShift 4.5でドライバを使用する場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>は、基盤となるワーカーノードがMD5をCHAP認証アルゴリズムとして使用していることを確認します。Element 12.7では、FIPS準拠のセキュアなCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256が提供されています。</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">詳細情報</block>
  <block id="e9a7080bd6d1b50ff15cef6f14fa1d64" category="inline-link">Astra Trident GitHub</block>
  <block id="b94e036fb032554ca486dd8fc2e3fafe" category="list-text"><block ref="b94e036fb032554ca486dd8fc2e3fafe" category="inline-link-rx"></block></block>
  <block id="d090b5d97388b77aa02e5d1203c037a0" category="list-text"><block ref="d090b5d97388b77aa02e5d1203c037a0" category="inline-link-rx"></block></block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">Azure NetApp FilesのNFSおよびSMBバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Azure NetApp Files バックエンド構成のオプションと例</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">バックエンド構成オプション</block>
  <block id="19b571f96ec7d28e6329f9c52fab7424" category="paragraph">Astra Tridentはバックエンド構成（サブネット、仮想ネットワーク、サービスレベル、場所）を使用して、要求された場所で使用可能な容量プールに、要求されたサービスレベルとサブネットに一致するAzure NetApp Filesボリュームを作成します。</block>
  <block id="5fe26149fa172056aee5f841415c55fa" category="admonition">Astra Trident は、手動 QoS 容量プールをサポートしていません。</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Azure NetApp Filesバックエンドには、次の設定オプションがあります。</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">常に 1</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">ストレージドライバの名前</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">「 azure-NetApp-files 」</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell"><block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix="" category="inline-code"></block></block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">カスタム名またはストレージバックエンド</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">ドライバ名 + "_" + ランダムな文字</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block></block>
  <block id="213e4b0f68f673550c1154cabddf4142" category="cell">AzureサブスクリプションからのサブスクリプションID管理されたIDがAKSクラスタで有効になっている場合はオプションです。</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block></block>
  <block id="35140a26b22dd9ba254fba38858d8b10" category="cell">AKSクラスタで管理IDまたはクラウドIDが使用されている場合は、アプリ登録からのテナントIDはオプションです。</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell"><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix="" category="inline-code"></block></block>
  <block id="68aab7c1f293b3f340c21d4598bbf943" category="cell">管理対象IDまたはクラウドIDがAKSクラスタで使用されている場合、アプリ登録からのクライアントIDはオプションです。</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell"><block ref="2b53761249254ce6b502f521e5cc0683" prefix="" category="inline-code"></block></block>
  <block id="6224cbf7bf787bd81b6e12ade1b5069a" category="cell">アプリ登録からのクライアントシークレット管理されたIDまたはクラウドIDがAKSクラスタで使用されている場合はオプションです。</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell"><block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix="" category="inline-code"></block></block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">、<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block>または<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block>のいずれか<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block></block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">"" （ランダム）</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell"><block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block></block>
  <block id="938c7b48cad00c77e1900399388741e8" category="cell">新しいボリュームが作成されるAzureの場所の名前AKSクラスタで管理IDが有効になっている場合はオプションです。</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell"><block ref="6a3560738716ddd805d769d4460ca7aa" prefix="" category="inline-code"></block></block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">検出されたリソースをフィルタリングするためのリソースグループのリスト</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">"[]" （フィルタなし）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell"><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix="" category="inline-code"></block></block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">検出されたリソースをフィルタリングするためのネットアップアカウントのリスト</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell"><block ref="338b00a62e6d8d3234c056bf48b711d0" prefix="" category="inline-code"></block></block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">検出されたリソースをフィルタリングする容量プールのリスト</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">"[]" （フィルタなし、ランダム）</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell"><block ref="a88edbe6cce8d8f180d87bef83408312" prefix="" category="inline-code"></block></block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">委任されたサブネットを持つ仮想ネットワークの名前</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell"><block ref="4f556606ab1f7cb51dd23811407facbd" prefix="" category="inline-code"></block></block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">委任先のサブネットの名前<block ref="0c20a1ae75c1cc4efae31193e0d47718" prefix=" " category="inline-code"></block></block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell"><block ref="b0fdc9c7b96e4249152c61b506703142" prefix="" category="inline-code"></block></block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">ボリュームのVNet機能のセットは<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block>、または<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>です。ネットワーク機能は一部の地域では使用できず、サブスクリプションで有効にする必要がある場合があります。この機能を有効にしないタイミングを指定する<block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block>と、ボリュームのプロビジョニングが失敗します。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">NFS マウントオプションのきめ細かな制御。SMBボリュームでは無視されます。NFSバージョン4.1を使用してボリュームをマウントするには、カンマで区切ったマウントオプションのリストにを追加してNFS v4.1を<block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block>選択します。ストレージクラス定義で設定されたマウントオプションは、バックエンド構成で設定されたマウントオプションよりも優先されます。</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsvers=3 "</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">"" （デフォルトでは適用されません）</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell"><block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix="" category="inline-code"></block></block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="533cf7c7aac0ee35b2153c8cf933013b" prefix=" " category="inline-code"></block>トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">null</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションは<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>またはnullです。nullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="4487bf4a5d2565e471a4ac1e0bba9af6" category="cell"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block></block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="inline-link-macro">CSI トポロジを使用します</block>
  <block id="d9ecfcade7b244fc0100c0ff4359f5ea" category="cell">このバックエンドでサポートされているリージョンとゾーンのリストを表します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">Azure NetApp Files ボリュームのネットワーク機能を設定します</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">ネットワーク機能の詳細については、を参照してください<block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">必要な権限とリソース</block>
  <block id="624ca91b001f11479001750d7a084dd0" category="paragraph">PVCの作成時に「No capacity pools found」エラーが表示される場合は、アプリケーション登録に必要な権限とリソース（サブネット、仮想ネットワーク、容量プール）が関連付けられていない可能性があります。デバッグが有効になっている場合、Astra Tridentはバックエンドの作成時に検出されたAzureリソースをログに記録します。適切なロールが使用されていることを確認します。</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph"><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>、、<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block>、の<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block>値は<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、短縮名または完全修飾名を使用して指定できます。ほとんどの場合、短縮名は同じ名前の複数のリソースに一致する可能性があるため、完全修飾名を使用することを推奨します。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph"><block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、、および<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>の値は、検出されたリソースのセットをこのストレージバックエンドで使用可能なリソースに制限するフィルタで、任意の組み合わせで指定できます。完全修飾名の形式は次のとおりです。</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">形式</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">リソースグループ</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt; リソースグループ &gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">ネットアップアカウント</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量プール</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;/&lt; 容量プール &gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">仮想ネットワーク</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt; リソースグループ &gt;/&lt; 仮想ネットワーク &gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">サブネット</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;resource group&gt;/&lt; 仮想ネットワーク &gt;/&lt; サブネット &gt;</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">ボリュームのプロビジョニング</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">構成ファイルの特別なセクションで次のオプションを指定することで、デフォルトのボリュームプロビジョニングを制御できます。詳細については、を参照してください <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> 。</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell"><block ref="c72971f17465d2a32345bc872af62a34" prefix="" category="inline-code"></block></block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">新しいボリュームに対するエクスポートルール<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block>IPv4アドレスまたはIPv4サブネットをCIDR表記で任意に組み合わせたリストをカンマで区切って指定する必要があります。SMBボリュームでは無視されます。</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">"0.0.0.0/0 "</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">.snapshot ディレクトリの表示を制御します</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">いいえ</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">新しいボリュームのデフォルトサイズ</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">"100G"</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新しいボリュームのUNIX権限（8進数の4桁）。SMBボリュームでは無視されます。</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">"" （プレビュー機能、サブスクリプションでホワイトリスト登録が必要）</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">構成例</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">次の例は、ほとんどのパラメータをデフォルトのままにする基本的な設定を示しています。これは、バックエンドを定義する最も簡単な方法です。</block>
  <block id="91644df8bfaf55210374666164ee92c9" category="example-title">最小限の構成</block>
  <block id="5cda3f51d6458740b40a6f4c0aab02f0" category="paragraph">これは、バックエンドの絶対的な最小構成です。この構成では、Astra Tridentが設定された場所のAzure NetApp Filesに委譲されたすべてのNetAppアカウント、容量プール、サブネットを検出し、それらのプールとサブネットの1つに新しいボリュームをランダムに配置します。は省略されているため、<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> デフォルトが適用され、バックエンドでNFSボリュームがプロビジョニングされます。</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">この構成は、Azure NetApp Filesの使用を開始して試している段階で、実際にはプロビジョニングするボリュームに対して追加の範囲を設定することが必要な場合に適しています。</block>
  <block id="eea342529fcf22d8fbdaf58545a9c617" category="example-title">AKSの管理対象ID</block>
  <block id="943aa8ce869cfeaf7f72cc41df7f891c" category="paragraph">このバックエンド構成では、、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、が<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>省略されてい<block ref="8c443e170595ba0feac007ffb92cb49a" prefix=" " category="inline-code"></block>ます。これらは、管理対象IDを使用する場合はオプションです。</block>
  <block id="cdc0ef7f865a8837e4fd99ce3898f1d8" category="example-title">AKSのクラウドID</block>
  <block id="1b6104dea07d224d6a76ba8bd88c586a" category="paragraph">このバックエンド構成では、クラウドIDを使用する場合はオプションである、、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、が<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>省略されて<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>います。</block>
  <block id="f961873909dcbbea92f3791e505cd3cf" category="example-title">容量プールフィルタを使用した特定のサービスレベル構成</block>
  <block id="62679c3777af7cf9f6af4e6aa0e7cfc4" category="paragraph">このバックエンド構成では、容量プール内のAzureの場所<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block>にボリュームが配置され<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>ます。Astra Tridentは、その場所のAzure NetApp Filesに委譲されているすべてのサブネットを自動的に検出し、そのいずれかに新しいボリュームをランダムに配置します。</block>
  <block id="119dd5a342e981b13bf0024d5c6a6933" category="example-title">高度な設定</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">このバックエンド構成は、ボリュームの配置を単一のサブネットにまで適用する手間をさらに削減し、一部のボリュームプロビジョニングのデフォルト設定も変更します。</block>
  <block id="d61a62faa23948cd42b53cf6de97e445" category="example-title">仮想プール構成</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">このバックエンド構成では、 1 つのファイルに複数のストレージプールを定義します。これは、異なるサービスレベルをサポートする複数の容量プールがあり、それらを表すストレージクラスを Kubernetes で作成する場合に便利です。に基づいてプールを区別するために、仮想プールラベルが使用されました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="65a6416f3ed9552fcc006c830dbeac72" category="example-title">サポートされるトポロジ構成</block>
  <block id="fcb5869ed2c9dafff461e62047586366" category="paragraph">Astra Tridentを使用すると、リージョンやアベイラビリティゾーンに基づいてワークロード用のボリュームを簡単にプロビジョニングできます。<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>このバックエンド構成のブロックは、バックエンドごとにリージョンとゾーンのリストを提供するために使用されます。ここで指定するリージョンとゾーンの値は、各Kubernetesクラスタノードのラベルのリージョンとゾーンの値と一致している必要があります。これらのリージョンとゾーンは、ストレージクラスで指定できる許容値のリストです。バックエンドで提供されるリージョンとゾーンのサブセットを含むストレージクラスの場合、Astra Tridentは該当するリージョンとゾーンにボリュームを作成します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">ストレージクラスの定義</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">以下の<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>定義は、上記のストレージプールを表しています。</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">フィールドヲシヨウシタテイノレイ<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block></block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">を使用する<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block>と、ボリュームのホストに使用する仮想プールごとにを指定できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMBボリュームの定義例</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph"><block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>、およびを使用する<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>と、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。</block>
  <block id="67c909cf936115be1012171c5c38b8cf" category="example-title">デフォルトネームスペースの基本設定</block>
  <block id="17903b7c199529a65f8f0b36aa084d2e" category="example-title">ネームスペースごとに異なるシークレットを使用する</block>
  <block id="6cb4c0cee2d8e6992a3a10d346015761" category="example-title">ボリュームごとに異なるシークレットを使用する</block>
  <block id="5c766f1444b8b25e9f55f0dc6400b77e" category="admonition"><block ref="1023eff0970e3a4277fcde214fad86ef" prefix="" category="inline-code"></block>SMBボリュームをサポートするプールに対してフィルタを適用します。<block ref="d71f62a5b903ebd8681263d310db1d6d" prefix=" " category="inline-code"></block>または<block ref="9c8ff3d34f58e4965d72fb9c8a993707" prefix=" " category="inline-code"></block>NFSプールのフィルタ。</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">バックエンドを作成します</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">バックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">構成ファイルで問題を特定して修正したら、 create コマンドを再度実行できます。</block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="summary">Azure NetApp Files バックエンドを設定する前に、次の要件を満たしていることを確認する必要があります。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">Azure NetApp Files バックエンドを設定する準備をします</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFSボリュームとSMBボリュームの前提条件</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：Azure NetApp Files をセットアップし、NFSボリュームを作成します</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="paragraph">Azure NetApp Files を初めてまたは新しい場所で使用する場合は、Azure NetApp Files をセットアップしてNFSボリュームを作成するためにいくつかの初期設定が必要です。を参照してください<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">バックエンドを設定して使用するには<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block>、次のものが必要です。</block>
  <block id="4e92a2addd95bd2076226bce70449f6d" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、、<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>およびは、<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>AKSクラスタで管理対象IDを使用する場合はオプションです。</block>
  <block id="5c0a5e9c97099065874a650cf8c67a66" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、およびは、<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>AKSクラスタでクラウドIDを使用する場合はオプションです。</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft：Azure NetApp Files 用の容量プールを作成します</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量プール。を参照してください <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft：サブネットをAzure NetApp Files に委任します</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">Azure NetApp Files に委任されたサブネット。を参照してください <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>Azure NetApp Filesを有効にしたAzureサブスクリプションから削除します。</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link-macro">アプリケーション登録</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block><block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>Azure NetApp Filesサービスへの十分な権限を持つ、Azure Active Directory内のから<block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block>。アプリケーション登録では、次のいずれかを使用します。</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Azureで事前定義</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">所有者ロールまたは寄与者ロール<block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">カスタム投稿者ロール</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">Azureポータルを使用してロールを割り当てます</block>
  <block id="993c1a80e778c965961521eeb4afd398" category="list-text"><block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block><block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>次の権限が付与されます。権限はAstra Tridentで必要な権限のみに制限されます。カスタムロールを作成したら、<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>を参照してください。</block>
  <block id="28389c00d52ebc3b9610c591613894a1" category="example-title">カスタムコントリビュータロール</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委任されたサブネット</block>
  <block id="9837781971083d3fe119b0217014d301" category="list-text">少なくとも1つを含む<block ref="c5f14b2142014dc234282a513132bad4" category="inline-link-rx"></block>Azure<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>。Trident 22.01では、この<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>パラメータはバックエンド構成ファイルの最上位レベルにある必須フィールドです。仮想プールで指定された場所の値は無視されます。</block>
  <block id="30cce5213fe0e4b50d664920d7075cdf" category="inline-link">ユーザーが割り当てた管理ID</block>
  <block id="345615c7e1785c38b1b2d2aadeef42bb" category="list-text">を使用するに<block ref="12e3f82975710931e07ec1b3138bd8bf" prefix=" " category="inline-code"></block>は、から<block ref="f857b557e72afd63cd1e3ca2faab2a5b" category="inline-link-rx"></block>を取得し<block ref="032e8204d9a4acfa22151783caa18894" prefix=" " category="inline-code"></block>、でそのIDを指定します<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>。</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">SMBボリュームに関するその他の要件</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">SMBボリュームを作成するには、以下が必要です。</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft：Azure NetApp Files のActive Directory接続を作成および管理します</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directoryが設定され、Azure NetApp Files に接続されています。を参照してください <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="f0d0d71ad406bc532f207cda7d40e0bf" category="list-text">Linuxコントローラノードと少なくとも1つのWindowsワーカーノードでWindows Server 2022を実行しているKubernetesクラスタ。Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート</block>
  <block id="3742b45a8312c4721cad63322a4932ac" category="list-text">Azure NetApp Files がActive Directoryに対して認証できるように、Active Directoryクレデンシャルを含むAstra Tridentのシークレットが少なくとも1つ含まれています。シークレットを生成するには<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub: CSIプロキシ</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub: Windows向けCSIプロキシ</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">Windowsサービスとして設定されたCSIプロキシ。を設定するには<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>、Windowsで実行されているKubernetesノードについて、またはを<block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block>参照してください<block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block>。</block>
  <block id="18847c6a9d27fb9aa0c5cdcdaf61bd01" category="summary">Azure NetApp FilesはAstra Tridentのバックエンドとして設定できます。Azure NetApp Filesバックエンドを使用してNFSボリュームとSMBボリュームを接続できます。Astra Tridentでは、Azure Kubernetes Services（AKS）クラスタの管理対象IDを使用したクレデンシャル管理もサポートされます。</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">Azure NetApp Files バックエンドを設定します</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Azure NetApp Filesドライバの詳細</block>
  <block id="4ba3000579192de0298587f58861a12e" category="paragraph">Astra Tridentは、次のAzure NetApp Filesストレージドライバを使用してクラスタと通信します。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">ドライバ</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">プロトコル</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">ボリュームモード</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">サポートされているアクセスモード</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">サポートされるファイルシステム</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS SMB</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">ファイルシステム</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">RWO、ROX、RWX、RWOP</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考慮事項</block>
  <block id="4262957957c18f0bab73d8ddafcb642f" category="list-text">Azure NetApp Files サービスでは、100GB未満のボリュームはサポートされません。容量の小さいボリュームが要求されると、Astra Tridentによって自動的に100GiBのボリュームが作成されます。</block>
  <block id="1cf44a6bee7fa333861e5d0042926fb5" category="list-text">Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート</block>
  <block id="a57ed56fc7ee91a9263e1c2ae851ac11" category="inline-link-macro">管理対象ID</block>
  <block id="fa21637c6939f4a997618983ba050e34" category="paragraph">Astra TridentはAzure Kubernetes Servicesクラスタでサポートされます<block ref="74c572b9a9e05a7969e3f88bd692fcb8" category="inline-link-macro-rx"></block>。管理されたアイデンティティによって提供される合理的なクレデンシャル管理を利用するには、次のものが必要です。</block>
  <block id="9586e9fc5ee74b6ceeab5ab5484c95b6" category="list-text">AKSを使用して導入されるKubernetesクラスタ</block>
  <block id="4dca0f5a5f78322a0f3bfa9c6b8f54ad" category="list-text">AKS Kubernetesクラスタに設定された管理対象ID</block>
  <block id="16ab3e97d028caa08f61f71eef5599bc" category="list-text">指定する<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>を含むAstra Tridentがインストールされます<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>。</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Trident オペレータ</block>
  <block id="a3014bedf0b6ddf7953cc36a6505d6be" category="paragraph">Tridentオペレータを使用してAstra Tridentをインストールするには、を編集し<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>てに設定します<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block><block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。例：</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">Helm</block>
  <block id="0349bfd37e2a2cc4dbfc6ac457fb45ba" category="paragraph">次の例では、環境変数を使用してAstra TridentセットをAzureに<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>インストールし<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt; tridentctl &lt;/code&gt;</block>
  <block id="9cd536ab58110b200219128418a9f72f" category="paragraph">次の例では、Astra Tridentをインストールし、フラグをに<block ref="3a580f142203677f1f0bc30898f63f53" prefix=" " category="inline-code"></block>設定してい<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f77d4be42f8ef9e2474d677786cf6d7a" category="paragraph">クラウドIDを使用すると、Kubernetesポッドは、明示的なAzureクレデンシャルを指定するのではなく、ワークロードIDとして認証することでAzureリソースにアクセスできます。</block>
  <block id="088be2b53cfa8710d751578d273c4af0" category="paragraph">AzureでクラウドIDを活用するには、以下が必要です。</block>
  <block id="c5ac38b2b362dbfd1b55bdb2b7e9375b" category="list-text">AKS Kubernetesクラスタに設定されたワークロードIDとoidc-issuer</block>
  <block id="f8f0f3510f8f641d94893bdecf4aab08" category="list-text">ワークロードIDを指定し<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>て<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>指定するを含むAstra Tridentをインストール<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block></block>
  <block id="52cd3b51e520f2deecbd502606adfaf7" category="paragraph">Tridentオペレータを使用してAstra Tridentをインストールするには、を編集し<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>て、をに<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>し<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block><block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例：</block>
  <block id="919b714a25b423ceadcf231ff05b607b" category="paragraph">次の環境変数を使用して、* cloud-provider（CP）*フラグと* cloud-identity（CI）*フラグの値を設定します。</block>
  <block id="91a7e225ea23690e36a162b9c8a45058" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="a5f4eea4d47cf2db58f43a66329ecf1e" prefix=" " category="inline-code"></block></block>
  <block id="f05a1105b12f1a3160fb18c50a828aa3" category="paragraph">次の例では、Astra Tridentをインストールし、環境変数を使用してをAzureに<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>設定し<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>、を使用して環境変数を<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>設定してい<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>ます。</block>
  <block id="400e51795e42b1bfc94a14aeeeacc04a" category="paragraph">次の環境変数を使用して、* cloud provider *フラグと* cloud identity *フラグの値を設定します。</block>
  <block id="3fc26750f347130146b4c60fe1b7260b" category="paragraph">次の例では、Astra Tridentをインストールし、フラグを<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>、<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block>に<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>設定してい<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4cc2b9916e7383e5fa29dc6188159e32" category="summary">バックエンドは、 Astra Trident とストレージシステムの関係を定義します。Trident がストレージシステムとの通信方法を Trident から指示し、 Astra Trident がボリュームをプロビジョニングする方法も解説します。Astra Trident のインストールが完了したら、次の手順でバックエンドを作成します。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>Custom Resource Definition（CRD）を使用すると、Kubernetesインターフェイスから直接Tridentバックエンドを作成および管理できます。これは、またはKubernetesディストリビューション用の同等のCLIツールを使用して実行できます<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">kubectl を使用してバックエンドを作成します</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="d2031a5a319b9363cf98da6b1509598a" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block><block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block><block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block>、<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block>）は、を使用してAstra Tridentバックエンドを管理できるフロントエンドのネームスペースCRDです。<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>Kubernetes管理者やストレージ管理者は、Kubernetes CLIを使用して直接バックエンドを作成、管理できるようになりまし<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>た。専用のコマンドラインユーティリティは必要ありません）。</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">オブジェクトを作成すると、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>次の処理が実行されます。</block>
  <block id="858fafdff7fa27f202ae0eb981c6dff0" category="list-text">バックエンドは、指定した構成に基づいて Astra Trident によって自動的に作成されます。これは内部的には <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>、<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>）CRとして表され<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>ます。</block>
  <block id="40640dd98ca175d098c1c765b1e148d9" category="list-text">は<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、Astra Tridentで作成されたに一意にバインドされます<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>。</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">それぞれが<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>との1対1のマッピングを保持し<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>ます。前者はバックエンドを設計および設定するためにユーザーに提供されるインターフェイスです。後者はTridentが実際のバックエンドオブジェクトを表す方法です。</block>
  <block id="c9038f47fe0df535b6bf5619c9ff629e" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block>CRSはAstra Tridentによって自動的に作成されます。これらは * 変更しないでください。バックエンドを更新するには、オブジェクトを変更し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">CRの形式については、次の例を参照して<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ください。</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">Trident インストーラ</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">必要なストレージプラットフォーム/サービスの設定例については、ディレクトリにある例を参照し<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block>てください。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">ストレージドライバのバックエンド設定情報</block>
  <block id="75d6668e40a552149b5d5868b03080c8" category="paragraph">は<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>、バックエンド固有の設定パラメータを取得します。この例では、バックエンドでストレージドライバを使用し<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、次の表に示す設定パラメータを使用しています。ご使用のストレージドライバの設定オプションのリストについては、を参照してください<block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">この<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>セクションには、CRで新たに導入されたフィールドと<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>フィールド<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>も含まれてい<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block>：このパラメータは必須フィールドで、ストレージシステム/サービスとの認証に使用するクレデンシャルが含まれます。ユーザが作成した Kubernetes Secret に設定されます。クレデンシャルをプレーンテキストで渡すことはできないため、エラーになります。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>：このフィールドは、が削除されたときの動作を定義します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。次の 2 つの値のいずれかを指定できます。</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>:これにより、CRと関連するバックエンドの両方が削除され<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。これがデフォルト値です。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text"><block ref="16d79ff80feadcf2f52096f073f2b94a" prefix="" category="inline-code"></block>：CRが削除されても、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>バックエンド定義は引き続き存在し、で管理できます。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>削除ポリシーをに設定する<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>と、ユーザは以前のリリース（21.04より前のリリース）にダウングレードして、作成されたバックエンドを保持できます。このフィールドの値は、の作成後に更新できます<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">バックエンドの名前はを使用して設定され<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>ます。指定しない場合、バックエンドの名前はオブジェクトの名前（metadata.name）に設定され<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。を使用してバックエンド名を明示的に設定することをお勧めし<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="317e77f416ffd109037a657fffa1e7f7" category="admonition">で作成されたバックエンドに<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>は、関連付けられたオブジェクトはありません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。このようなバックエンドをで管理するには、<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>CRを作成し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。同一の設定パラメータ（、、<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block><block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block>など）を指定するように注意する必要があります<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>。Astra Tridentは、新しく作成されたを既存のバックエンドに自動的にバインドし<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">手順の概要</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">を使用して新しいバックエンドを作成するには<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>、次の手順を実行します。</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes Secret</block>
  <block id="7e5e1bb39eefe4eec7a88b845126d41d" category="list-text">を作成し<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>ます。シークレットには、Astra Tridentがストレージクラスタ/サービスと通信するために必要なクレデンシャルが含まれています。</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">オブジェクトを作成し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">バックエンドを作成したら、を使用してそのステータスを確認し、追加の詳細情報を収集できます<block ref="20d1f22897b2280e34f2e6aa25c7bab0" prefix=" " category="inline-code"></block>。</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">手順 1 ： Kubernetes Secret を作成します</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">バックエンドのアクセスクレデンシャルを含むシークレットを作成します。ストレージサービス / プラットフォームごとに異なる固有の機能です。次に例を示します。</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">次の表に、各ストレージプラットフォームの Secret に含める必要があるフィールドをまとめます。</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">ストレージプラットフォームのシークレットフィールド概要</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">Field 概要の略</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ClientID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">アプリケーション登録からのクライアント ID</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">private_key_id です</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">秘密鍵の ID 。CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">private_key を使用します</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">秘密鍵CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">Element （ NetApp HCI / SolidFire ）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">エンドポイント</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">テナントのクレデンシャルを使用する SolidFire クラスタの MVIP</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">ユーザ名</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">パスワード</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">clientPrivateKey</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chapUsername のコマンド</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">インバウンドユーザ名。useCHAP = true の場合は必須。および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block></block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiatorSecret</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP イニシエータシークレット。useCHAP = true の場合は必須。および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block></block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername のコマンド</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">ターゲットユーザ名。useCHAP = true の場合は必須。および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block></block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP ターゲットイニシエータシークレット。useCHAP = true の場合は必須。および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block></block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">このステップで作成したシークレットは、次のステップで作成したオブジェクトのフィールド<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>で参照され<block ref="52c7b8f36716d3230d8fac3536f346c7" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">ステップ2：CRを作成する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">これでCRを作成する準備ができ<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ました。この例では、ドライバを使用するバックエンドが<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、次のオブジェクトを使用して作成され<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">手順3：CRのステータスを確認する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">CRを作成したので<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、ステータスを確認できます。次の例を参照してください。</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">バックエンドが正常に作成され、CRにバインドされまし<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>た。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">フェーズには次のいずれかの値を指定できます。</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>:<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CRはバックエンドに関連付けられており、そのバックエンドにはCRのuidがセットされ<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>てい<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text"><block ref="edac80248b7bf68ccfaa9c78bfb81c32" prefix="" category="inline-code"></block>:を使用して表されます<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block>。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>オブジェクトはバックエンドにバインドされていません。デフォルトでは、新しく作成されたすべての<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CRSがこのフェーズになります。フェーズが変更された後、再度 Unbound に戻すことはできません。</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>：CR<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>は<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>削除するように設定されています。CRが削除されると<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、CRは削除ステートに移行します。</block>
  <block id="0550ab6955adf5805cf2d00b7c592718" category="list-text">バックエンドに永続的ボリューム要求（PVC）が存在しない場合は、を削除する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>とAstra TridentでバックエンドとCRが削除され<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">バックエンドに 1 つ以上の PVC が存在する場合は、削除状態になります。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>その後、CRは削除フェーズに入ります。バックエンドとは<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、すべてのPVCが削除された後にのみ削除されます。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text"><block ref="b578b733cbb788fc6ad208314d2c4c2b" prefix="" category="inline-code"></block>：CRに関連付けられているバックエンドが<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>誤ってまたは故意に削除され、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CRには削除されたバックエンドへの参照が残っています。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>CRは、値に関係なく削除できます<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。</block>
  <block id="9f104f262a04570e0cca4e57cdff0f85" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>：Astra Tridentは、CRに関連付けられたバックエンドの状態または存在を特定できません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。たとえば、APIサーバが応答していない場合やCRDが見つからない場合<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block>などです。これには介入が必要な場合があります</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">バックエンドの更新とバックエンドの削除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">この段階では、バックエンドが正常に作成されます。など、追加で処理できる処理がいくつかあります<block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（オプション）手順 4 ：詳細を確認します</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">バックエンドに関する詳細情報を確認するには、次のコマンドを実行します。</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">さらに、のyaml/jsonダンプを取得することもできます<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="9fae9b8b2e8f0d5b91654165a5dacc1f" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block>CRに応答して作成されたバックエンドの<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>とが<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block>格納され<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block>ます。<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block>フィールドはCRの最後の処理のステータスを表し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。ユーザトリガー（でユーザが変更した場合など）、またはAstra Tridentによってトリガーされた（Astra Tridentの再起動時など）ことができます<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>。成功または失敗のいずれかです。<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>CRとバックエンド間の関係のステータスを表します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。上の例では、の<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>値がバインドされています。つまり、CRがバックエンドに関連付けられていることを意味します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">イベントログの詳細を取得するには、コマンドを実行し<block ref="78b137a0e31097f4e74b4d44c43efc40" prefix=" " category="inline-code"></block>ます。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">こちらを参照してください</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">を使用して、関連付けられたオブジェクトを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>含むバックエンドを更新または削除することはできません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。とを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>切り替える手順について説明します<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>。</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">を使用してバックエンド管理操作を実行する方法について説明します。<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block></block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">バックエンドを削除します</block>
  <block id="20309eb77b701e6c49ca6b99a8f93f90" category="paragraph">を削除することで<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、Astra Tridentでバックエンドを（に基づいて）削除または保持するように指示し<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>ます。バックエンドを削除するには、がdeleteに設定されていることを確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。のみを削除するには<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、がretainに設定されていることを確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。これにより、バックエンドが引き続き存在し、を使用して管理できるようになります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">次のコマンドを実行します。</block>
  <block id="3fa37f688874143cd423aabca8075ffb" category="paragraph">Astra Tridentでは、で使用されていたKubernetesシークレットは削除されません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。Kubernetes ユーザは、シークレットのクリーンアップを担当します。シークレットを削除するときは注意が必要です。シークレットは、バックエンドで使用されていない場合にのみ削除してください。</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">既存のバックエンドを表示します</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">または<block ref="d6b02c316f6c883e36a3c61bc723ec25" prefix=" " category="inline-code"></block>を実行して、存在するすべてのバックエンドのリストを取得することもできます<block ref="86d87141fccdd14380a93351cf8a88e3" prefix=" " category="inline-code"></block>。このリストには、で作成されたバックエンドも含まれ<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">バックエンドを更新します</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">バックエンドを更新する理由はいくつかあります。</block>
  <block id="56cdd71a65518838d73e00276ed6fab1" category="list-text">ストレージシステムのクレデンシャルが変更されている。クレデンシャルを更新するには、オブジェクトで使用されるKubernetes Secretを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>更新する必要があります。Astra Trident が、提供された最新のクレデンシャルでバックエンドを自動的に更新次のコマンドを実行して、 Kubernetes Secret を更新します。</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">パラメータ（使用する ONTAP SVM の名前など）を更新する必要があります。</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">次のコマンドを使用して、Kubernetesから直接オブジェクトを更新できます<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">または、次のコマンドを使用して既存のCRに変更を加えることもできます<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="list-text">バックエンドの更新に失敗した場合、バックエンドは最後の既知の設定のまま残ります。ログを表示して原因を特定するには、またはを<block ref="f9d8dd15d0562f29d38ca5412f8d3a1b" prefix=" " category="inline-code"></block>実行し<block ref="f06ab1779eb739084ddf83006fb6f403" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="list-text">構成ファイルで問題を特定して修正したら、 update コマンドを再実行できます。</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">を使用してバックエンド管理操作を実行する方法について説明します。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">tridentctl を使用してバックエンド管理を実行します</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">バックエンドを作成します</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">バックエンド構成ファイル</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">を作成したら<block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>、次のコマンドを実行します。</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">構成ファイルの問題を特定して修正したら、コマンドをもう一度実行できます<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>。</block>
  <block id="412228c370a388e25ee06e8ad7a1da3f" category="paragraph">Astra Trident からバックエンドを削除するには、次の手順を実行します。</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">バックエンド名を取得します。</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">バックエンドを削除します。</block>
  <block id="c87f53b53d179c2b5dcd5fad1efba831" category="admonition">Astra Trident で、まだ存在しているこのバックエンドからボリュームとスナップショットをプロビジョニングしている場合、バックエンドを削除すると、新しいボリュームをプロビジョニングできなくなります。バックエンドは「削除」状態のままになり、 Trident は削除されるまでそれらのボリュームとスナップショットを管理し続けます。</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">Trident が認識しているバックエンドを表示するには、次の手順を実行します。</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">概要を取得するには、次のコマンドを実行します。</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">すべての詳細を確認するには、次のコマンドを実行します。</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">新しいバックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">バックエンドの更新が失敗した場合、バックエンドの設定に問題があるか、無効な更新を試行しました。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">構成ファイルの問題を特定して修正したら、コマンドをもう一度実行できます<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>。</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">バックエンドを使用するストレージクラスを特定します</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">これは、バックエンドオブジェクト用に出力するJSONで回答できる質問の例<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。これは、インストールする必要があるユーティリティを使用し<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">これは、を使用して作成されたバックエンドにも適用され<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8b7b728c6a1e7accd6148646ba730e77" category="summary">Astra Trident でバックエンドを管理するさまざまな方法をご確認ください。</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">バックエンド管理オプション間を移動します</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">の導入により<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、管理者はバックエンドを2つの独自の方法で管理できるようになりました。これには、次のような質問があります。</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">を使用して作成したバックエンドはで管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>でき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ますか。</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">を使用して作成したバックエンドはを使用して管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>でき<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ますか。</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">次を使用してバックエンドを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">このセクションでは、オブジェクトを作成してKubernetesインターフェイスから直接<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>作成されたバックエンドを管理するために必要な手順について説明し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">これは、次のシナリオに該当します。</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">を使用して作成された<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>既存のバックエンドにはがありません。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">他のオブジェクトが存在するときに、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>で作成された新しいバックエンド<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="0507a4f0ac746171a414097e7f033dca" category="paragraph">どちらの場合も、 Trident でボリュームをスケジューリングし、処理を行っているバックエンドは引き続き存在します。管理者には次の 2 つの選択肢があります。</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">を使用して作成されたバックエンドの管理に引き続き使用し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">を使用して作成したバックエンドを新しいオブジェクトに<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>バインドし<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。これは、バックエンドがではなくを使用して管理されることを意味します<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">を使用して既存のバックエンドを管理するには<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>、既存のバックエンドにバインドするを作成する必要があります<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。その仕組みの概要を以下に示します。</block>
  <block id="0637b40285532fa1b6c6a4548e63d2f4" category="list-text">Kubernetes Secret を作成します。シークレットには、ストレージクラスタ / サービスと通信するために Trident から必要なクレデンシャルが含まれています。</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">オブジェクトを作成し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。同一の設定パラメータ（、、<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block><block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block>など）を指定するように注意する必要があります<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>。<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>既存のバックエンドの名前に設定する必要があります。</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">手順 0 ：バックエンドを特定します</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">既存のバックエンドにバインドするを作成するには<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、バックエンド設定を取得する必要があります。この例では、バックエンドが次の JSON 定義を使用して作成されているとします。</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">次の例に示すように、バックエンドのクレデンシャルを含むシークレットを作成します。</block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">手順2：CRを作成する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">次の手順では、（この例のように）既存のに自動的にバインドするCRを<block ref="50f1baa55915aa000046e11e5aca6e3e" prefix=" " category="inline-code"></block>作成し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。次の要件が満たされていることを確認します。</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">には、同じバックエンド名が定義されてい<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">設定パラメータは元のバックエンドと同じです。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">仮想プール（存在する場合）は、元のバックエンドと同じ順序である必要があります。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">クレデンシャルは、プレーンテキストではなく、 Kubernetes Secret を通じて提供されます。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">この場合、は<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>次のようになります。</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">が作成されたら<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、そのフェーズはにする必要があります<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>。また、既存のバックエンドと同じバックエンド名と UUID が反映されている必要があります。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">これで、バックエンドはオブジェクトを使用して完全に管理され<block ref="f695ccd8d6d09cfeee2cf7d06725f9e5" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">次を使用してバックエンドを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block>を使用して作成されたバックエンドの一覧表示に使用でき<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。さらに、管理者は、を削除して、がに設定されている<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ことを確認する<block ref="665ed1e9e5fa7278d49de298928f771c" prefix=" " category="inline-code"></block>ことで、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>このようなバックエンドを完全に管理することもできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">たとえば、次のバックエンドがを使用して作成されたとし<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">出力からは、が正常に作成され、バックエンドにバインドされていることがわかり<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます（[Observe the backend's UUUID]）。</block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">手順1：Confirmがに設定されている<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ことを確認<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block></block>
  <block id="ea64db0654e81907c68ffc52d023c3c7" category="paragraph">の価値を見てみましょう<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。これはに設定する必要があり<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ます。これにより、CRが削除されてもバックエンド定義が存在し、で管理できるように<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>なり<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">がに設定され<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ていない場合は、次の手順に進まないで<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>ください。</block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">手順2：CRを削除する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後のステップはCRを削除することです<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。がに設定されている<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ことを確認したら<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>、削除を続行できます。</block>
  <block id="c1493b6d6e05639a816e5772bbb491af" category="paragraph">オブジェクトが削除されると<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、Astra Tridentはバックエンド自体を削除せずにオブジェクトを削除します。</block>
  <block id="a576cff5a76e67426a0051b7e1b93331" category="paragraph">Astra Tridentは、ストレージクラスによって定義された要件に一致するストレージプールをバックエンドから自動的に提供します。ストレージシステムにバックエンドを設定する方法について説明します。</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">Cloud Volumes Service for Google Cloud Platform バックエンドを設定します</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">NetApp HCI または SolidFire バックエンドを設定します</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">ONTAPまたはCloud Volumes ONTAP NASドライバを使用したバックエンドの設定</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="inline-link-macro">ONTAPまたはCloud Volumes ONTAP SANドライバを使用したバックエンドの設定</block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="337de5d45c69b1e4dcf87a8e7ec9ff76" category="inline-link-macro">Amazon FSX for NetApp ONTAP で Astra Trident を使用</block>
  <block id="d7f015aa2f1d488e17e175dac6de3149" category="list-text"><block ref="d7f015aa2f1d488e17e175dac6de3149" category="inline-link-macro-rx"></block></block>
  <block id="6bd9323e6feca4fbf8b30b626be7920f" category="summary">Kubernetes StorageClassファイルを設計し、StorageClassを作成して、Astra Tridentでボリュームのプロビジョニング方法を指定できます。</block>
  <block id="adb998c877c843080cb8c94f182f8b6a" category="paragraph">Kubernetes StorageClassオブジェクトを設定してストレージクラスを作成し、Astra Tridentでボリュームのプロビジョニング方法を指定</block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">Kubernetes StorageClassオブジェクトの設定</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Kubernetes StorageClassオブジェクト</block>
  <block id="7e757604a320b645d3e338eaa6d9bca2" category="paragraph">は<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>、そのクラスで使用するプロビジョニングツールとしてAstra Tridentを指定し、ボリュームのプロビジョニング方法をAstra Tridentに指示します。例：</block>
  <block id="03acae9774d9987ad049d0765b795840" category="paragraph">ストレージクラスとパラメータおよびパラメータとの連携によるAstra Tridentによるボリュームのプロビジョニング方法の詳細については<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>、を参照して<block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block>ください。</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">StorageClassオブジェクトを作成したら、ストレージクラスを作成できます。<block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block>に、使用または変更できる基本的なサンプルを示します。</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">これはKubernetesオブジェクトなので、を使用して<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>Kubernetesで作成します。</block>
  <block id="a191af7083288f9d9556f3ebcd821a34" category="list-text">Kubernetes と Astra Trident の両方で、 * basic-csi * ストレージクラスが表示され、 Astra Trident がバックエンドのプールを検出しました。</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">ストレージクラスノサンプル</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">特定のバックエンド向けのシンプルなストレージクラス定義</block>
  <block id="92f2a092c8970a9e6a9a8f5829670977" category="paragraph">Astra Tridentの特長<block ref="78512e06e40b1d6e7b22821168623dd6" category="inline-link-rx"></block></block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">または、インストーラに付属のファイルを編集して、ストレージドライバ名に置き換える<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block>こともできます<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block>。</block>
  <block id="08c4bc4ac4edd9b12963c0596478d746" category="summary">Astra Trident では、 CSI トポロジ機能を利用することにより、 Kubernetes クラスタ内に存在するノードに対してボリュームを選択的に作成して接続できます。</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">CSI トポロジ機能</block>
  <block id="904628b57a33f3a2f6d71a6d991e15c6" category="paragraph">Astra Tridentでは、を使用して、Kubernetesクラスタ内のノードを選択的に作成して接続できます<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>。</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">概要</block>
  <block id="3eba7c2a6bd35cbac350dcbfb90408f6" category="paragraph">CSI トポロジ機能を使用すると、領域およびアベイラビリティゾーンに基づいて、ボリュームへのアクセスをノードのサブセットに制限できます。現在、クラウドプロバイダは、 Kubernetes 管理者がゾーンベースのノードを生成できるようになっています。ノードは、リージョンによって異なるアベイラビリティゾーンに配置することも、リージョンによって配置することもできます。マルチゾーンアーキテクチャでワークロード用のボリュームをプロビジョニングするために、 Astra Trident は CSI トポロジを使用します。</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">CSIトポロジ機能の詳細については、こちらを参照して<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>ください。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes には、 2 つの固有のボリュームバインドモードがあります。</block>
  <block id="fb1aab16c373fd5690bac00425c48d1c" category="list-text"><block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>をに設定する<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>と、Astra Tridentはトポロジを認識せずにボリュームを作成します。ボリュームバインディングと動的プロビジョニングは、 PVC が作成されるときに処理されます。これはデフォルト<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>であり、トポロジの制約を適用しないクラスタに適しています。永続ボリュームは、要求元ポッドのスケジュール要件に依存することなく作成されます。</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text"><block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>をに設定する<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>と、PVCの永続ボリュームの作成とバインドは、PVCを使用するポッドがスケジュールされて作成されるまで遅延されます。これにより、トポロジの要件に応じたスケジュールの制約を満たすようにボリュームが作成されます。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition"><block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>バインディングモードではトポロジラベルは必要ありません。これは CSI トポロジ機能とは無関係に使用できます。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">CSI トポロジを使用するには、次のものが必要です。</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">を実行するKubernetesクラスタ<block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="f9213d77978aabdafac36d2b0a184e56" category="list-text">クラスタ内のノードには、トポロジ対応と<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>を示すラベルを付ける必要があり<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>ます。このラベル * は、 Astra Trident をトポロジ対応としてインストールする前に、クラスタ内のノードに存在する必要があります。</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">手順 1 ：トポロジ対応バックエンドを作成する</block>
  <block id="87cd38dc9258893799b697433ae15e57" category="paragraph">Astra Trident ストレージバックエンドは、アベイラビリティゾーンに基づいてボリュームを選択的にプロビジョニングするように設計できます。各バックエンドは、サポートされているゾーンとリージョンのリストを表すオプションのブロックを運ぶことができます<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> 。ストレージクラスがそのようなバックエンドを使用する場合、ボリュームは、サポートされているリージョン / ゾーンでスケジュールされているアプリケーションから要求された場合にのみ作成されます。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">バックエンド定義の例を次に示します。</block>
  <block id="3e778236fe8f94ccc453f52d827e3719" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block>は、バックエンドごとにリージョンとゾーンのリストを提供するために使用されます。これらのリージョンとゾーンは、 StorageClass で指定できる許容値のリストを表します。バックエンドで提供されるリージョンとゾーンのサブセットを含む StorageClasses の場合、 Astra Trident がバックエンドにボリュームを作成します。</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">ストレージプールごとにも定義できます<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>。次の例を参照してください。</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">この例では<block ref="960db2ed82202a9706b97775a4269378" prefix=" " category="inline-code"></block>、ラベルと<block ref="a84e5f25e7f6d5de9b82ce3f64d1b8fa" prefix=" " category="inline-code"></block>ラベルはストレージプールの場所を表しています。<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix=" " category="inline-code"></block><block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>ストレージプールの消費元を指定します。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">手順 2 ：トポロジを認識するストレージクラスを定義する</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">クラスタ内のノードに提供されるトポロジラベルに基づいて、トポロジ情報を含めるように StorageClasses を定義できます。これにより、作成された PVC 要求の候補となるストレージプール、および Trident によってプロビジョニングされたボリュームを使用できるノードのサブセットが決まります。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">次の例を参照してください。</block>
  <block id="ab0c7ec9411ede93aa545fbc095c0e75" category="paragraph">前述のStorageClass定義では、<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block>がに設定されて<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>います。この StorageClass で要求された PVC は、ポッドで参照されるまで処理されません。およびに、<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>使用するゾーンとリージョンを示します。StorageClassは<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block>、上記で定義したバックエンドにPVCを作成します<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block>。</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">ステップ 3 ： PVC を作成して使用する</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">StorageClass を作成してバックエンドにマッピングすると、 PVC を作成できるようになりました。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">次の例を参照して<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>ください。</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">このマニフェストを使用して PVC を作成すると、次のような結果になります。</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">Trident でボリュームを作成して PVC にバインドするには、ポッド内の PVC を使用します。次の例を参照してください。</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">このpodSpecは、リージョンに存在するノードでポッドをスケジュールし、ゾーンまたは<block ref="ed5c4bc41bbc57e4165f20d56c997a77" prefix=" " category="inline-code"></block>ゾーンに存在する任意のノードから選択する<block ref="6b255e25f36cde4f15e99ca4978b2710" prefix=" " category="inline-code"></block>ようにKubernetesに指示し<block ref="71a19c09ed1636680a56d8f8d9766808" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">次の出力を参照してください。</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">バックエンドを更新して含める<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">既存のバックエンドを更新して、使用の<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>リストを含めることができます<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>。これは、すでにプロビジョニングされているボリュームには影響せず、以降の PVC にのみ使用されます。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">コンテナのリソースを管理</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">ノードセレクタ</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">アフィニティと非アフィニティ</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">塗料および耐性</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="c109878131f34375d85b7eff9721dcde" category="summary">ネットアップが提供する Trident インストールで Element バックエンドを作成して使用する方法をご確認ください。</block>
  <block id="62233a6f2ba54c1dcede120348a6f595" category="paragraph">Astra Tridentインストール環境でElementバックエンドを作成して使用する方法をご確認ください。</block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">Elementドライバの詳細</block>
  <block id="9fc6992cc8e273b3f7d317fc2a54e18c" category="paragraph">Astra Tridentは、クラスタと通信するためのストレージドライバを提供します<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="2d5e7b30bb6eb1bd6091005422150b91" category="paragraph"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ストレージドライバは、_file_and_block_volumeモードをサポートしています。volumeModeの場合<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block>、Astra Tridentはボリュームを作成し、ファイルシステムを作成します。ファイルシステムのタイプは StorageClass で指定されます。</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">ボリュームモード</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">ブロック</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">ファイルシステムがありません。raw ブロックデバイスです。</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO、RWOP</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block>、<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>、<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">Elementバックエンドを作成する前に、次の情報が必要になります。</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">Element ソフトウェアを実行する、サポート対象のストレージシステム。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">NetApp HCI / SolidFire クラスタ管理者またはボリュームを管理できるテナントユーザのクレデンシャル。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">ワーカーノードの準備情報</block>
  <block id="d1b5b194ace83d9f896d8f8b6765def5" category="list-text">すべての Kubernetes ワーカーノードに適切な iSCSI ツールをインストールする必要があります。を参照してください <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">バックエンド設定オプションについては、次の表を参照してください。</block>
  <block id="2353a0a3a06283f07550efc7bad8a90e" category="cell">常に「 solidfire-san-」</block>
  <block id="f4210b28f3cf7c1f7e6e328bb42c6060" category="cell">「 iSCSI_ 」 + ストレージ（ iSCSI ） IP アドレス SolidFire</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">ストレージ（ iSCSI ）の IP アドレスとポート</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell"><block ref="42cecfeff00cc916fef4f64e7b921079" prefix="" category="inline-code"></block></block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット。</block>
  <block id="1d76382e861d2df96647216b26d38948" category="cell">「」</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">使用するテナント名（見つからない場合に作成）</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">iSCSI トラフィックを特定のホストインターフェイスに制限します</block>
  <block id="6522432847a0e6902318a976e5533f62" category="cell">デフォルト</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell"><block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix="" category="inline-code"></block></block>
  <block id="1042787fd4ac6b51cfd71a9564293ec1" category="cell">CHAPを使用してiSCSIを認証します。Astra TridentはCHAPを使用</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell"><block ref="86d1f8dbc0e863904895b40bd0ac1775" prefix="" category="inline-code"></block></block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">使用するアクセスグループ ID のリスト</block>
  <block id="e64099a24f6ef8bbbdb23c2a803cd065" category="cell">「 trident 」という名前のアクセスグループの ID を検索します。</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します</block>
  <block id="7962423206a6704e20fa94085d19b517" category="cell">“”（デフォルトでは適用されません）</block>
  <block id="ae0784115c8f815d4a2ca170c59f3c99" category="cell">トラブルシューティング時に使用するデバッグフラグ。例： {"API" ： false 、 "method" ： true}</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">トラブルシューティングを行い、詳細なログダンプが必要な場合を除き、は使用しない<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>でください。</block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">例1：3つのボリュームタイプを持つドライバのバックエンド構成<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">次の例は、 CHAP 認証を使用するバックエンドファイルと、特定の QoS 保証を適用した 3 つのボリュームタイプのモデリングを示しています。次に、ストレージクラスパラメータを使用して各ストレージクラスを使用するように定義します<block ref="79073619fba8242703524f16870ff858" prefix=" " category="inline-code"></block>。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">例2：仮想プールを使用するドライバのバックエンドとストレージクラスの構成<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">この例は、仮想プールとともに、それらを参照するStorageClassesとともに構成されているバックエンド定義ファイルを示しています。</block>
  <block id="d0f8c7d1b12ede190acf9656da99c079" category="paragraph">Astra Tridentは、ストレージプール上にあるラベルを、プロビジョニング時にバックエンドストレージLUNにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">以下に示すサンプルのバックエンド定義ファイルでは、すべてのストレージプールに特定のデフォルトが設定されており、そのデフォルトはAt Silverに設定されて<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>います。仮想プールは、セクションで定義し<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>ます。この例では、一部のストレージプールが独自のタイプを設定し、一部のプールが上記のデフォルト値を上書きします。</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">次のStorageClass定義は、上記の仮想プールを参照しています。フィールドを使用して<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、各StorageClassはボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="d17a2942ee77aa1532660a5f0cf0d6e5" category="paragraph">最初のStorageClass<block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>）が最初の仮想プールにマッピングされます。これは、ゴールドのパフォーマンスとゴールドのパフォーマンスを提供する唯一のプールです<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block>。最後のStorageClass<block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>）は、Silverパフォーマンスを提供するストレージプールを呼び出します。Tridentが、どの仮想プールを選択するかを判断し、ストレージ要件を確実に満たすようにします。</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="cb4d8d2a5476183e7996047b4bd621a5" category="summary">Google Cloud NetApp VolumeのNFSおよびNFSバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="45868a9cc24b15883bb385cc21568b9c" category="doc">Google Cloud NetApp Volumeのバックエンド構成オプションと例</block>
  <block id="87e818a9e54a1044aee0c06933ae4154" category="paragraph">Google Cloud NetApp VolumeのNFSバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">各バックエンドは、 1 つの Google Cloud リージョンにボリュームをプロビジョニングします。他のリージョンにボリュームを作成する場合は、バックエンドを追加で定義します。</block>
  <block id="24efddb2a68726b53abbc21ed25602ec" category="cell">の値は<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> 「google-cloud-netapp-volumes」と指定する必要があります。</block>
  <block id="486c28964f4c2b1cb7d4cf8476c6f43b" category="cell">（オプション）ストレージバックエンドのカスタム名</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">ドライバ名 + "_" + API キーの一部</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="04075132f95c6ef305485ab113422c5a" category="cell">ボリューム作成用のストレージプールを指定するオプションのパラメータ。</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell"><block ref="80ef6899136dfcff295c16caa93c2138" prefix="" category="inline-code"></block></block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud アカウントのプロジェクト番号。この値は、Google Cloudポータルのホームページにあります。</block>
  <block id="3c48ebd4c4115423adde42d518db3987" category="cell">Astra TridentがGCNVボリュームを作成するGoogle Cloudの場所。リージョン間Kubernetesクラスタを作成する場合、で作成したボリュームは<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 、複数のGoogle Cloudリージョンのノードでスケジュールされているワークロードで使用できます。リージョン間トラフィックは追加コストを発生させます。</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell"><block ref="c9ff119073ea2567730fb42e3a4fe805" prefix="" category="inline-code"></block></block>
  <block id="1124e7ce466aaa9571f3fbccbdc49189" category="cell">ロールが割り当てられたGoogle CloudサービスアカウントのAPIキー<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> 。このレポートには、 Google Cloud サービスアカウントの秘密鍵ファイルの JSON 形式のコンテンツが含まれています（バックエンド構成ファイルにそのままコピーされます）。には<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> 、、、、、の各キーのキーと値のペアを含める必要があります。<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block><block ref="b098ad43c65e68f3d8ce27a3c7e6f6e2" prefix=" " category="inline-code"></block><block ref="a4a9fd77bfb3720e66b510bef7ffe71a" prefix=" " category="inline-code"></block><block ref="2bfe9d72a4aae8f06a31025b7536be80" prefix=" " category="inline-code"></block><block ref="478cc0e49bfbb9ded4ffc7ea662d3968" prefix=" " category="inline-code"></block><block ref="98b215082431c21156af94f3aa69f838" prefix=" " category="inline-code"></block><block ref="8201fe8e688f4f948a62370fd1b411d4" prefix=" " category="inline-code"></block>、、および<block ref="61426bc7fdd11e59a5c98e7ee37e3dbb" prefix=" " category="inline-code"></block>。</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">NFS マウントオプションのきめ細かな制御。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します。</block>
  <block id="1713a0b57aa7aa8811b66291bd6740ea" category="cell">ストレージプールとそのボリュームのサービスレベル。値は<block ref="897a779351421523cadbafccdce22efe" prefix=" " category="inline-code"></block>、<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>、または<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>です。</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell"><block ref="91e02cd2b8621d0c05197f645668c5c4" prefix="" category="inline-code"></block></block>
  <block id="c1a95f00cc65baba0b4226ef5a52eb6c" category="cell">GCNVボリュームに使用されるGoogle Cloudネットワーク。</block>
  <block id="ed9bce6a4d879e7f479badb9932b75b3" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="448bcae3131355f9b92b192b1057af2f" prefix=" " category="inline-code"></block>トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="fb52ca5d2a493e686d9e2211731e6746" category="cell">このバックエンドでサポートされているリージョンとゾーンのリストを表します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。例：<block ref="8a9f2f1da64ded561b14b71ac1693e00" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">ボリュームプロビジョニングオプション</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">デフォルトのボリュームプロビジョニングは、構成ファイルのセクションで制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>。</block>
  <block id="95c5fc7684c0c685ae305908e8360de5" category="cell">新しいボリュームのエクスポートルール。IPv4アドレスの任意の組み合わせをカンマで区切って指定する必要があります。</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">ディレクトリへのアクセス<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block></block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="3731633acfd0b9fb847e03ce2fdab4fa" category="cell">""（デフォルトの0を使用）</block>
  <block id="f666bd4432d66c3d0a6c3eb68602a507" category="cell">新しいボリュームのUNIX権限（8進数の4桁）。</block>
  <block id="d4f218c41505a7c6161c931fe87b30f3" category="paragraph">これは、バックエンドの絶対的な最小構成です。この構成では、Astra Tridentが、設定された場所にあるGoogle Cloud NetApp Volumeに委譲されたすべてのストレージプールを検出し、それらのプールの1つに新しいボリュームをランダムに配置します。は省略されているため、<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> デフォルトが適用され、バックエンドでNFSボリュームがプロビジョニングされます。</block>
  <block id="b0663450e547d90a59ef16fd10b49313" category="paragraph">この構成は、Google Cloud NetApp Volumeの使用を開始して試用する場合に最適ですが、実際には、プロビジョニングするボリュームに対して追加の範囲設定が必要になることがよくあります。</block>
  <block id="2d55ceabc505d58735d6f639a0ddee3c" category="example-title">StoragePoolsフイルタヲシヨウシタセツテイ</block>
  <block id="9f50e88dc1b2f50c32d6623a46186422" category="paragraph">このバックエンド構成では、1つのファイルに複数の仮想プールが定義されます。仮想プールは、セクションで定義し<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> ます。さまざまなサービスレベルをサポートする複数のストレージプールがあり、それらを表すストレージクラスをKubernetesで作成する場合に役立ちます。仮想プールラベルは、プールを区別するために使用されます。たとえば、次の例では<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> 、仮想プールを区別するためにラベルと<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> タイプが使用されています。</block>
  <block id="88b8febb44310d1976318cdfbfc8e272" category="paragraph">また、一部のデフォルト値をすべての仮想プールに適用できるように設定したり、個 々 の仮想プールのデフォルト値を上書きしたりすることもできます。次の例では、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block><block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> すべての仮想プールのデフォルトとして機能します。</block>
  <block id="6a34de146c5cb15d515a8eccfe1e159a" category="paragraph">詳細については、を参照してください <block ref="2485f0c91682fe52be2f7fb65e682d5e" category="inline-link-macro-rx"></block>。</block>
  <block id="aae18f7253cac406ae284f53b287a9df" category="paragraph">バックエンドが正常に作成されたことを確認するには、次のコマンドを実行します。</block>
  <block id="03b8a172613e4de074d79fb4f46074a3" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。バックエンドについては、コマンドを使用して説明するか、次のコマンドを実行してログを表示して原因を特定できます<block ref="229abe1e223382a9207e6c5818f53303" prefix=" " category="inline-code"></block> 。</block>
  <block id="c80946da495de259ca1ba66a90f669f1" category="paragraph">構成ファイルの問題を特定して修正したら、バックエンドを削除してcreateコマンドを再度実行できます。</block>
  <block id="f43bca7c7b2ce941f9a34838d862550f" category="section-title">その他の例</block>
  <block id="d66e2be406c48591554571ad9aec4297" category="section-title">ストレージクラスの定義の例</block>
  <block id="7412fabe1fe110c48954fa7d913c7aa6" category="paragraph">以下は、上記のバックエンドを参照する基本的な定義です<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 。</block>
  <block id="73edba1e6e192a3d47eeb049261cf706" category="paragraph">*フィールドを使用した定義例<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> ：*</block>
  <block id="131942def57ce0eceb784a70e3a3c6b7" category="inline-link-macro">仮想プール</block>
  <block id="21f282d336bd6884d8049de5c63672b5" category="paragraph">を使用する<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> と、ボリュームのホストに使用される各に対してを指定できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> <block ref="6679d756882db6798c9460928c0b140b" category="inline-link-macro-rx"></block> 。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="017c90fe97524fad37b16a935c4a6d93" category="paragraph">ストレージクラスの詳細については、を参照してください <block ref="70514be1adf68f525abe0b1ddd1123f6" category="inline-link-macro-rx"></block>。</block>
  <block id="f9f2eb48a9034cb5dc809b4a8cfe0514" category="section-title">PVC定義の例PVCテイギノレイ</block>
  <block id="1fa71ec0db169cb1ef6cfabf7648910e" category="paragraph">PVCがバインドされているかどうかを確認するには、次のコマンドを実行します。</block>
  <block id="42d7c2849e22a4d78da8b275f64f75aa" category="summary">Google Cloud NetApp Volumeバックエンドを設定する前に、次の要件が満たされていることを確認する必要があります。</block>
  <block id="b50d4e4fb1b847d1270df87e42364fe0" category="doc">Google Cloud NetApp Volumeバックエンドを設定する準備</block>
  <block id="0935df2153a18d9a4776751ebfb7cb82" category="section-title">NFSボリュームノゼンテイジョウケン</block>
  <block id="a03c3224ff98ca5b518f8a11ed9d6f72" category="paragraph">Google Cloud NetApp Volumeを初めてまたは新しい場所で使用している場合は、Google Cloud NetApp VolumeをセットアップしてNFSボリュームを作成するために、いくつかの初期設定が必要です。を参照してください <block ref="d2edeebd0b5ddcd8a293f6eb7960f37c" category="inline-link-macro-rx"></block>。</block>
  <block id="ec8b4b1603705e8f5deb17b1f83c5b04" category="paragraph">Google Cloud NetApp Volumeバックエンドを設定する前に、次の条件を満たしていることを確認してください。</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="inline-link-macro">Google Cloud NetAppボリューム</block>
  <block id="cbd1a08f0c7e9ece495b85acebbda95f" category="list-text">Google Cloud NetApp Volumes Serviceで設定されたGoogle Cloudアカウント。を参照してください <block ref="633097af004065de10009ea2f33900c4" category="inline-link-macro-rx"></block>。</block>
  <block id="d602f37c15ba943e502f28694eb5a2b1" category="inline-link-macro">プロジェクトの特定</block>
  <block id="ecf1c0124555e123ac90e38128ef83e5" category="list-text">Google Cloudアカウントのプロジェクト番号。を参照してください <block ref="64c0ff4c5d45f1d3f3d8ce4197eed1cc" category="inline-link-macro-rx"></block>。</block>
  <block id="aa22e5fd0429d1ecf78d5deedf0c6dc8" category="inline-link-macro">IDおよびアクセス管理のロールと権限</block>
  <block id="53541745c9aef32587459280a54f1807" category="list-text">NetApp Volume Admin）ロールが割り当てられたGoogle Cloudサービスアカウント <block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix="(" category="inline-code"></block>。を参照してください <block ref="4f506c30a158c85db714d53536a12770" category="inline-link-macro-rx"></block>。</block>
  <block id="2046572933d7db54142d1425499e1cb2" category="inline-link-macro">APIキーを使用した認証</block>
  <block id="1cfccdf67b855dda984a356f4d29b923" category="list-text">GCNVアカウントのAPIキーファイル。を参照して <block ref="37c61838ce0a305950c70b2b32fc8104" category="inline-link-macro-rx"></block></block>
  <block id="ef2186bedd233e9b009e5d1764dc1e3c" category="inline-link-macro">ストレージプールの概要</block>
  <block id="33773afc759728866f9a57d82940a56c" category="list-text">ストレージプール。を参照してください <block ref="d347dce2da907b926fcf6a02a7257712" category="inline-link-macro-rx"></block>。</block>
  <block id="dd2c158264290c91be79556252aca308" category="inline-link-macro">Google Cloud NetApp Volumeへのアクセスをセットアップする</block>
  <block id="7cef0ad261753740989fa192df2e19e9" category="paragraph">Google Cloud NetApp Volumeへのアクセスの設定方法の詳細については、を参照してください <block ref="5e9b4ec852ec4a511a1370be58118d01" category="inline-link-macro-rx"></block>。</block>
  <block id="b73a4f3ea8538e5ef0b4078c119b3c8d" category="doc">Google Cloud NetApp Volumeバックエンドの設定</block>
  <block id="32487801edf6d6f388bbce7941ff4901" category="paragraph">Google Cloud NetApp VolumesをAstra Tridentのバックエンドとして設定できるようになりました。Google Cloud NetApp Volumeバックエンドを使用してNFSボリュームを接続できます。</block>
  <block id="23fa813a6884f33dc0d2070ae5260e6a" category="section-title">Google Cloud NetApp Volumesドライバの詳細</block>
  <block id="5fb193ca50759ba375397b4085f1116f" category="paragraph">Astra Tridentは、クラスタと通信するためのドライバを提供します<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> 。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="5ab9649a1218ec1b35bfb38efbeaea76" category="cell"><block ref="94594b2ccbc8e0d220ad37504461650b" prefix="" category="inline-code"></block></block>
  <block id="3fec7156504f6ca677ea0a137456913e" category="summary">Cloud Volumes Service for Google CloudをAstra Tridentのバックエンドとして構成する方法を、提供されている構成例を使用して説明します。</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">Google Cloudバックエンド用にCloud Volumes Service を設定します</block>
  <block id="c891939fd67dfe2cdc8d8bd5a1404644" category="paragraph">ネットアップCloud Volumes Service for Google CloudをAstra Tridentのバックエンドとして構成する方法を、提供されている構成例を使用して説明します。</block>
  <block id="8126e96f64b1a5de24d4cf6e4b09b986" category="section-title">Google Cloudドライバの詳細</block>
  <block id="9393948ed1be0af0cfb3d99e3248301a" category="paragraph">Astra Tridentは、クラスタと通信するためのドライバを提供します<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="ac7ba403929463ebd2aabb621c443399" category="section-title">Cloud Volumes Service for Google Cloudに対するAstra Tridentサポートの詳細をご確認ください</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">サービスタイプ</block>
  <block id="f391d05be666574cba6a6b88827e5766" category="paragraph">Astra Tridentでは、<block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>次の2つのいずれかにCloud Volumes Serviceボリュームを作成できます。</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">3つのサービスレベル</block>
  <block id="9b44bc41471d2c2cc25eb7a9e5e01b49" category="list-text">* CVS - Performance *：デフォルトのAstra Tridentサービスタイプ。パフォーマンスが最適化されたこのサービスタイプは、パフォーマンスを重視する本番環境のワークロードに最適です。CVS -パフォーマンスサービスタイプは、サイズが100GiB以上のボリュームをサポートするハードウェアオプションです。<block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>次のいずれかを選択できます。</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">2つのサービスレベル</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">* CVS *：CVSサービスタイプは、中程度のパフォーマンスレベルに制限された高レベルの可用性を提供します。CVSサービスタイプは、ストレージプールを使用して1GiB未満のボリュームをサポートするソフトウェアオプションです。ストレージプールには最大50個のボリュームを含めることができ、すべてのボリュームでプールの容量とパフォーマンスを共有できます。<block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>次のいずれかを選択できます。</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">バックエンドを設定して使用するには<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block>、次のものが必要です。</block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">NetApp Cloud Volumes Service で設定されたGoogle Cloudアカウント</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Google Cloud アカウントのプロジェクト番号</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">ロールが割り当てられたGoogle Cloudサービスアカウント<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block></block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">Cloud Volumes Service アカウントのAPIキーファイル</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"GCP-cvs"</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell"><block ref="78ec9b60245b46a4f05158076962ace9" prefix="" category="inline-code"></block></block>
  <block id="82409a3ea24b043087a2159a3e1f9f74" category="cell">CVSサービスタイプを指定するためのオプションのパラメータ。CVSサービスタイプを選択するために使用し<block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block>ます。それ以外の場合、Astra TridentはサービスタイプがCVS-Performanceとみなされ<block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>ます）。</block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">CVSサービスタイプのみ。ボリューム作成用のストレージプールを指定するオプションのパラメータ。</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell"><block ref="b5caf2c58446baec75b83bf637a98d1b" prefix="" category="inline-code"></block></block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">共有VPCネットワークを使用する場合は必須です。このシナリオでは、<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>はサービスプロジェクト、<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block>はホストプロジェクトです。</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell"><block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix="" category="inline-code"></block></block>
  <block id="dbac640079c94d4a257a3513191a1ad6" category="cell">Astra TridentがCloud Volumes Service ボリュームを作成するGoogle Cloudリージョン。リージョン間Kubernetesクラスタを作成する場合、で作成したボリュームは<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>、複数のGoogle Cloudリージョンのノードでスケジュールされているワークロードで使用できます。リージョン間トラフィックは追加コストを発生させます。</block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">ロールが割り当てられたGoogle CloudサービスアカウントのAPIキー<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> 。このレポートには、 Google Cloud サービスアカウントの秘密鍵ファイルの JSON 形式のコンテンツが含まれています（バックエンド構成ファイルにそのままコピーされます）。</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell"><block ref="10231d8ea5ef7f2b145e34a646b05e79" prefix="" category="inline-code"></block></block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">CVSアカウントへの接続にプロキシサーバが必要な場合は、プロキシURLを指定します。プロキシサーバには、 HTTP プロキシまたは HTTPS プロキシを使用できます。HTTPS プロキシの場合、プロキシサーバで自己署名証明書を使用するために証明書の検証はスキップされます。認証が有効になっているプロキシサーバはサポートされていません。</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">新しいボリュームのCVS -パフォーマンスレベルまたはCVSサービスレベル。CVS-Performanceの値は<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>または<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>です。CVS値は<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>または<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>です。</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">CVS -パフォーマンスのデフォルトは「Standard」です。CVSのデフォルトは"standardsw"です。</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Cloud Volumes Service ボリュームに使用するGoogle Cloudネットワーク。</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">デフォルト</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">リージョン間アクセスを有効にするには、のStorageClass定義<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>にすべてのリージョンが含まれている必要があります。例：<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">新しいボリュームのエクスポートルール。CIDR 表記の IPv4 アドレスまたは IPv4 サブネットの任意の組み合わせをカンマで区切って指定する必要があります。</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">"" （ CVS のデフォルト値をそのまま使用）</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">新しいボリュームのサイズ。CVS -パフォーマンス最小値は100GiBです。CVS最小値は1GiBです。</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">CVS -パフォーマンスサービスのタイプはデフォルトで「100GiB」です。CVSサービスのタイプではデフォルトが設定されませんが、1GiB以上が必要です。</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">CVS -パフォーマンスサービスの種類の例</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">次の例は、CVS -パフォーマンスサービスタイプの設定例を示しています。</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="example-title">例 1 ：最小限の構成</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">これは、デフォルトの「標準」サービスレベルでデフォルトのCVSパフォーマンスサービスタイプを使用する最小バックエンド構成です。</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">例2：サービスレベルの設定</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">この例は、サービスレベルやボリュームのデフォルトなど、バックエンド構成オプションを示しています。</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">例3：仮想プールの構成</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">この例では、を使用して、<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>仮想プールとを参照するを設定し<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>ます。ストレージクラスの定義方法については、を参照して<block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">ここでは、すべての仮想プールに特定のデフォルトが設定されます。これにより、が5%に設定され、が<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block>0.0.0.0/0に設定され<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>ます。仮想プールは、セクションで定義し<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block>ます。個 々 の仮想プールはそれぞれ独自に定義され<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>、一部のプールはデフォルト値を上書きします。仮想プールラベルを使用して、および<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>に基づいてプールを区別しました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">次のStorageClass定義は、仮想プールの構成例に適用されます。を使用すると<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、ボリュームのホストに使用する仮想プールをStorageClassごとに指定できます。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">ストレージクラスの例</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">最初のStorageClass<block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>）が最初の仮想プールにマッピングされます。スナップショット予約が 10% の非常に高いパフォーマンスを提供する唯一のプールです。</block>
  <block id="c218d6520025e93f73bb7b0b289f3ebe" category="list-text">最後のStorageClass<block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>）は、10%のスナップショットリザーブを提供するストレージプールを呼び出します。Tridentが、どの仮想プールを選択するかを決定し、スナップショット予約の要件が満たされていることを確認します。</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">CVSサービスタイプの例</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">次の例は、CVSサービスタイプの設定例を示しています。</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">例1：最小構成</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">これは、CVSサービスタイプとデフォルトのサービスレベルを指定するために<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>を使用する最小のバックエンド構成<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block>です。</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">例2：ストレージプールの構成</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">このバックエンド構成の例では、を使用して<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>ストレージプールを構成しています。</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">既存のストレージクラスを表示したり、デフォルトのストレージクラスを設定したり、ストレージクラスバックエンドを識別したり、ストレージクラスを削除したりできます。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">ストレージクラスを管理する</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">既存のストレージクラスを表示します</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">既存の Kubernetes ストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">Kubernetes ストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="bed443a9c5577e1043c277e8ebbb542f" category="list-text">Astra Trident の同期されたストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="db66cf4d314ab7a719a76ed3af1b0173" category="list-text">Astra Trident の同期されたストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">デフォルトのストレージクラスを設定する</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6 では、デフォルトのストレージクラスを設定する機能が追加されています。永続ボリューム要求（ PVC ）に永続ボリュームが指定されていない場合に、永続ボリュームのプロビジョニングに使用するストレージクラスです。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">ストレージクラスの定義でアノテーションをtrueに設定して、デフォルトのストレージクラスを定義し<block ref="2e87d06175a666e414e1b430b811ef2d" prefix=" " category="inline-code"></block>ます。仕様に応じて、それ以外の値やアノテーションがない場合は false と解釈されます。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">次のコマンドを使用して、既存のストレージクラスをデフォルトのストレージクラスとして設定できます。</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同様に、次のコマンドを使用して、デフォルトのストレージクラスアノテーションを削除できます。</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">また、このアノテーションが含まれている Trident インストーラバンドルにも例があります。</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">クラスタ内のデフォルトのストレージクラスは一度に1つだけにしてください。Kubernetes では、技術的に複数のストレージを使用することはできますが、デフォルトのストレージクラスがまったくない場合と同様に動作します。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">ストレージクラスのバックエンドを特定します</block>
  <block id="dc0742ede78913414129866d60898f67" category="paragraph">ここでは、Astra Tridentバックエンドオブジェクト用に出力されるJSONを使用して回答できる質問の例を示し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。これはユーティリティを使用し<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>ます。このユーティリティは、最初にインストールする必要がある場合があります。</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">ストレージクラスを削除する</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">Kubernetes からストレージクラスを削除するには、次のコマンドを実行します。</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph"><block ref="4c13babc60c6bf50b7fe85107bcf8af2" prefix="" category="inline-code"></block>は、ストレージクラスに置き換えてください。</block>
  <block id="a5f526f5d63d827ce2c0146a20cd2ff7" category="paragraph">このストレージクラスで作成された永続ボリュームには変更はなく、 Astra Trident によって引き続き管理されます。</block>
  <block id="ded47128219e64b5f24343dab357151b" category="admonition">Astra Tridentでは、作成するボリュームに空白が適用され<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>ます。iSCSIバックエンドの場合は、StorageClassで強制することを推奨します<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。既存のストレージクラスを削除し、指定したで再作成してください<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。</block>
  <block id="bee1e2306bc7054ee443dc651eae90de" category="summary">Astra Trident は、一連の Prometheus 指標エンドポイントを提供し、 Astra Trident のパフォーマンスの監視に使用できます。</block>
  <block id="44a004cad6eb7ea8839aaa8754ead178" category="doc">Astra Trident を監視</block>
  <block id="5178ad00e596ece0be9aceff179b4303" category="paragraph">Astra Tridentは、Astra Tridentのパフォーマンス監視に使用できるPrometheus指標エンドポイントのセットを提供します。</block>
  <block id="c827f266cf12e05adc1fe95215415abf" category="paragraph">Astra Trident が提供する指標を使用すると、次のことが可能になります。</block>
  <block id="6111d709595b0a106ff313a249eb9d92" category="list-text">Astra Trident の健常性と設定を保持処理が成功した方法と、想定どおりにバックエンドと通信できるかどうかを調べることができます。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">バックエンドの使用状況の情報を調べて、バックエンドでプロビジョニングされているボリュームの数や消費されているスペースなどを確認します。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">利用可能なバックエンドにプロビジョニングされたボリュームの量のマッピングを維持します。</block>
  <block id="e436794bccbe602731bbde7766c1fa49" category="list-text">パフォーマンスを追跡する。Astra Trident がバックエンドと通信して処理を実行するのにどれくらいの時間がかかるかを調べることができます。</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">デフォルトでは、Tridentの指標はエンドポイントの<block ref="ae3b848d2daecffc635ae20b0b882d8f" prefix=" " category="inline-code"></block>ターゲットポートで公開され<block ref="bc3c4a6331a8a9950945a1aa8c95ab8a" prefix=" " category="inline-code"></block>ます。これらの指標は、 Trident のインストール時にデフォルトで * 有効になります。</block>
  <block id="1ed994b9754ad078cfc46aaf3dbf3a5d" category="list-text">Astra Trident がインストールされた Kubernetes クラスタ</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">コンテナ化された Prometheus 環境</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">ネイティブアプリケーション</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Prometheus インスタンス。にすることも、としてPrometheusを実行することもでき<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>ます<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block>。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">手順 1 ： Prometheus ターゲットを定義する</block>
  <block id="f0c578e8a253ac755fdd55b5aa06eba6" category="paragraph">Prometheus ターゲットを定義して指標を収集し、 Astra Trident が管理するバックエンド、作成するボリュームなどの情報を取得する必要があります。ここで<block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block>は、Astra TridentでPrometheusとGrafanaを使用して指標を取得する方法について説明します。このブログでは、KubernetesクラスタのオペレータとしてPrometheusを実行する方法と、Astra Tridentの指標を取得するためのServiceMonitorの作成について説明しています。</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">手順 2 ： Prometheus ServiceMonitor を作成します</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">Trident指標を使用するには、サービスを監視してポートでリスン<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>するPrometheusサービスモニタを作成する必要があります<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>。ServiceMonitor のサンプルは次のようになります。</block>
  <block id="bfc1ad0fa725ea87ea056b2f2e8b6fe8" category="paragraph">このServiceMonitor定義は、サービスから返されたメトリックを取得し<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>、特にサービスのエンドポイントを検索し<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>ます。その結果、 Prometheus は Astra Trident の指標を理解するように設定されました。</block>
  <block id="edc5c2a9b608743f25c2cdefef48089a" category="paragraph">Astra Tridentから直接利用できる指標に加えて、Kubeletは独自の指標エンドポイントを介して多くの指標を公開して<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block>います。Kubelet では、接続されているボリュームに関する情報、およびポッドと、それが処理するその他の内部処理を確認できます。を参照してください<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">ステップ 3 ： PrompQL を使用して Trident 指標を照会する</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PrompQL は、時系列データまたは表データを返す式を作成するのに適しています。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">次に、 PrompQL クエリーのいくつかを示します。</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">Trident の健常性情報を取得</block>
  <block id="69fc54b5fac064131422d41948eb77ed" category="list-text">** Astra Trident からの HTTP 2XX 応答の割合 **</block>
  <block id="f43362a8efc950ece8c14d4e5faddfa4" category="list-text">** Astra Trident からのステータスコードによる REST 応答の割合 **</block>
  <block id="e69d9a06025140f38adabb6f709f6e5b" category="list-text">** Astra Trident によって実行された処理の平均時間（ミリ秒） **</block>
  <block id="0505e17dec1e849391ad96f558fa613a" category="section-title">Astra Trident の使用状況に関する情報を入手</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">** 平均体積サイズ **</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">** 各バックエンドによってプロビジョニングされた合計ボリューム容量 **</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">個々のボリュームの使用状況を取得する</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">これは、 kubelet 指標も収集された場合にのみ有効になります。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">** 各ボリュームの使用済みスペースの割合 **</block>
  <block id="8516d75df966e595bd1b5491acd01515" category="section-title">Astra Trident AutoSupport の計測データ</block>
  <block id="6f4ddec0f501988d2b0315a77c87eeaa" category="paragraph">デフォルトでは、 Astra Trident は Prometheus 指標と基本バックエンド情報を毎日定期的にネットアップに送信します。</block>
  <block id="5276683815b670b0addfb8c8a45bbb41" category="list-text">Astra TridentからNetAppへのPrometheus指標と基本的なバックエンド情報の送信を停止するには、Astra Tridentのインストール時にフラグを渡します。<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block></block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">プライバシーポリシー</block>
  <block id="5b58783cbe6d85941bac008d83d3f5c8" category="list-text">Astra Tridentでは、経由でコンテナログをNetAppサポートにオンデマンドで送信することもできます<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block>。Astra Trident をトリガーしてログをアップロードする必要があります。ログを送信する前に、NetAppを承認する必要があります<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>。</block>
  <block id="63b95d84cf55d169b2592f3ac621055f" category="list-text">指定しないと、 Astra Trident は過去 24 時間からログを取得します。</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport の略</block>
  <block id="a84a64b02579dc14f89cbfdf30b6e938" category="list-text">フラグを使用してログの保持期間を指定できます<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block>。例：<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>。収集された情報は、Astra Tridentと一緒にインストールされたコンテナを介して送信され<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>ます。コンテナイメージはから入手できます<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>。</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">Trident AutoSupport は、個人情報（ PII ）や個人情報を収集または送信しません。Tridentコンテナイメージ自体には適用されないが付属して<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> います。データのセキュリティと信頼に対するネットアップの取り組みについて詳しくは、こちらをご覧<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block>ください。</block>
  <block id="89f0f2832f60f480805faf638848c5b7" category="paragraph">Astra Trident から送信されるペイロードの例を次に示します。</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">AutoSupport メッセージは、ネットアップの AutoSupport エンドポイントに送信されます。プライベートレジストリを使用してコンテナイメージを格納している場合は、フラグを使用できます<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>。</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">インストール YAML ファイルを生成してプロキシ URL を設定することもできます。これを行うには、を使用し<block ref="758aee5ba3aed3d4e9a31a16ea04b47a" prefix=" " category="inline-code"></block>てYAMLファイルを作成し、にコンテナの<block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix=" " category="inline-code"></block>引数を<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>追加し<block ref="46f08f4431bbd907a039e14ddf39cf5f" prefix=" " category="inline-code"></block>ます。</block>
  <block id="46ab735110312d196d5265e534453cba" category="section-title">Astra Trident の指標を無効化</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">**無効**メトリクスが報告されないようにするには、(フラグを使用して)カスタムYAMLを生成し、それらを編集して、<block ref="7d91b1e10cf86478be03f54a8c39320a" prefix=" " category="inline-code"></block>コンテナに対してフラグが呼び出されないように<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>する必要があります<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block>。</block>
  <block id="433d29840a179b402df37de14e4679f3" category="summary">Astra Tridentのインストール環境でONTAP NASドライバを作成して使用する方法をご紹介します。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="9c12c9edc9fbb4ee2f0331555cd8de1b" category="paragraph">Astra Tridentのインストール環境でONTAP NASドライバを作成して使用する方法について説明します。このセクションでは、バックエンドの構成例と、バックエンドをStorageClassesにマッピングするための詳細を示します。</block>
  <block id="a486595fa1d9f349d9f9385ef2cb39f0" category="cell">「ontap-nas」、「ontap-nas-economy」、「ontap-nas-flexgroup」、「ontap-san」、「ontap-san-economy」</block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">ドライバ名+"_"+ dataLIF</block>
  <block id="1c406311c32773986c724a28df7826af" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。シームレスなMetroClusterスイッチオーバーについては、を参照して<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="c560b8d02093547d93a87c72d8b16eaf" category="cell">「 10.0.0.1 」、「 [2001:1234:abcd::fefe] 」</block>
  <block id="1c05218d366e75cebad4a21520fb49f4" category="cell">プロトコル LIF の IP アドレス。指定することをお勧めします<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。* MetroClusterの場合は省略してください。*を参照してください<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定されたアドレス、または指定されていない場合はSVMから取得されるアドレス（非推奨）</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">使用するStorage Virtual Machine * MetroClusterでは省略*を参照してください<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">SVMが指定されている場合に派生<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block></block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block></block>
  <block id="ad898a5f5863162f9c13e958485877d5" category="cell">エクスポートポリシーの自動作成と更新を有効にします[ブーリアン]。オプションと<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>オプションを使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>と、Astra Tridentでエクスポートポリシーを自動的に管理できます。</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block></block>
  <block id="70d565ceadd7e1d5d1d6a3f98c198443" category="cell">が有効な場合にKubernetesのノードIPをフィルタリングするCIDRのリスト<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。オプションと<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>オプションを使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>と、Astra Tridentでエクスポートポリシーを自動的に管理できます。</block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0.0.0.0/0","::/0"]'</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell"><block ref="79fffaff4013c1e8c508e76646eca77b" prefix="" category="inline-code"></block></block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">クライアント証明書の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell"><block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix="" category="inline-code"></block></block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell"><block ref="8468461bca00a47ab5ddba2afc45f52c" prefix="" category="inline-code"></block></block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">信頼された CA 証明書の Base64 エンコード値。オプション。証明書ベースの認証に使用されます</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。設定後に更新することはできません</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">"トライデント"</block>
  <block id="82530dd92610570d634788e7fac29c1b" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。* Amazon FSX for ONTAP * には適用されません</block>
  <block id="9f0e1cc91ea4107261588e8f1bd02d07" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeおよびLUNに対して管理するボリュームの最大サイズを制限し、オプションを使用すると、<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block>FlexVolあたりのqtreeの最大数をカスタマイズできます。</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">"" （デフォルトでは適用されません）</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell"><block ref="10c2308c62a9c0c2c33bcb4ad2f72be1" prefix="" category="inline-code"></block></block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">FlexVol あたりの最大 LUN 数。有効な範囲は 50 、 200 です</block>
  <block id="e70237f69c6dce25fd2312b8d7f00b1e" category="cell">"100"</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝トラブルシューティングを行って詳細なログダンプが必要な場合を除き、は使用しない<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>でください。</block>
  <block id="b660669829d401dc613c20939ed01e6e" category="cell">NFSマウントオプションをカンマで区切ったリスト。Kubernetes永続ボリュームのマウントオプションは通常はストレージクラスで指定されますが、ストレージクラスでマウントオプションが指定されていない場合、Astra Tridentはストレージバックエンドの構成ファイルで指定されているマウントオプションを使用します。ストレージクラスや構成ファイルにマウントオプションが指定されていない場合、Astra Tridentは関連付けられた永続的ボリュームにマウントオプションを設定しません。</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">FlexVol あたりの最大 qtree 数。有効な範囲は [50 、 300] です。</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">"200"</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="9b59e3a675bc9ca359f3369591ee7df3" category="cell">Microsoft管理コンソールまたはONTAP CLIを使用して作成されたSMB共有の名前、Astra TridentでSMB共有を作成できる名前、ボリュームへの共有アクセスを禁止する場合はパラメータを空白のままにすることができます。オンプレミスのONTAPでは、このパラメータはオプションです。このパラメータはAmazon FSx for ONTAPバックエンドで必須であり、空にすることはできません。</block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block></block>
  <block id="28e4d45059cc52fe19d10e9452ad52f3" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Astra TridentはONTAP REST APIを使用してバックエンドと通信します。に設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、Astra TridentはONTAP ZAPI呼び出しを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAPログインロールには、アプリケーションへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 。これは、事前に定義された役割と役割によって実現され<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ます。Astra Trident 24.06リリースおよびONTAP 9.15.1以降では、が<block ref="b673ee47a5f23fc2650c24742c76cf90" prefix=" " category="inline-code"></block> デフォルトでに設定されてい<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ます。ONTAP ZAPI呼び出しを使用するようににに変更してください。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block><block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="a8d3b70256520cece459d618f0b69d22" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block> ONTAP 9.15.1以降の場合は、それ以外の場合は<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="ae7be78c2d3d933d426bc82820accfae" category="cell">ONTAP NASエコノミーバックエンドでqtreeを使用する場合の、要求可能なFlexVolの最大サイズ。</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">ボリュームのプロビジョニング用のバックエンド構成オプション</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">設定のセクションで、これらのオプションを使用してデフォルトのプロビジョニングを制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>。例については、以下の設定例を参照してください。</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">space-allocation for LUN のコマンドを指定します</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">"正しい"</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">スペースリザベーションモード：「none」（シン）または「volume」（シック）</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">"なし"</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">使用する Snapshot ポリシー</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell"><block ref="36c38058d66835923c982c773a817f0b" prefix="" category="inline-code"></block></block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell"><block ref="3e5432e43a275793680f854329e05b72" prefix="" category="inline-code"></block></block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">が「none」の場合は「0」<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>、それ以外の場合は「」</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">作成時にクローンを親からスプリットします</block>
  <block id="6d9333eebb991611d29a4f8b7cc21fec" category="cell">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトはです。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに有効になります。詳細については、を参照してください<block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">「none」を使用する階層化ポリシー</block>
  <block id="07b6e78dbb76bc803c585f0e0579de56" category="cell">ONTAP 9.5より前のSVM-DR設定の場合は「snapshot-only」</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新しいボリュームのモード</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">NFSボリュームの場合は「777」、SMBボリュームの場合は空（該当なし）</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">ディレクトリへのアクセスを管理します。<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block></block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">使用するエクスポートポリシー</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新しいボリュームのセキュリティ形式。NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>と<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>セキュリティ形式SMBのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>と<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>セキュリティ形式。</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFSのデフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。SMBのデフォルトはです<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="1a917db78e9060d4bb44a3e3d9a60cb3" category="cell"><block ref="feeb5473f4afb4f667dfc9d369c3b454" prefix="" category="inline-code"></block></block>
  <block id="ae7206c28f1d0ee5f9f116f1cfe22c54" category="cell">カスタムボリューム名を作成するためのテンプレート。</block>
  <block id="99c2306b30b8939278f0f817230f3573" category="admonition">Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。共有されない QoS ポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">ボリュームプロビジョニングの例</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">デフォルトが定義されている例を次に示します。</block>
  <block id="06602e99c8d46d601029e6dd0b37e3f8" category="paragraph">と<block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block>については、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>Trident新しい計算式を使用して、FlexVolがsnapshotReserveの割合とPVCで正しくサイジングされるようになりました。ユーザが PVC を要求すると、 Astra Trident は、新しい計算を使用して、より多くのスペースを持つ元の FlexVol を作成します。この計算により、ユーザは要求された PVC 内の書き込み可能なスペースを受信し、要求されたスペースよりも少ないスペースを確保できます。v21.07 より前のバージョンでは、ユーザが PVC を要求すると（ 5GiB など）、 snapshotReserve が 50% に設定されている場合、書き込み可能なスペースは 2.5GiB のみになります。これは、ユーザが要求したのはボリューム全体であり、その割合であるため<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>です。Trident 21.07では、ユーザが要求するのは書き込み可能なスペースで、Astra Tridentではボリューム全体に対する割合が定義され<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>ます。これはには適用されませ<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ん。この機能の仕組みについては、次の例を参照してください。</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算は次のとおりです。</block>
  <block id="28ad7be76b350116bde3ae04e5f94a60" category="paragraph">snapshotReserve = 50% 、 PVC 要求 = 5GiB の場合、ボリュームの合計サイズは 2/0.5 = 10GiB であり、使用可能なサイズは 5GiB であり、これが PVC 要求で要求されたサイズです。<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>次の例のような結果が表示されます。</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">に、 volume show コマンドの出力を示します。</block>
  <block id="daabb7db82ac9f3f074671a1185c462e" category="paragraph">以前のインストールからの既存のバックエンドは、 Astra Trident のアップグレード時に前述のようにボリュームをプロビジョニングします。アップグレード前に作成したボリュームについては、変更が反映されるようにボリュームのサイズを変更する必要があります。たとえば、以前のと2GiBのPVCで<block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block>は、1GiBの書き込み可能なスペースを提供するボリュームが作成されました。たとえば、ボリュームのサイズを 3GiB に変更すると、アプリケーションの書き込み可能なスペースが 6GiB のボリュームで 3GiB になります。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最小限の設定例</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">ネットアップ ONTAP で Trident を使用している場合は、 IP アドレスではなく LIF の DNS 名を指定することを推奨します。</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">ONTAP NASの経済性の例</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">ONTAP NAS FlexGroupの例</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">MetroClusterの例</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">スイッチオーバー後およびスイッチバック中にバックエンド定義を手動で更新する必要がないようにバックエンドを設定できます<block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block>。</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">スイッチオーバーとスイッチバックをシームレスに実行するには、を使用してSVMを指定し<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>、パラメータと<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block>パラメータを省略します<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。例：</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">SMBボリュームの例</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">証明書ベースの認証の例</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">これは最小限のバックエンド構成の例です。<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>、および<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block>（信頼されたCAを使用している場合はオプション）に値が入力され<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>、それぞれクライアント証明書、秘密鍵、および信頼されたCA証明書のBase64でエンコードされた値が使用されます。</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">自動エクスポートポリシーの例</block>
  <block id="8c35a9f7d631f51e05811b36617db641" category="paragraph">この例は、動的なエクスポートポリシーを使用してエクスポートポリシーを自動的に作成および管理するように Astra Trident に指示する方法を示しています。これは、ドライバと<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバで同じように機能し<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">IPv6アドレスの例</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">次に、IPv6アドレスの使用例を示し<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">SMBボリュームを使用したAmazon FSx for ONTAPの例</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph"><block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block>SMBボリュームを使用するFSx for ONTAPでは、パラメータは必須です。</block>
  <block id="b797b4560e6c4ae4e13d035bbce23b4d" category="example-title">nameTemplateを使用したバックエンド構成の例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">仮想プールを使用するバックエンドの例</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">以下に示すサンプルのバックエンド定義ファイルでは、すべてのストレージプールに特定のデフォルトが設定されています（at none、at<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> false、at false<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>など）<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>。仮想プールは、ストレージセクションで定義します。</block>
  <block id="5f04fbb334c6fb8030146ad8f76a953a" category="paragraph">Astra Tridentでは、[Comments]フィールドにプロビジョニングラベルが設定されます。コメントは、のFlexVolまたはのFlexGroup<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>で設定します<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。Astra Tridentは、プロビジョニング時に仮想プール上にあるすべてのラベルをストレージボリュームにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">これらの例では、一部のストレージプールで独自の、、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>および<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>の値が設定され<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>、一部のプールでデフォルト値が上書きされます。</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">ONTAP NASの例</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">ONTAP NAS FlexGroupの例</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">バックエンドを StorageClasses にマッピングします</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">次のStorageClass定義は、を参照してください<block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。フィールドを使用して<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、各StorageClassはボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text"><block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>StorageClassは、バックエンドの最初と2番目の仮想プールにマッピングされます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。ゴールドレベルの保護を提供する唯一のプールです。</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text"><block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block>StorageClassは、バックエンドの3番目と4番目の仮想プールにマッピングされます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。金色以外の保護レベルを提供する唯一のプールです。</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text"><block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block>StorageClassはバックエンドの4番目の仮想プールにマッピングされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。これは、mysqldbタイプアプリ用のストレージプール構成を提供する唯一のプールです。</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text"><block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block>StorageClassはバックエンドの3番目の仮想プールにマッピングされます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。シルバーレベルの保護と20000クレジットポイントを提供する唯一のプールです。</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text"><block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block>StorageClassは、バックエンドの3番目の仮想プールとバックエンドの2番目の仮想プール<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>にマッピングされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。これらは、5000クレジットポイントを持つ唯一のプールオファリングです。</block>
  <block id="065b7cc24b33be7af1e15f59024402d2" category="paragraph">Tridentが、どの仮想プールを選択するかを判断し、ストレージ要件を確実に満たすようにします。</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">初期設定後に更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block></block>
  <block id="d0b121ba3c5e39bba858ccfcf5a75957" category="paragraph">初期設定後にデータLIFを変更するには、次のコマンドを実行して、更新されたデータLIFを新しいバックエンドJSONファイルに指定します。</block>
  <block id="3fa13ec46a3746ee36c97d65fa53f096" category="admonition">PVCが1つ以上のポッドに接続されている場合は、対応するすべてのポッドを停止してから、新しいデータLIFを有効にするために稼働状態に戻す必要があります。</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">ONTAP NASドライバでONTAPバックエンドを設定するための要件、認証オプション、およびエクスポートポリシーを理解します。</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">ONTAP NASドライバを使用してバックエンドを設定する準備をします</block>
  <block id="00b8b321c68facfb94b31690cbd23e00" category="list-text">ONTAP バックエンドすべてに対して、 Astra Trident が SVM に少なくとも 1 つのアグリゲートを割り当てておく必要があります。</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">複数のドライバを実行し、どちらか一方を参照するストレージクラスを作成できます。たとえば、ドライバを使用するGoldクラスと、ドライバを使用するBronzeクラスを<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>設定できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="d7e54271baba05c2253c5c79a6155965" category="list-text">すべてのKubernetesワーカーノードに適切なNFSツールをインストールしておく必要があります。<block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block>詳細については、を参照してください。</block>
  <block id="888a040cbb1dfe496b305a27374a73a5" category="list-text">Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート詳細については、を参照してください <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 。</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">ONTAPバックエンドの認証</block>
  <block id="51e35cec1e001fb8abfbe474a18dd282" category="paragraph">Astra Trident には、 ONTAP バックエンドを認証する 2 つのモードがあります。</block>
  <block id="f3554362e5b550c58586036685aca0f6" category="list-text">Credential-based：このモードでは、ONTAPバックエンドに十分な権限が必要です。ONTAPのバージョンと最大限の互換性を確保するために、や<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>などの事前定義されたセキュリティログインロールに関連付けられたアカウントを使用することを推奨します<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。</block>
  <block id="c2307fcf7cb538e28610fdc783f224a5" category="list-text">Certificate-based：Astra TridentがONTAPクラスタと通信するためには、バックエンドに証明書がインストールされている必要があります。この場合、バックエンド定義には、 Base64 でエンコードされたクライアント証明書、キー、および信頼された CA 証明書（推奨）が含まれている必要があります。</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">既存のバックエンドを更新して、クレデンシャルベースの方式と証明書ベースの方式を切り替えることができます。ただし、一度にサポートされる認証方法は1つだけです。別の認証方式に切り替えるには、バックエンド設定から既存の方式を削除する必要があります。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">クレデンシャルと証明書の両方を*指定しようとすると、バックエンドの作成が失敗し、構成ファイルに複数の認証方法が指定されているというエラーが表示されます。</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">クレデンシャルベースの認証を有効にします</block>
  <block id="ceae351bc6b26100a9b1685a5d477c0a" category="paragraph">Trident が ONTAP バックエンドと通信するには、 SVM を対象とした管理者またはクラスタを対象とした管理者のクレデンシャルが必要です。や<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>などの事前定義された標準のロールを使用することを推奨します<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。これにより、今後のリリースの ONTAP との互換性が今後のリリースの Astra Trident で使用される機能 API が公開される可能性があります。カスタムのセキュリティログインロールは Astra Trident で作成して使用できますが、推奨されません。</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">バックエンド定義の例は次のようになります。</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成と更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">証明書ベースの認証を有効にします</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新規または既存のバックエンドは証明書を使用して ONTAP バックエンドと通信できます。バックエンド定義には 3 つのパラメータが必要です。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">clientCertificate ： Base64 でエンコードされたクライアント証明書の値。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">clientPrivateKey ： Base64 でエンコードされた、関連付けられた秘密鍵の値。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">trustedCACertifate: 信頼された CA 証明書の Base64 エンコード値。信頼された CA を使用する場合は、このパラメータを指定する必要があります。信頼された CA が使用されていない場合は無視してかまいません。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">一般的なワークフローは次の手順で構成されます。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">クライアント証明書とキーを生成します。生成時に、 ONTAP ユーザとして認証するように Common Name （ CN ；共通名）を設定します。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">信頼された CA 証明書を ONTAP クラスタに追加します。この処理は、ストレージ管理者がすでに行っている可能性があります。信頼できる CA が使用されていない場合は無視します。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">ONTAP クラスタにクライアント証明書とキーをインストールします（手順 1 ）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">ONTAPのセキュリティログインロールが認証方式をサポートしていることを確認します<block ref="b6ba9fa6ea18201bf39ea635ecca9f13" prefix=" " category="inline-code"></block>。</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。LIFのサービスポリシーがに設定されていることを確認する必要があり<block ref="1e2cb0c539a96182e302d676a4b791be" prefix=" " category="inline-code"></block>ます。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">Base64 で証明書、キー、および信頼された CA 証明書をエンコードする。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">前の手順で得た値を使用してバックエンドを作成します。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">認証方法を更新するか、クレデンシャルをローテーションして</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に、実行に必要なパラメータを含む更新されたbackend.jsonファイルを使用し<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">パスワードのローテーションを実行する際には、ストレージ管理者が最初に ONTAP でユーザのパスワードを更新する必要があります。この後にバックエンドアップデートが続きます。証明書のローテーションを実行する際に、複数の証明書をユーザに追加することができます。その後、バックエンドが更新されて新しい証明書が使用されるようになります。この証明書に続く古い証明書は、 ONTAP クラスタから削除できます。</block>
  <block id="6819218365fe3a3d66752f663feecddb" category="paragraph">バックエンドを更新しても、すでに作成されているボリュームへのアクセスは中断されず、その後のボリューム接続にも影響しません。バックエンドの更新が成功した場合、 Astra Trident が ONTAP バックエンドと通信し、以降のボリューム処理を処理できることを示しています。</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">NFS エクスポートポリシーを管理します</block>
  <block id="9d66483f8378ffe30cde84e1b6dbf484" category="paragraph">Astra Trident は、 NFS エクスポートポリシーを使用して、プロビジョニングするボリュームへのアクセスを制御します。</block>
  <block id="a297d9b7dbc393d5e8a5b3f98bcc9337" category="paragraph">Astra Trident には、エクスポートポリシーを使用する際に次の 2 つのオプションがあります。</block>
  <block id="0c87d42e666bbc299da2143379484281" category="list-text">Astra Trident は、エクスポートポリシー自体を動的に管理できます。このモードでは、許容可能な IP アドレスを表す CIDR ブロックのリストをストレージ管理者が指定します。Astra Trident は、この範囲に含まれるノード IP をエクスポートポリシーに自動的に追加します。または、 CIDRs が指定されていない場合は、ノード上で検出されたグローバルスコープのユニキャスト IP がエクスポートポリシーに追加されます。</block>
  <block id="e6add289c2b1cd5da45e00f3098b35de" category="list-text">ストレージ管理者は、エクスポートポリシーを作成したり、ルールを手動で追加したりできます。構成に別のエクスポートポリシー名を指定しないと、 Astra Trident はデフォルトのエクスポートポリシーを使用します。</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">エクスポートポリシーを動的に管理</block>
  <block id="785a74cfc0b587326abdc91a50fc4a95" category="paragraph">Astra Tridentでは、ONTAPバックエンドのエクスポートポリシーを動的に管理できます。これにより、ストレージ管理者は、明示的なルールを手動で定義するのではなく、ワーカーノードの IP で許容されるアドレススペースを指定できます。エクスポートポリシーの管理が大幅に簡易化され、エクスポートポリシーを変更しても、ストレージクラスタに対する手動の操作は不要になります。さらに、この方法を使用すると、ストレージクラスタへのアクセスを指定した範囲内のIPを持つワーカーノードだけに制限できるため、きめ細かい管理が可能になります。</block>
  <block id="0cd8d0588cd2b20face3a0379d38f777" category="admonition">ダイナミックエクスポートポリシーを使用する場合は、Network Address Translation（NAT;ネットワークアドレス変換）を使用しないでください。NATを使用すると、ストレージコントローラは実際のIPホストアドレスではなくフロントエンドのNATアドレスを認識するため、エクスポートルールに一致しない場合はアクセスが拒否されます。</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">2 つの設定オプションを使用する必要があります。バックエンド定義の例を次に示します。</block>
  <block id="e98bc47811eddcaad07f10623b28d028" category="admonition">この機能を使用する場合は、SVMのルートジャンクションに、ノードのCIDRブロックを許可するエクスポートルール（デフォルトのエクスポートポリシーなど）を含む事前に作成したエクスポートポリシーがあることを確認する必要があります。NetAppが推奨するベストプラクティスに従って、1つのSVMをAstra Trident専用にする。</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">ここでは、上記の例を使用してこの機能がどのように動作するかについて説明します。</block>
  <block id="acdca8a11423c4bc209db0a1a4909294" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>がに設定されてい<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。これは、Astra TridentがSVM用のエクスポートポリシーを作成し、アドレスブロックを使用してルールの追加と削除を処理する<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>ことを示します<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block>。たとえば、UUIDが403b5326-8482-40dB-96d0-d83fb3f4daecのバックエンドをに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>、という名前のエクスポートポリシーがSVMに作成されます<block ref="c0f00c0747f60e2fb407270518f79101" prefix=" " category="inline-code"></block>。</block>
  <block id="1bdcc9b4be16b7ad2f1b54c892491a43" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block>アドレスブロックのリストが含まれます。このフィールドは省略可能で、デフォルト値は ["0.0.0.0/0" 、 "::/0" です。定義されていない場合は、 Astra Trident が、ワーカーノードで検出されたすべてのグローバルにスコープ指定されたユニキャストアドレスを追加します。</block>
  <block id="96d8905e0d42a0d3573c71fd4ecce0b8" category="paragraph">この例では<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block>、アドレス空間が提供されています。このアドレス範囲に含まれる Kubernetes ノードの IP が、 Astra Trident が作成するエクスポートポリシーに追加されることを示します。Astra Tridentは、実行先のノードを登録すると、ノードのIPアドレスを取得してに表示されるアドレスブロックと照合し<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>ます。IPをフィルタリングしたあと、Astra Tridentは、検出したクライアントIP用のエクスポートポリシールールを作成します。このルールには、特定したノードごとに1つのルールが含まれています。</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">バックエンドを作成した後で、バックエンドのおよびを<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>更新できます<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。自動的に管理されるバックエンドに新しい CIDRs を追加したり、既存の CIDRs を削除したりできます。CIDRs を削除する際は、既存の接続が切断されないように注意してください。バックエンドに対して無効にして、手動で作成したエクスポートポリシーにフォールバックすることもできます<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。この場合、バックエンド設定でパラメータを設定する必要があります<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block>。</block>
  <block id="18deff64a140a603bdb6070abed4eed4" category="paragraph">Astra Tridentでバックエンドが作成または更新されたら、または対応する<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>CRDを使用してバックエンドを確認でき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="83af513d9b9d50c1dc648bfea29797cb" category="paragraph">Kubernetesクラスタにノードを追加してAstra Tridentコントローラに登録すると、既存のバックエンドのエクスポートポリシーが更新されます（バックエンドのに指定されたアドレス範囲に該当する場合<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>）。</block>
  <block id="fd85ad7b0ce4e83937cbc1012086b9b3" category="paragraph">ノードを削除すると、 Astra Trident はオンラインのすべてのバックエンドをチェックして、そのノードのアクセスルールを削除します。管理対象のバックエンドのエクスポートポリシーからこのノード IP を削除することで、 Astra Trident は、この IP がクラスタ内の新しいノードによって再利用されないかぎり、不正なマウントを防止します。</block>
  <block id="a12734327c1f79f44d176f7c6f6f7841" category="paragraph">既存のバックエンドがある場合は、を使用してバックエンドを更新する<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>と、Astra Tridentがエクスポートポリシーを自動的に管理するようになります。これにより、バックエンドのUUIDに基づいてという名前の新しいエクスポートポリシーが作成され、バックエンドにあるボリュームは再マウント時に新しく作成されたエクスポートポリシーを使用します。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">自動管理されたエクスポートポリシーを使用してバックエンドを削除すると、動的に作成されたエクスポートポリシーが削除されます。バックエンドが再作成されると、そのバックエンドは新しいバックエンドとして扱われ、新しいエクスポートポリシーが作成されます。</block>
  <block id="920708f6d71767dcff22f9e43b4ec0c0" category="paragraph">ライブノードの IP アドレスが更新された場合は、ノード上の Astra Trident ポッドを再起動する必要があります。Trident が管理するバックエンドのエクスポートポリシーを更新して、この IP の変更を反映させます。</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">SMBボリュームをプロビジョニングする準備をします</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">少し準備をするだけで、ドライバを使用してSMBボリュームをプロビジョニングできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="1faffcbb00c529812b5526b1b22b2b56" category="admonition">オンプレミスのONTAP用のSMBボリュームを作成するには、SVMでNFSプロトコルとSMB / CIFSプロトコルの両方を設定する必要があります<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。これらのプロトコルのいずれかを設定しないと、原因 SMBボリュームの作成が失敗します。</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">SMBボリュームをプロビジョニングする前に、以下を準備しておく必要があります。</block>
  <block id="8df63c807f3c78b6087ad0d6ee434fb2" category="list-text">Active Directoryのクレデンシャルを含むAstra Tridentのシークレットが少なくとも1つ必要です。シークレットを生成するには<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="ff8c6e3b6971ed699a5dc2e00455aa82" category="list-text">オンプレミスのONTAPの場合は、必要に応じてSMB共有を作成するか、Astra TridentでSMB共有を作成できます。</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Amazon FSx for ONTAPにはSMB共有が必要です。</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft管理コンソール</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">SMB管理共有は、共有フォルダスナップインを使用するか、ONTAP CLIを使用して作成できます<block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>。ONTAP CLIを使用してSMB共有を作成するには、次の手順を実行します</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">必要に応じて、共有のディレクトリパス構造を作成します。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">コマンドは<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block>、共有の作成時に-pathオプションで指定されたパスをチェックします。指定したパスが存在しない場合、コマンドは失敗します。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">指定したSVMに関連付けられているSMB共有を作成します。</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">共有が作成されたことを確認します。</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">SMB共有を作成する</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">詳細については、を参照して<block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block>ください。</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSX（ONTAP の構成オプションと例）</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">バックエンドを作成する際に、SMBボリュームを指定するように次の項目を設定する必要があります。FSx for ONTAPのバックエンド構成オプションについては、を参照してください<block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*に設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>。*nullの場合、デフォルトはになります<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>。</block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新しいボリュームのセキュリティ形式。* SMBボリュームの場合はまたは<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>に設定する必要があります<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block>SMBボリュームの場合はまたは<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block></block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておく必要があります。*</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">ONTAP NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NASドライバの概要</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">ONTAP および Cloud Volumes ONTAP の NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">ONTAP NASドライバの詳細</block>
  <block id="147be9e86dbd052c1f2b490f1e9b9897" category="paragraph">Astra Tridentは、ONTAPクラスタと通信するための次のNASストレージドライバを提供します。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="88e4f10ca85b56deb88df953f1b028c9" category="admonition">保護、リカバリ、モビリティにAstra Controlを使用している場合は、を参照してください。<block ref="655b383e69b0d2ae89ad0b4bf7e37964" category="inline-xref-macro-rx"></block></block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">""、<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="c6891a9678e67fff611982bdd3dc5a4d" category="section-title">Astra Controlドライバの互換性</block>
  <block id="e267c2490c7d73d0ffa909b77267cfaf" category="inline-link-macro">Astra Controlレプリケーションの前提条件</block>
  <block id="f7be25ccd026a013371b7c4961ced8c2" category="paragraph">Astra Controlは、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、、および<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバで作成されたボリュームに対して、シームレスな保護、ディザスタリカバリ、モビリティ（Kubernetesクラスタ間でのボリューム移動）を提供します<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="dfc981ac97be73172a3119f3b831eaf8" category="inline-link-macro-rx"></block> 。</block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">サポートされるONTAPの制限</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">永続的ボリュームの使用数がよりも多くなると予想される場合にのみ使用します<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>。</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">永続的ボリュームの使用数がよりも多いと予想され、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバを使用できない場合にのみ<block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>使用して<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ください。</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">データ保護、ディザスタリカバリ、モビリティの必要性が予想される場合は使用しない<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>でください。</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">ユーザ権限</block>
  <block id="a513707a481ff6afe9846fefc6411bca" category="paragraph">Astra Tridentは、ONTAP管理者またはSVM管理者（通常はクラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または同じロールの別の名前のユーザを使用）として実行することを想定しています<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。</block>
  <block id="624061180b7b402618e3add29c08bd51" category="paragraph">Amazon FSx for NetApp ONTAP環境の場合、Astra Tridentは、クラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または同じロールの別の名前のユーザを使用して、ONTAP管理者またはSVM管理者として実行されることが想定され<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ます。この<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザは、クラスタ管理者ユーザに代わる限定的なユーザです。</block>
  <block id="4937b52eb2cb058f225b69b2caafaf29" category="admonition">パラメータを使用する場合は<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>、クラスタ管理者の権限が必要です。Amazon FSx for NetApp ONTAPとAstra Tridentを併用する場合、<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>パラメータはユーザアカウントと<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザアカウントでは機能しません<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。このパラメータを指定すると設定処理は失敗します。</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">ONTAP内でTridentドライバが使用できる、より制限の厳しいロールを作成することは可能ですが、推奨しません。Trident の新リリースでは、多くの場合、考慮すべき API が追加で必要になるため、アップグレードが難しく、エラーも起こりやすくなります。</block>
  <block id="5f3124ab7224f89a36fbb64fd2ebda15" category="summary">Astra Tridentのインストール環境でONTAP SANドライバを作成して使用する方法について説明します。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="88251b113e3f1da4ba88b0d4283d23ed" category="paragraph">Astra Tridentのインストール環境でONTAP SANドライバを作成して使用する方法をご紹介します。このセクションでは、バックエンドの構成例と、バックエンドをStorageClassesにマッピングするための詳細を示します。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="88cb0261777362737d12ea9268184d65" category="cell">クラスタ管理LIFまたはSVM管理LIFのIPアドレス。Fully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定できます。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。シームレスなMetroClusterスイッチオーバーについては、を参照して<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="53f89913149599078aa2763e20f64db1" category="cell">プロトコル LIF の IP アドレス。* iSCSIの場合は指定しないでください。*Astra Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCI LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。* MetroClusterの場合は省略してください。*を参照してください<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">SVMの派生物です</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell"><block ref="099cb468880f266cba40b49391fa46bc" prefix="" category="inline-code"></block></block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="inline-link-macro">ONTAP SANドライバを使用してバックエンドを設定する準備をします</block>
  <block id="1545a9d9aae1b8b83497bbe9185d348b" category="cell">CHAPを使用してONTAP SANドライバのiSCSIを認証します（ブーリアン）。Astra Tridentで、バックエンドで指定されたSVMのデフォルト認証として双方向CHAPを設定して使用する場合は、をに設定<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>します。詳細については、を参照してください <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> 。</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell"><block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix="" category="inline-code"></block></block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP イニシエータシークレット。必要な場合<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell"><block ref="4ab84a55744951d967033db9b64f6b27" prefix="" category="inline-code"></block></block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP ターゲットイニシエータシークレット。必要な場合<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell"><block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix="" category="inline-code"></block></block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">インバウンドユーザ名。必要な場合<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell"><block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix="" category="inline-code"></block></block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">ターゲットユーザ名。必要な場合<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">信頼された CA 証明書の Base64 エンコード値。オプション。証明書ベースの認証に使用されます。</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">ONTAP クラスタとの通信に必要なユーザ名。クレデンシャルベースの認証に使用されます。</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">ONTAP クラスタとの通信にパスワードが必要です。クレデンシャルベースの認証に使用されます。</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">使用する Storage Virtual Machine</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。あとから変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="e54cbd8ca5da26dc7e4be3bbfd23467e" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。Amazon FSx for NetApp ONTAPバックエンドを使用している場合は、を指定しないで<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>ください。指定されたと<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>には<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>、アグリゲートの使用量を取得し、Astra Tridentを使用してアグリゲートを制限するために必要な権限が含まれていません。</block>
  <block id="f804cd6668c0728e26448509210268d3" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeおよびLUNに対して管理するボリュームの最大サイズを制限します。</block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝トラブルシューティングを行って詳細なログダンプが必要な場合を除き、は使用しないでください。</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="12cdcb1052800e2e7a70ef06991a7bee" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Astra TridentはONTAP REST APIを使用してバックエンドと通信します。に設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、Astra TridentはONTAP ZAPI呼び出しを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAPログインロールには、アプリケーションへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 。これは、事前に定義された役割と役割によって実現され<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ます。Astra Trident 24.06リリースおよびONTAP 9.15.1以降では、が<block ref="b673ee47a5f23fc2650c24742c76cf90" prefix=" " category="inline-code"></block> デフォルトでに設定されてい<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ます。ONTAP ZAPI呼び出しを使用するようににに変更してください。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block><block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> はNVMe/TCPに完全修飾されています。</block>
  <block id="ddfe03e522be0cfb5413bde0d1396e78" category="cell">iSCSIまたは<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>NVMe/TCPの選択に使用し<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>ます。</block>
  <block id="d4fbfa2dd496728ba6294eb840ce25eb" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。非共有のQoSポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">Linux Unified Key Setup（LUKS；統合キーセットアップ）を使用</block>
  <block id="e29a6d196232b6cdf3ae52f871ba291b" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。LUKS暗号化はNVMe/TCPではサポートされません。</block>
  <block id="41da49bdd3fd88b2ddc6be7d6df1b335" category="cell">新しいボリュームのセキュリティ形式</block>
  <block id="d981d675ba14b9478a2c2da5c7df780b" category="cell">ONTAP SANエコノミーバックエンドでLUNを使用する場合の、要求可能な最大FlexVolサイズ。</block>
  <block id="fab51d2bc90465982b0994bc86e69db9" category="admonition">ドライバを使用して作成されたすべてのボリュームについて、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>Astra TridentはLUNメタデータに対応するために10%の容量をFlexVolに追加します。LUN は、ユーザが PVC で要求したサイズとまったく同じサイズでプロビジョニングされます。Astra Trident が FlexVol に 10% を追加（ ONTAP で利用可能なサイズとして表示）ユーザには、要求した使用可能容量が割り当てられます。また、利用可能なスペースがフルに活用されていないかぎり、 LUN が読み取り専用になることもありません。これは、 ONTAP と SAN の経済性には該当しません。</block>
  <block id="824d88f50ab9e39778b0ef5bc2516b2f" category="paragraph">定義されたバックエンドについては<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>、Astra Tridentで次のようにボリュームのサイズが計算されます。</block>
  <block id="4e762198289d9294de9c1cbb3f0b26b6" category="paragraph">1.1 は、 Astra Trident の 10% の追加料金で、 FlexVol のメタデータに対応します。= 5%、PVC要求= 5GiBの場合、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>ボリュームの合計サイズは5.79GiB、使用可能なサイズは5.5GiBです。<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>次の例のような結果が表示されます。</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">現在、既存のボリュームに対して新しい計算を行うには、サイズ変更だけを使用します。</block>
  <block id="c9410b4405958bba6c2f782b5da4c684" category="admonition">Amazon FSx on NetApp ONTAPとAstra Tridentを使用している場合は、IPアドレスではなく、LIFのDNS名を指定することを推奨します。</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">ONTAP SANの例</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">これはドライバを使用した基本的な設定です<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">ONTAP SANの経済性の例</block>
  <block id="1a79a4d60de6718e8e5b326e338ae533" category="list-text">例</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">この基本的な設定例では<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block><block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>、および<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block>（信頼されたCAを使用している場合はオプション）が入力され<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>、それぞれクライアント証明書、秘密鍵、および信頼されたCA証明書のbase64でエンコードされた値が使用されます。</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">双方向CHAPの例</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">これらの例では、がに設定され<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>たバックエンドが作成され<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">ONTAP SAN CHAPの例</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">ONTAP SANエコノミーCHAPの例</block>
  <block id="a242dbcec09373d25c5fb582f9f2cfc6" category="example-title">NVMe/TCPの例</block>
  <block id="3a3347de03ef37c1eb5eb525619ff905" category="paragraph">ONTAPバックエンドでNVMeを使用するSVMを設定しておく必要があります。これはNVMe/TCPの基本的なバックエンド構成です。</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">これらのサンプルバックエンド定義ファイルでは、none、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>false、false<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block>など、すべてのストレージプールに特定のデフォルトが設定されています<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>。仮想プールは、ストレージセクションで定義します。</block>
  <block id="472f537653935d084b34d91ce4119f17" category="paragraph">Astra Tridentでは、[Comments]フィールドにプロビジョニングラベルが設定されます。FlexVol にコメントが設定されます。Astra Tridentは、プロビジョニング時に仮想プール上にあるすべてのラベルをストレージボリュームにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">次のStorageClass定義は、を参照して<block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>ください。フィールドを使用して<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、各StorageClassはボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text"><block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>StorageClassはバックエンドの最初の仮想プールにマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。ゴールドレベルの保護を提供する唯一のプールです。</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text"><block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block>StorageClassは、バックエンドの2番目と3番目の仮想プールにマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。これらは、ゴールド以外の保護レベルを提供する唯一のプールです。</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text"><block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block>StorageClassはバックエンドの3番目の仮想プールにマッピングされます<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。これは、mysqldbタイプアプリケーション用のストレージプール構成を提供する唯一のプールです。</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text"><block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block>StorageClassはバックエンドの2番目の仮想プールにマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。シルバーレベルの保護と20000クレジットポイントを提供する唯一のプールです。</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text"><block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block>StorageClassは、バックエンドの3番目の仮想プールとバックエンドの4番目の仮想プール<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>にマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。これらは、5000クレジットポイントを持つ唯一のプールオファリングです。</block>
  <block id="1b931baab9ca74be94af72763666c941" category="list-text"><block ref="33aacad9b122abfdfadc06e3e7fa5f59" prefix=" " category="inline-code"></block>StorageClassは、を使用してドライバの<block ref="6fa083b88d05083e680071073d06c3af" prefix=" " category="inline-code"></block>仮想プールに<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>マッピングされます<block ref="11e89beb13d19bf6e3ab7ed65673b27d" prefix=" " category="inline-code"></block>。これは唯一のプール<block ref="5ca85ebb1d881fde490deaa5817c4ca5" prefix=" " category="inline-code"></block>です。</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">ONTAP SANドライバを使用してONTAPバックエンドを構成するための準備方法について説明します。</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">ONTAP SANドライバでONTAPバックエンドを構成するための要件と認証オプションを理解します。</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">複数のドライバを実行し、 1 つまたは複数のドライバを参照するストレージクラスを作成することもできます。たとえば、ドライバを使用するクラス<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>と、ドライバ<block ref="cc765df73da51962d9d46e6fbe9d1131" prefix=" " category="inline-code"></block>を使用するクラスを<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>設定できます<block ref="a4803fbb1a1ed00b47f0b526d515d172" prefix=" " category="inline-code"></block>。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">すべてのKubernetesワーカーノードに適切なiSCSIツールをインストールしておく必要があります。詳細については、を参照してください <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> 。</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">credential based ：必要な権限を持つ ONTAP ユーザのユーザ名とパスワード。ONTAPのバージョンと最大限の互換性を確保するために、や<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>などの事前定義されたセキュリティログインロールを使用することを推奨し<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e2cd9c84c3ebf14f3c81be4692848e5b" category="list-text">証明書ベース： Astra Trident は、バックエンドにインストールされた証明書を使用して ONTAP クラスタと通信することもできます。この場合、バックエンド定義には、 Base64 でエンコードされたクライアント証明書、キー、および信頼された CA 証明書（推奨）が含まれている必要があります。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成または更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">証明書ベースの認証を有効にする</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に、実行に必要なパラメータを含む更新されたbackend.jsonファイルを使用し<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">双方向 CHAP を使用して接続を認証します</block>
  <block id="83167df2bbc65626ea3925b7abea9e48" category="paragraph">Astra Tridentでは、ドライバと<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバの双方向CHAPを使用してiSCSIセッションを認証できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。これには、バックエンド定義でオプションを有効にする必要があり<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>ます。に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Astra Tridentは、SVMのデフォルトのイニシエータセキュリティを双方向CHAPに設定し、バックエンドファイルにユーザ名とシークレットを設定します。接続の認証には双方向 CHAP を使用することを推奨します。次の設定例を参照してください。</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition"><block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>パラメータはブール値のオプションで、一度だけ設定できます。デフォルトでは false に設定されています。true に設定したあとで、 false に設定することはできません。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">さらに<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>、<block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix=" " category="inline-code"></block>、<block ref="4ab84a55744951d967033db9b64f6b27" prefix=" " category="inline-code"></block>、<block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix=" " category="inline-code"></block>、および<block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix=" " category="inline-code"></block>フィールドをバックエンド定義に含める必要があります。シークレットは、を実行してバックエンドを作成したあとに変更できます<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block>。</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">仕組み</block>
  <block id="adbaa30840aebfe537058f72e0989326" category="paragraph">trueに設定する<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>と、ストレージ管理者はAstra TridentでストレージバックエンドでCHAPを設定するように指示します。これには次のものが含まれます。</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">SVM で CHAP をセットアップします。</block>
  <block id="7b4fb3a852b49d46b743b188c7bc25a1" category="list-text">SVMのデフォルトのイニシエータセキュリティタイプがnone（デフォルトで設定）*で、*ボリュームに既存のLUNがない場合、Astra Tridentはデフォルトのセキュリティタイプをに設定し<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block>、CHAPイニシエータとターゲットのユーザ名とシークレットの設定に進みます。</block>
  <block id="8f5fd7cb8eae048fe5b83025fe95feff" category="list-text">SVM に LUN が含まれている場合、 Trident は SVM で CHAP を有効にしません。これにより、SVMにすでに存在するLUNへのアクセスが制限されなくなります。</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">CHAP イニシエータとターゲットのユーザ名とシークレットを設定します。これらのオプションは、バックエンド構成で指定する必要があります（上記を参照）。</block>
  <block id="2c7856e86a0cd46cb4fb48fa0886745e" category="paragraph">バックエンドが作成されると、Astra Tridentは対応するCRDを作成し<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>、CHAPシークレットとユーザ名をKubernetesシークレットとして格納します。このバックエンドの Astra Trident によって作成されたすべての PVS がマウントされ、 CHAP 経由で接続されます。</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">クレデンシャルをローテーションし、バックエンドを更新</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">CHAPクレデンシャルを更新するには、ファイルのCHAPパラメータを更新し<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>ます。そのためには、CHAPシークレットを更新し、コマンドを使用して変更を反映する必要があり<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8959ac16a58b09dc5a158e86ab02cb53" category="admonition">バックエンドのCHAPシークレットを更新する場合は、を使用してバックエンドを更新する必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。Astra Trident では変更を取得できないため、 CLI / ONTAP UI からストレージクラスタのクレデンシャルを更新しないでください。</block>
  <block id="1a59d0d7850406f157c314978eb3b821" category="paragraph">既存の接続は影響を受けません。 SVM の Astra Trident でクレデンシャルが更新されても、引き続きアクティブです。新しい接続では更新されたクレデンシャルが使用され、既存の接続は引き続きアクティブです。古い PVS を切断して再接続すると、更新されたクレデンシャルが使用されます。</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">ONTAP SAN ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SANドライバの概要</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">ONTAP および Cloud Volumes ONTAP の SAN ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">ONTAP SANドライバの詳細</block>
  <block id="7fd570aee3c81c5db028704e5fdf5b52" category="paragraph">Astra Tridentは、ONTAPクラスタと通信するための次のSANストレージドライバを提供します。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">ファイルシステムなし。rawブロックデバイスです</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">ROXおよびRWXは、ファイルシステムボリュームモードでは使用できません。</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="paragraph">NVMe / TCP</block>
  <block id="2ee381348973cd50c3668eadbccdc328" category="paragraph">を参照してください <block ref="2d7d4515af7fd5f414df696a804f30f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="96c17dbe45e7351fb2a4f71956c25e0c" category="paragraph">Astra Tridentは、ONTAP管理者またはSVM管理者（通常はクラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または同じロールの別の名前のユーザを使用）として実行することを想定しています<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。Amazon FSx for NetApp ONTAP環境の場合、Astra Tridentは、クラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または同じロールの別の名前のユーザを使用して、ONTAP管理者またはSVM管理者として実行されることが想定され<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ます。この<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザは、クラスタ管理者ユーザに代わる限定的なユーザです。</block>
  <block id="15486153db4ff26b2d984b22c9eb7ace" category="section-title">NVMe/TCPに関するその他の考慮事項</block>
  <block id="17954cd2a5b18cf35abb19ddb0820879" category="paragraph">Astra Tridentでは、次のドライバを使用してNon-Volatile Memory Express（NVMe）プロトコルがサポートされ<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a2a1cb8bb035902e151c429dda457eb0" category="list-text">NVMeボリュームのSnapshotとクローン</block>
  <block id="b007331c632038b88752b849045335eb" category="list-text">NVMeボリュームのサイズ変更</block>
  <block id="92b9da0fdb36e9a1589af80ae639f7ec" category="list-text">Astra Tridentでライフサイクルを管理できるように、Astra Tridentの外部で作成されたNVMeボリュームをインポートする</block>
  <block id="86f6f50234041fd09b320314dc781273" category="list-text">NVMeネイティブマルチパス</block>
  <block id="f1b9eac8c1d92956d7734db32c5e55d9" category="list-text">Kubernetesノードのグレースフルシャットダウンまたはグレースフルシャットダウン（24.06）</block>
  <block id="576fe8d7f32191873f7ac2fdb4418c2c" category="paragraph">Astra Tridentでは次の機能がサポートされません。</block>
  <block id="2af37920b0783c2d261877f935f16bd8" category="list-text">NVMeでネイティブにサポートされるDH-HMAC-CHAP</block>
  <block id="6c1177e2fd33f2482514b2156d1e62b6" category="list-text">Device Mapper（DM；デバイスマッパー）マルチパス</block>
  <block id="fa633dab256a2884e7cd048147d7171c" category="list-text">LUKS暗号化</block>
  <block id="fd677451fcb2b9e12434f11dd81d463e" category="summary">KubernetesクラスタにAstra Trident EKSアドオンを追加</block>
  <block id="264f54d7bb69e0d02e466e1cb2cf3f28" category="doc">EKSクラスタでのAstra Trident EKSアドオンの設定</block>
  <block id="fde605b45abe19dca0689ef0eaa6e384" category="paragraph">Astra Tridentは、KubernetesでのAmazon FSx for NetApp ONTAPストレージ管理を合理化し、開発者や管理者がアプリケーションの導入に集中できるようにします。Astra Trident EKSアドオンには、最新のセキュリティパッチ、バグ修正が含まれており、AWSによってAmazon EKSとの連携が検証されています。EKSアドオンを使用すると、Amazon EKSクラスタの安全性と安定性を一貫して確保し、アドオンのインストール、構成、更新に必要な作業量を削減できます。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">前提条件</block>
  <block id="2f2c25cde4f655e64149cdd745b67001" category="paragraph">AWS EKS用のAstra Tridentアドオンを設定する前に、次の条件を満たしていることを確認してください。</block>
  <block id="56ae1c25c84da104d5678975802dd9b7" category="list-text">アドオンサブスクリプションがあるAmazon EKSクラスタアカウント</block>
  <block id="3f597c2b0d86deed94c99ef3d5fa4932" category="list-text">AWS MarketplaceへのAWS権限：<block ref="8047af5c1ca81290342558a545113f6e" prefix=" " category="inline-code"></block></block>
  <block id="8ac2d15830983d69c7c62c4d8a69266c" category="list-text">AMIタイプ：Amazon Linux 2（AL2_x86_64）またはAmazon Linux 2 ARM（AL2_Linux_64 ARM）</block>
  <block id="68437d1104a05b71c1c25548a95ad946" category="list-text">ノードタイプ：AMDまたはARM</block>
  <block id="63ac2242cb63194d25dd17c30c89f80d" category="list-text">既存のAmazon FSx for NetApp ONTAPファイルシステム</block>
  <block id="22547dfa47b268c96e02c861e2800aad" category="list-text">EKS Kubernetesクラスタで、*アドオン*タブに移動します。</block>
  <block id="46fd403fb7788c53f0de4aa06ccc89d9" category="image-alt">AWS EKS 01</block>
  <block id="153bbcd55aded817c5a331d5acae54eb" category="list-text">[AWS Marketplace add-ons]*にアクセスし、_storage_categoryを選択します。</block>
  <block id="2b1131719d4d8198515b53a0132411fb" category="image-alt">AWS EKS 02</block>
  <block id="07ef8d283073ee1ff1a371c82759ad14" category="list-text">[AstraTrident by NetApp *]を探し、Astra Tridentアドオンのチェックボックスを選択します。</block>
  <block id="5bab8196b750f3260d005a4548bc5de0" category="list-text">必要なアドオンのバージョンを選択します。</block>
  <block id="92f63954b2feb520d9a85c6ac6087ad8" category="image-alt">AWS EKS 03</block>
  <block id="165c328c69599353c4797fde7429e5b5" category="list-text">ノードから継承するIAMロールオプションを選択します。</block>
  <block id="1ada0e4c6ad383de9c12b6e1e6d56327" category="list-text">必要に応じてオプションの設定を行い、* Next *を選択します。</block>
  <block id="b64079b8570f34f88bca59be352b20e2" category="image-alt">AWS EKS 04</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">「 * Create * 」を選択します。</block>
  <block id="fa883f8fcd252ea2995457cd82515d03" category="list-text">アドオンのステータスが_Active_であることを確認します。</block>
  <block id="2af6474930eac7fe47a45b3658bef5bf" category="image-alt">AWS EKS 05</block>
  <block id="cec2926f3f12e3edd6577d4f1edd4e22" category="section-title">CLIを使用したAstra Trident EKSアドオンのインストールとアンインストール</block>
  <block id="64f82c86eee854db6eefc72dbf352f85" category="paragraph-title">CLIを使用してAstra Trident EKSアドオンをインストールします。</block>
  <block id="1cc677653e529e467295ac3f9837cb49" category="paragraph">次のコマンド例では、Astra Trident EKSアドオンをインストールします（専用バージョンを使用）。<block ref="b953d7904e30d543f476863b48e725fe" prefix=" " category="inline-code"></block><block ref="f8f93460dda1ad1de5db2f2f1c577532" prefix=" " category="inline-code"></block></block>
  <block id="5fef1c4f3767262a0ef823aaa69e1703" category="paragraph-title">CLIを使用してAstra Trident EKSアドオンをアンインストールします。</block>
  <block id="e1f272eb0b2aaba7b1cb689543f653e0" category="paragraph">次のコマンドは、Astra Trident EKSアドオンをアンインストールします。<block ref="09a3e9c644b219341aa6e2e8a8922e59" prefix=" " category="inline-code"></block></block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">Amazon FSX for ONTAP のバックエンド構成オプションについて説明します。ここでは、バックエンドの設定例を示します。</block>
  <block id="533a7baf9026dddae6baef47ea605b08" category="doc">サンプルアプリケーションのデプロイ</block>
  <block id="fae865e1123e24de7eca1790ec73dc32" category="paragraph">サンプルアプリケーションをデプロイします。</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">ボリュームをポッドにマウントします。</block>
  <block id="c09ee63e688125cf9517a66bb5a0a5a6" category="paragraph">次に、PVCをポッドに接続するための基本的な設定例を示します。*基本設定*：</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">進捗状況はを使用して監視でき<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">ボリュームがにマウントされていることを確認します<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>。</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="list-text">ポッドを削除できるようになりました。Podアプリケーションは存在しなくなりますが、ボリュームは残ります。</block>
  <block id="237d7a1666794b0937adde704bb4795c" category="cell">ドライバ名 + "_" + データ LIF</block>
  <block id="565a885b26c86877e165a4344ddec532" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="2822ed3c57bdf7b3dd2a9e7a14a12770" category="cell">プロトコル LIF の IP アドレス。* ONTAP NASドライバ*：データLIFを指定することを推奨します。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。* ONTAP SANドライバ*: iSCSIには指定しないでくださいTridentがONTAP の選択的LUNマップを使用して、マルチパスセッションの確立に必要なiSCSI LIFを検出します。データLIFが明示的に定義されている場合は警告が生成されます。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="508e91a481a0d10be716ae1a501447d0" category="cell">「[0.0.0.0/0]、「::/0」」」</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">クラスタまたはSVMに接続するためのユーザ名。クレデンシャルベースの認証に使用されます。たとえば、vsadminのように指定します。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">クラスタまたはSVMに接続するためのパスワード。クレデンシャルベースの認証に使用されます。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">SVM管理LIFが指定されている場合に生成されます。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。作成後に変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="2b3e2c0490ded1bc79028dd367358b9d" category="cell">* Amazon FSx for NetApp ONTAPには指定しないでください。*指定されたと<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>には<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>、アグリゲートの使用量を取得し、Astra Tridentを使用してアグリゲートを制限するために必要な権限が含まれていません。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">使用しないでください。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">FlexVol あたりの最大LUN数。有効な範囲は50、200です。SANのみ。</block>
  <block id="5c8b39f8ec19acb1fddb0b5c021f090d" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝トラブルシューティングを行って詳細なログダンプが必要な場合以外は使用しない<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>でください。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションは<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>またはnullです。* SMBボリュームの場合はに設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>。*nullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="0533fb8f0faef28ecb6da05caf5fd644" category="cell">次のいずれかを指定できます。Microsoft管理コンソールまたはONTAP CLIを使用して作成されたSMB共有の名前、またはAstra TridentでSMB共有を作成できるようにする名前。このパラメータは、Amazon FSx for ONTAPバックエンドに必要です。</block>
  <block id="5d8ab765262318f7f87e5cd620d93290" category="cell"><block ref="ac68bbf921d953d1cfab916cb6120864" prefix="" category="inline-code"></block></block>
  <block id="294c3bfe0dc32c17126646089c93a92b" category="cell">AWS FSx for ONTAPの構成ファイルでは次のように指定できます。-：AWS FSxファイルシステムのIDを指定します。<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>-<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>：AWS APIリージョン名。-<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>：AWS APIキー。-<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>：AWSシークレットキー。</block>
  <block id="5e68d0f0226c4c9d8020f95ced71ffab" category="cell"><block ref="68b329da9893e34099c7d8ad5cb9c940" prefix="" category="inline-code"></block> <block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block></block>
  <block id="81b346d529f22abdfcb669de82986dfd" category="cell"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block></block>
  <block id="c5a638166e3b5bb902803f0060f0d2dd" category="inline-link-macro">AWS Secrets Managerシークレットの作成</block>
  <block id="ecb727bacb156f2821a56c672a654482" category="cell">AWS Secret Managerに保存するFSx SVMのクレデンシャルを指定します。-<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>：シークレットのAmazonリソース名（ARN）。SVMのクレデンシャルが含まれています。-<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>：に設定します<block ref="eb301fdabb7b8996ba898845d5546121" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="e10af1024bf046058eef4c68dff3462a" category="inline-link-macro-rx"></block> 。</block>
  <block id="3bce5b103341500856287f5347e19f28" category="cell">スペースリザベーションモード：「 none 」（シン）または「 volume 」（シック）</block>
  <block id="f9d8bcec134b3ae3cb7aaac7048373ee" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。非共有のQoSポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="11f9fcd55c1d81cf352f86fe4cdfd444" category="cell">スナップショット "0" 用に予約されたボリュームの割合</block>
  <block id="996a57df5a7c8752e8bc23b6af020be4" category="cell">がの<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>場合<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block><block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block></block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。SANのみ。</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">使用する階層化ポリシー<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="49ed5b3ecd0e966bec6b74083f06599e" category="cell"><block ref="8805d416ce540c5f2df34af5b18d742b" prefix="" category="inline-code"></block>ONTAP 9 .5より前のSVM-DR構成</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておきます。*</block>
  <block id="ce627e1ba8a6bccff2793f66b44012fa" category="cell">「」</block>
  <block id="484067c59b1fa950e362a90fd416c89e" category="example-title">SMBホリユウムノストレエシクラスノセツテイ</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph"><block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>、および<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>を使用する<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>と、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。SMBボリュームはドライバのみを使用してサポートされ<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b43572981f09778bfdb95bfdcb559846" category="example-title">Secret Managerを使用したAWS FSx for ONTAPの設定</block>
  <block id="00a9bbaf4185978435bd4d6cb7aba6c4" category="summary">Astra TridentとAmazon FSx for NetApp ONTAP を使用すると、Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタで、ONTAP を基盤とするブロックおよびファイルの永続ボリュームをプロビジョニングできるようになります。</block>
  <block id="f477db05998ad8420119de646e2ff290" category="doc">IAMロールとAWS Secretを作成する</block>
  <block id="98c3c9acd444d11890d48438db3c165e" category="paragraph">KubernetesポッドがAWSリソースにアクセスするように設定するには、明示的なAWSクレデンシャルを指定する代わりに、AWS IAMロールとして認証します。</block>
  <block id="3f566b5ded6e7ac8c26dd3c07a2ea056" category="admonition">AWS IAMロールを使用して認証するには、EKSを使用してKubernetesクラスタを導入する必要があります。</block>
  <block id="3a218e8961578d046aa713039445902b" category="section-title">AWS Secret Managerシークレットの作成</block>
  <block id="23608ecae11e8bf8dd19cef208ecf80f" category="paragraph">この例では、Astra Trident CSIのクレデンシャルを格納するためのAWSシークレットマネージャシークレットを作成します。</block>
  <block id="6a73f77169c507b4f8a8e33a9180355b" category="paragraph"><block ref="0d1bf1201bf9db7aed15db6de2873c7a" prefix="" category="inline-code"></block></block>
  <block id="3926fdac6344d565c95f560468946335" category="section-title">IAMポリシーの作成</block>
  <block id="78edc229f8df1c5e0840f6469bc28454" category="paragraph">次の例は、AWS CLIを使用してIAMポリシーを作成します。</block>
  <block id="96cc21e053acccb273475c8c6744b18e" category="paragraph"><block ref="21a8f9d92c42f5ae09a1d5ac91dbb3c5" prefix="" category="inline-code"></block></block>
  <block id="e76476464ce5cdc6a38411be3291bbcc" category="paragraph">*ポリシーJSONファイル*：</block>
  <block id="ecfd2948482294ce3f914902915e5237" category="section-title">サービスアカウントの作成とIAMロール</block>
  <block id="1cabe4f570d3f442a5def398488077df" category="paragraph">次の例では、EKSでサービスアカウント用のIAMロールを作成します。</block>
  <block id="b16d284f56650120181b0d48c31a9a02" category="paragraph"><block ref="02068ae6546add80470610cbacdd6443" prefix="" category="inline-code"></block></block>
  <block id="61ac31e67ac41a505c5226920f11c69b" category="paragraph">Astra Tridentは、KubernetesでのAmazon FSx for NetApp ONTAPストレージ管理を合理化し、開発者や管理者がアプリケーションの導入に集中できるようにします。</block>
  <block id="d80675b866d3a3d3f54103565f996f91" category="paragraph">Astra Tridentは次のいずれかの方法でインストールできます。</block>
  <block id="77f6e3db9b70538186091595d9c8c9e8" category="list-text">EKSアドオン</block>
  <block id="821a0be249c7e2b3f10ce8df4b75e1e0" category="section-title">Helmを使用してAstra Tridentをインストール</block>
  <block id="954c98092999a4d3abfbd0752ab71c71" category="paragraph"><block ref="88bff0cbce979a98aecf9182f290f239" prefix="" category="inline-code"></block><block ref="2b2461cc41b3726827b2cb5fcb624e2e" prefix=" " category="inline-code"></block></block>
  <block id="bc98cc711b3772fd9a044dd6fcbd1631" category="section-title">EKSアドオンを使用してAstra Tridentをインストール</block>
  <block id="0a77764215483fbccc22e1d77abfb50f" category="paragraph">Astra Trident EKSアドオンには、最新のセキュリティパッチ、バグ修正が含まれており、AWSによってAmazon EKSとの連携が検証されています。EKSアドオンを使用すると、Amazon EKSクラスタの安全性と安定性を一貫して確保し、アドオンのインストール、構成、更新に必要な作業量を削減できます。</block>
  <block id="7184de869a88c49faff4f6482457e5cb" category="section-title">AWS向けのAstra Tridentアドオンを有効にする</block>
  <block id="c630096ceb1c476f438ea2fc958bc665" category="open-title">EKSクラスタ</block>
  <block id="9ea02e0a94b03561cf2861dcac685125" category="paragraph">次のコマンド例は、Astra Trident EKSアドオンをインストールします。</block>
  <block id="a483e3842dfe9b4c2af76a77cf2bb572" category="paragraph"><block ref="e695a6a298f39ac8b903c2a769db6ab4" prefix="" category="inline-code"></block><block ref="cd13c9a7fd0eef9fb0d553b5cac08792" prefix=" " category="inline-code"></block> （専用バージョンを使用）</block>
  <block id="e477faed39be08642267684bb501d931" category="open-title">管理コンソール</block>
  <block id="e8d532dbf6904e2793dbda6fd0d03818" category="list-text">でAmazon EKSコンソールを開きます<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="8d1588a59bc508adad8a62ccaaa1c610" category="list-text">左側のナビゲーションペインで、*[クラスタ]*をクリックします。</block>
  <block id="32d9b71b3fc3fad1385ba62a9bf6bf46" category="list-text">NetApp Trident CSIアドオンを設定するクラスタの名前をクリックします。</block>
  <block id="91e45a55d3dd23153429aac3c45c53ae" category="list-text">[アドオン]*をクリックし、*[その他のアドオンの入手]*をクリックします。</block>
  <block id="2fd89d18351d32a81158a0ff94206b31" category="list-text">[* S * elect add-ons *]ページで、次の手順を実行します。</block>
  <block id="d6821a378e60f781e319890caff45c30" category="list-text">[AWS Marketplace EKS-addons]セクションで、* Astra Trident by NetApp *チェックボックスを選択します。</block>
  <block id="5a378b18f7bf0c4cabc6c655cd2f535e" category="list-text">「 * 次へ * 」をクリックします。</block>
  <block id="cacc1ddf612923b1c73b0a9a76659f42" category="list-text">[Configure selected add-ons* settings]ページで、次の手順を実行します。</block>
  <block id="149e81257342cd05b0256d010b0b4a37" category="list-text">使用する*バージョン*を選択します。</block>
  <block id="1df543472a35a3acfd632037832987f6" category="list-text">[Select IAM role]*では、*[Not set]*のままにします。</block>
  <block id="e873d41466e1383d951643c07a043d80" category="list-text">*オプションの構成設定*を展開し、*アドオン構成スキーマ*に従って、*構成値*セクションのconfigurationValuesパラメーターを前の手順で作成したrole-arnに設定します（値は次の形式にする必要があります<block ref="ee1eb31b5aebe5472fc52cb0ae20b077" prefix=" " category="inline-code"></block>）。[Conflict resolution method]で[Override]を選択すると、既存のアドオンの1つ以上の設定をAmazon EKSアドオン設定で上書きできます。このオプションを有効にしない場合、既存の設定と競合すると、操作は失敗します。表示されたエラーメッセージを使用して、競合のトラブルシューティングを行うことができます。このオプションを選択する前に、Amazon EKSアドオンが自己管理に必要な設定を管理していないことを確認してください。</block>
  <block id="dfe4bfc5bd8b8d180411468fbdbb4033" category="list-text">[次へ]*を選択します。</block>
  <block id="fbadf292f84bef20d7678936dbe4c4ce" category="list-text">[確認して追加]ページで、*[作成]*を選択します。</block>
  <block id="46bfc11fb8f185d278ea910b0052a317" category="paragraph">アドオンのインストールが完了すると、インストールされているアドオンが表示されます。</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="open-title">AWS CLI</block>
  <block id="375fe5880d846c5b389735de8ae80b0a" category="list-text">ファイルを作成し<block ref="feef18acfb11dc53b7100577c6d640c4" prefix=" " category="inline-code"></block> ます。</block>
  <block id="dbc0f27a2aa9fd3fbef77c25870f8248" category="list-text">Install the Astra&lt;xmt-block0&gt; Trident&lt;/xmt-block&gt; EKS add-on</block>
  <block id="e907c98f301b06586956529abca9e22c" category="paragraph"><block ref="f9c32cfc7736c461770afa4dd4053bda" prefix="" category="inline-code"></block></block>
  <block id="ee502e3f68953ecace683d05b827a6ae" category="section-title">Astra Trident EKSアドオンの更新</block>
  <block id="41c9d4e34cce02a882f325b51fa9d2f4" category="list-text">お使いのFSxN Trident CSIアドオンの現在のバージョンを確認してください。をクラスタ名に置き換え<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> ます。<block ref="7b5be2809a3021f978155d101cf059cf" prefix=" " category="inline-code"></block></block>
  <block id="52b5830420efb96c3a91beb52bac3b23" category="paragraph">*出力例：*</block>
  <block id="9d5aa26aaf32741e908c5366c21ca9a5" category="list-text">前の手順の出力でupdate availableで返されたバージョンにアドオンを更新します。<block ref="00b585502b38c426d735887171ce6f84" prefix=" " category="inline-code"></block></block>
  <block id="b3f252777a69b110667756babe83a98f" category="inline-link-macro">アドオン</block>
  <block id="25626757a73152ece7fdadb90ede4b7c" category="inline-link-macro">Kubernetesフィールド管理</block>
  <block id="751f793ade8de1ed590e0f90ac05d8e1" category="paragraph">オプションを削除し、いずれかのAmazon EKSアドオン設定が既存の設定と競合している場合<block ref="c23ab3adaec8ca15ff3ffd0971be6152" prefix=" " category="inline-code"></block> 、Amazon EKSアドオンの更新は失敗します。競合の解決に役立つエラーメッセージが表示されます。このオプションを指定する前に、管理する必要がある設定がAmazon EKSアドオンで管理されていないことを確認してください。これらの設定はこのオプションで上書きされます。この設定のその他のオプションの詳細については、を参照してください <block ref="aea621f0e078efb8367c5d5e894674cd" category="inline-link-macro-rx"></block>。Amazon EKS Kubernetesフィールド管理の詳細については、を参照してください <block ref="97bdcfd76d2ff3e4855f6b36ebad236e" category="inline-link-macro-rx"></block>。</block>
  <block id="b0c6845b636be8c810182f985c930fed" category="list-text">Amazon EKSコンソールを開き<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>ます。</block>
  <block id="69bd32cd7d6c3b5f9de30250cec1b478" category="list-text">NetApp Trident CSIアドオンを更新するクラスタの名前をクリックします。</block>
  <block id="a02487427219ab03773fe3c66fa96556" category="list-text">[アドオン]タブをクリックします。</block>
  <block id="1b11ccfac36888509b0b9fb0f99a4bbb" category="list-text">[Astra Trident by NetApp ]*をクリックし、*[Edit]*をクリックします。</block>
  <block id="351442864548fcc84173a68a66b38f2d" category="list-text">[Configure Astra Trident by NetApp *]ページで、次の手順を実行します。</block>
  <block id="f1b1f807d9e1301dcc6fd3e44d5de4bd" category="list-text">（オプション）* Optional configuration settings *を展開し、必要に応じて変更できます。</block>
  <block id="3dca1b912e3d43e2a746fbcde32a6018" category="list-text">[ 変更の保存 *] をクリックします。</block>
  <block id="5f06738a5749e735a4681f5c09e2bafc" category="paragraph">次の例では、EKSアドオンを更新します。</block>
  <block id="14aac489d4434a82a3f9f97e8fe91694" category="paragraph"><block ref="187beb49762f7fb831051ad42bd762fe" prefix="" category="inline-code"></block></block>
  <block id="8d995c3ade9702f8b3d41df18d276fc0" category="section-title">Astra Trident EKSアドオンのアンインストールと削除</block>
  <block id="d8c918c170a0768203b4c2a6218e22bf" category="paragraph">Amazon EKSアドオンを削除するには、次の2つのオプションがあります。</block>
  <block id="d43d72969793ea80734b71e9c2406b2a" category="list-text">*クラスタにアドオンソフトウェアを保持*–このオプションを選択すると、Amazon EKSによる設定の管理が削除されます。また、Amazon EKSが更新を通知し、更新を開始した後にAmazon EKSアドオンを自動的に更新する機能も削除されます。ただし、クラスタ上のアドオンソフトウェアは保持されます。このオプションを選択すると、アドオンはAmazon EKSアドオンではなく自己管理型インストールになります。このオプションを使用すると、アドオンのダウンタイムは発生しません。アドオンを保持するには、コマンドのオプションをそのまま使用し<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> ます。</block>
  <block id="4c467d48a00d885ea22b1e685b747492" category="list-text">*クラスタからアドオンソフトウェアを完全に削除する*–クラスターに依存するリソースがない場合にのみ、Amazon EKSアドオンをクラスターから削除することをお勧めします。コマンドからオプションを削除してアドオンを削除し<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> ます。</block>
  <block id="577a7d77fb14f745abf0c5ee04b72879" category="admonition">アドオンにIAMアカウントが関連付けられている場合、IAMアカウントは削除されません。</block>
  <block id="ae7c26e7d90f669e27bf9a36527336ec" category="list-text">左側のナビゲーションペインで、*[クラスタ]*をクリックします。</block>
  <block id="99e7173540f126412137b25a0caaf2d1" category="list-text">NetApp Trident CSIアドオンを削除するクラスタの名前をクリックします。</block>
  <block id="8019e0dcd97c1bda9a4283c660df9424" category="list-text">[Add-ons]*タブをクリックし、*[Astra Trident by NetApp ]*をクリックします。*</block>
  <block id="03b194a23dcb353466fbfb7acff64363" category="list-text">[ 削除（ Remove ） ] をクリックします。</block>
  <block id="c8e9b5ea2470965edac225c56a879d07" category="list-text">[Remove netapp_trident-operator confirmation]*ダイアログで、次の手順を実行します。</block>
  <block id="10aba138eb518a0cc15662934a1f6e18" category="list-text">Amazon EKSでアドオンの設定を管理しないようにするには、*[クラスタに保持]*を選択します。クラスタにアドオンソフトウェアを残して、アドオンのすべての設定を自分で管理できるようにする場合は、この手順を実行します。</block>
  <block id="ecca191ac54751ba8120816fbe45777e" category="list-text">「netapp_trident -operator *」と入力します。</block>
  <block id="bb7c6bde1fc26965ada02923bac65350" category="paragraph">をクラスタの名前に置き換え<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> 、次のコマンドを実行します。</block>
  <block id="3f0c01bb690234ddb3284c5ce5c26da2" category="paragraph"><block ref="c2f1a783b03bad400b0ebf4321b8a171" prefix="" category="inline-code"></block></block>
  <block id="23e0e5bfdd7b1fef2ab4d932aae742e5" category="doc">ストレージバックエンドの設定</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">ONTAP SANとNASドライバの統合</block>
  <block id="8abaad4f18806e469a7b174572013ebf" category="paragraph">バックエンドファイルは、次の例に示すように、AWS Secret Managerに保存されているSVMのクレデンシャル（ユーザ名とパスワード）を使用して作成できます。</block>
  <block id="090cc9ad205965bc3b1c62e3cce08769" category="paragraph">バックエンドの作成については、次のページを参照してください。</block>
  <block id="6f95a39ae3c518928ed5e4681a0fd49b" category="inline-link-macro">ONTAP NASドライバを使用したバックエンドの設定</block>
  <block id="26798b67dd2e5b4c8d4f03c4c16170c7" category="list-text"><block ref="26798b67dd2e5b4c8d4f03c4c16170c7" category="inline-link-macro-rx"></block></block>
  <block id="31e8c05beab321d1465fc4c3f77e991a" category="inline-link-macro">ONTAP SANドライバを使用したバックエンドの設定</block>
  <block id="85d7b73826973ab07bfe78af69bd85f4" category="list-text"><block ref="85d7b73826973ab07bfe78af69bd85f4" category="inline-link-macro-rx"></block></block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">FSx for ONTAPドライバの詳細</block>
  <block id="867730e819742e7e493081f160c42c61" category="paragraph">次のドライバを使用して、Astra TridentをAmazon FSX for NetApp ONTAP と統合できます。</block>
  <block id="c3e86b30fe8148143701324ae1595af8" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：プロビジョニングされる各PVは、それぞれのAmazon FSx for NetApp ONTAPボリューム内のLUNです。ブロックストレージに推奨されます。</block>
  <block id="3878a0c92e55dbd3cdd9458330c2f1c3" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>：プロビジョニングされる各PVは、完全なAmazon FSx for NetApp ONTAPボリュームです。NFSとSMBで推奨されます。</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>：プロビジョニングされた各PVは、Amazon FSx for NetApp ONTAPボリュームごとに設定可能なLUN数を持つLUNです。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>：プロビジョニングされる各PVはqtreeであり、Amazon FSx for NetApp ONTAPボリュームごとにqtree数を設定できます。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>：プロビジョニングされる各PVは、完全なAmazon FSx for NetApp ONTAP FlexGroupボリュームです。</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">NASドライバ</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">SANドライバ</block>
  <block id="fa4eb54eedf6fea69ec183c4e2199a4d" category="paragraph">ドライバの詳細については、およびを参照して<block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block><block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>ください。</block>
  <block id="eadd7f9188e84053efc871a14d0d3bd6" category="section-title">バックエンドの高度な設定と例</block>
  <block id="7f0e60d0ce33fb596b81e7eb33f6a793" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してAstra Tridentをインストールした場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。フィールドでを指定する場合は<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block><block ref="ac68bbf921d953d1cfab916cb6120864" prefix=" " category="inline-code"></block> 、を指定する必要はありませ<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> ん。Astra TridentはAWSからSVM情報を取得するためです。<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>そのため、SVMの下のユーザ（vsadminなど）のクレデンシャルを指定し、そのユーザにロールが割り当てられている必要があり<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> ます。</block>
  <block id="ab2e083df601e1b7c7346487158ab13f" category="cell">"`100`"</block>
  <block id="7a5bbb3c815084605b780e0cd6e810fd" category="cell"><block ref="89ffa293e05655bd6be9d422345be38a" prefix="" category="inline-code"></block></block>
  <block id="2ab2b81dde76a2ec7ed3798f1538f823" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。*技術プレビュー* <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> は**技術プレビュー**として提供されており、本番環境のワークロードには推奨されません。に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、Astra TridentはONTAP REST APIを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAPログインロールには、アプリケーションへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 。これは、事前に定義された役割と役割によって実現され<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ます。</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">ドライバを使用してSMBボリュームをプロビジョニングできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。完了する前に、次の手順を実行して<block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">ドライバを使用してSMBボリュームをプロビジョニングする<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>には、次の準備が必要です。</block>
  <block id="1f43150a13f29c496f07ed4a9750b2ff" category="list-text">Linuxコントローラノードと少なくとも1つのWindowsワーカーノードでWindows Server 2019を実行しているKubernetesクラスタ。Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">SMB共有を作成SMB管理共有は、共有フォルダスナップインを使用するか、ONTAP CLIを使用して作成できます<block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>。ONTAP CLIを使用してSMB共有を作成するには、次の手順を実行します</block>
  <block id="9817ca035dba7bc4123be2c0bf280d66" category="doc">ストレージクラスとPVCを設定する</block>
  <block id="0f69899f9d68f93d2030d9b98790470e" category="paragraph">Kubernetes StorageClassオブジェクトを設定してストレージクラスを作成し、Astra Tridentでボリュームのプロビジョニング方法を指定設定したKubernetes StorageClassを使用してPVへのアクセスを要求するPersistentVolume（PV）とPersistentVolumeClaim（PVC）を作成します。その後、PVをポッドにマウントできます。</block>
  <block id="b92c56f76eb1fd7e747c63e99a829e57" category="paragraph">は、<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block> そのクラスで使用されるプロビジョニングツールとしてAstra Tridentを示し、Astra Tridentにボリュームのプロビジョニング方法を指示します。例：</block>
  <block id="bb970cb0639998faceb4ab3a67e3f1e3" category="section-title">PVおよびPVCの作成</block>
  <block id="5ba2aa62f23a406454c266617a909b2c" category="inline-link-macro">永続ボリューム_</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">PersistentVolumeClaim_</block>
  <block id="327ef40b7c425ffcbf26478a9722fffd" category="paragraph"><block ref="a78bebec6640822542673392ee125821" category="inline-link-macro-rx"></block>（PV）は、Kubernetesクラスタ上のクラスタ管理者によってプロビジョニングされる物理ストレージリソースです。<block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block>（PVC）は、クラスタ上のPersistentVolumeへのアクセス要求です。</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">PVCは、特定のサイズまたはアクセスモードのストレージを要求するように設定できます。クラスタ管理者は、関連付けられているStorageClassを使用して、PersistentVolumeのサイズとアクセスモード（パフォーマンスやサービスレベルなど）以上を制御できます。</block>
  <block id="62372f4a99505a189eb1b891ea0c1dc9" category="paragraph">PVとPVCを作成したら、ポッドにボリュームをマウントできます。</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">マニフェストの例</block>
  <block id="3c5f9191f489dbdd8d950bafc3dea6e0" category="example-title">PersistentVolumeサンプルマニフェスト</block>
  <block id="a992ed82e7964281386cdd46c0c21da6" category="paragraph">このサンプルマニフェストは、StorageClassに関連付けられた10Giの基本PVを示しています<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="569dfd7a9483b050d1e076a318f0fccc" category="example-title">PersistentVolumeClaimサンプルマニフェスト</block>
  <block id="526596809db1b7644a7637cfa05fcf8a" category="paragraph">次に、基本的なPVC設定オプションの例を示します。</block>
  <block id="992728eeb1163799bd688cfe5e57035b" category="paragraph-title">RWOアクセスを備えたPVC</block>
  <block id="c3d2188822ac025c91b768888f8af01e" category="paragraph">この例は、という名前のStorageClassに関連付けられたRWXアクセスを持つ基本的なPVCを示しています<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="75c7c68d9eb17c22ec8df28a1e23f275" category="paragraph-title">NVMe / TCP対応PVC</block>
  <block id="ed463de3671571836f800949d75f3af8" category="paragraph">この例は、という名前のStorageClassに関連付けられたNVMe/TCPの基本的なPVCとRWOアクセスを示しています<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>。</block>
  <block id="0305eb03fd924b3f68ccbf10aeced8a6" category="list-text">PVを作成</block>
  <block id="b4acd617ac02334a1b983b6ff960a909" category="list-text">PVステータスを確認します。</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">PVCを作成</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">PVCステータスを確認します。</block>
  <block id="9079a9ed8262f493ba60c3911523cbae" category="section-title">Astra Tridentの属性</block>
  <block id="335c3e1decb27542c24b470670a97381" category="paragraph">これらのパラメータによって、特定のタイプのボリュームのプロビジョニングに使用するAstra Tridentで管理されるストレージプールが決まります。</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block>は、NetApp ONTAPストレージオペレーティングシステムを基盤とするファイルシステムを起動して実行できる、フルマネージドのAWSサービスです。FSX for ONTAP を使用すると、使い慣れたネットアップの機能、パフォーマンス、管理機能を活用しながら、AWSにデータを格納するためのシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSX for ONTAP は、ONTAP ファイルシステムの機能と管理APIをサポートしています。</block>
  <block id="4a9c2b6feb83a77f2806513226f33d05" category="paragraph">Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタが、ONTAP によってサポートされるブロックおよびファイルの永続ボリュームをプロビジョニングできるように、Amazon ONTAP ファイルシステム用のAmazon FSXをAstra Tridentに統合することができます。</block>
  <block id="7eb620c879218a348ba0e9afaedf6b01" category="paragraph">ファイルシステムは、オンプレミスの ONTAP クラスタに似た、 Amazon FSX のプライマリリソースです。各 SVM 内には、ファイルとフォルダをファイルシステムに格納するデータコンテナである 1 つ以上のボリュームを作成できます。Amazon FSX for NetApp ONTAP を使用すると、 Data ONTAP はクラウド内の管理対象ファイルシステムとして提供されます。新しいファイルシステムのタイプは * NetApp ONTAP * です。</block>
  <block id="1e6c7220f5d4eb181d67b4d5043336f5" category="paragraph">Amazon Elastic Kubernetes Service （ EKS ）で実行されている Astra Trident と Amazon FSX for NetApp ONTAP を使用すると、 ONTAP がサポートするブロックボリュームとファイル永続ボリュームを確実にプロビジョニングできます。</block>
  <block id="241f2511660937482446bd41efeac638" category="paragraph"><block ref="1615f1c495dc4acc1bb5bea393c7532b" category="inline-link-macro-rx"></block>FSx for ONTAPとAstra Tridentを統合するには、さらに次のものが必要です。</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">既存のAmazon EKSクラスタまたはがインストールされた自己管理型Kubernetesクラスタ<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">クラスタのワーカーノードから到達可能な既存のAmazon FSx for NetApp ONTAPファイルシステムおよびStorage Virtual Machine（SVM）。</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFSまたはiSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">用に準備されたワーカーノード<block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Amazon Machine Images の略</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">EKS AMIタイプに応じて、Amazon LinuxおよびUbuntu（AMIS）で必要なノードの準備手順に従って<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block>ください。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMBボリューム：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">SMBボリュームはドライバのみを使用してサポートされ<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。</block>
  <block id="cf582eea9d58b090edd90ddc3f17f16a" category="list-text">SMBボリュームはAstra Trident EKSアドオンではサポートされません。</block>
  <block id="5ec02c0ee9e1b493e42f3bb5a9e8b94c" category="list-text">Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート詳細については、を参照してください <block ref="5d9770278862f1ca4af19e761a5fa655" category="inline-link-macro-rx"></block> 。</block>
  <block id="f9f7341f4c78b6ec6335f739d088a84d" category="list-text">Astra Trident 24.02より前のバージョンでは、自動バックアップが有効になっているAmazon FSxファイルシステム上に作成されたボリュームはTridentで削除できませんでした。Astra Trident 24.02以降でこの問題を回避するには、AWS FSx for ONTAPのバックエンド構成ファイルで、AWS<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>、AWS、およびAWS<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>を<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>指定し<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>ます。</block>
  <block id="673fab3e95b96286c30129d6bbe2aaf8" category="admonition">Astra Tridentに対してIAMロールを指定する場合は、、<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>の<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>各フィールドをAstra Tridentに対して明示的に指定する必要はありません<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="d3e98810edf44af02b30486ed13bd043" category="inline-link-macro-rx"></block>。</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">認証</block>
  <block id="676f29c1b0b3626bc959bdc6ebc8953b" category="paragraph">Astra Tridentは、2種類の認証モードを提供します。</block>
  <block id="8067a6840467d2024a341120a4e2440e" category="list-text">クレデンシャルベース（推奨）：クレデンシャルをAWS Secrets Managerに安全に格納します。ファイルシステムのユーザ、またはSVM用に設定されているユーザを使用できます<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block><block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 。</block>
  <block id="2dc4717be6b9cdf676df17aa86465f02" category="admonition">Astra Tridentは、SVMユーザ、または別の名前で同じロールのユーザとして実行する必要があります<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。Amazon FSx for NetApp ONTAPには、ONTAPクラスタユーザに代わる限定的なユーザが<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>い<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ます。Astra Tridentでの使用を強く推奨します<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。</block>
  <block id="ed2536bee60113131cf25b2de3ec8734" category="list-text">証明書ベース： Astra Trident は、 SVM にインストールされている証明書を使用して、 FSX ファイルシステムの SVM と通信します。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">認証を有効にする方法の詳細については、使用しているドライバタイプの認証を参照してください。</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ONTAP NAS認証</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">ONTAP SAN認証</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSX for NetApp ONTAP のドキュメント</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Amazon FSX for NetApp ONTAP に関するブログ記事です</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="ed12eea3840c455c91445e80887523a0" category="summary">Astra Tridentでは、作成したボリュームにわかりやすい名前とラベルを割り当てることができるため、ボリュームの識別と監視が容易になり、それぞれのKubernetesリソース（PVC）に簡単にマッピングできます。</block>
  <block id="3c49604e542827bab74a3fdc9c521379" category="doc">ボリュームの名前とラベルをカスタマイズする</block>
  <block id="a4e636c04fa6b81bdd931713602697e8" category="paragraph">Astra Tridentでは、作成したボリュームにわかりやすい名前とラベルを割り当てることができます。これにより、ボリュームを特定し、それぞれのKubernetesリソース（PVC）に簡単にマッピングできます。また、バックエンドレベルでテンプレートを定義してカスタムボリューム名とカスタムラベルを作成することもできます。作成、インポート、またはクローンを作成するボリュームは、テンプレートに準拠します。</block>
  <block id="52929ef06c83a3071dc677c6076f8eb3" category="paragraph">カスタマイズ可能なボリューム名とラベルのサポート：</block>
  <block id="ba7ad86bd3d0a50a4a04306d941e6c28" category="list-text">ボリュームの作成、インポート、クローニングの各処理。</block>
  <block id="174a7026faf4af3e1ec0eeec9d35af81" category="list-text">ontap-nas-economyドライバの場合、qtreeボリュームの名前だけがテンプレート名に準拠します。</block>
  <block id="12df52676a1d1f4040501d3a804b1a4b" category="list-text">ontap-san-economyドライバの場合、名前テンプレートに準拠するのはLUN名のみです。</block>
  <block id="0ee903e586aac760f5cdfb2c770f936b" category="list-text">カスタマイズ可能なボリューム名は、ONTAPオンプレミスドライバとのみ互換性があります。</block>
  <block id="b3c7ca4cfca79f517812064c1b9b0ef3" category="list-text">カスタマイズ可能なボリューム名は、既存のボリュームには適用されません。</block>
  <block id="4c71628145ace597229ccf6ca6fdc8bf" category="section-title">カスタマイズ可能なボリューム名の主な動作</block>
  <block id="a5a284fe1356005dc517f157bef35adc" category="list-text">名前テンプレートの無効な構文が原因でエラーが発生した場合、バックエンドの作成は失敗します。ただし、テンプレートアプリケーションが失敗した場合は、既存の命名規則に従ってボリュームに名前が付けられます。</block>
  <block id="d654edd1d54bb9458ddce1a8e82a2733" category="list-text">バックエンド構成の名前テンプレートを使用してボリュームの名前が指定されている場合、ストレージプレフィックスは適用されません。任意のプレフィックス値をテンプレートに直接追加できます。</block>
  <block id="7a4b723467d577190f5e83269d9c620a" category="section-title">名前テンプレートとラベルを使用したバックエンド構成の例</block>
  <block id="c08c19c0fe3a67a5a218b1aa469e05ad" category="paragraph">カスタム名テンプレートは、ルートレベルまたはプールレベルで定義できます。</block>
  <block id="12f281b150c6774b77a875b26e355bfc" category="listing-title">ルートレベルの例</block>
  <block id="93a53c76d697da9fb40dcf5571309b51" category="listing-title">プールレベルの例</block>
  <block id="c9181e8d9effc5e3fff6e681bc43f9bb" category="section-title">名前テンプレートの例</block>
  <block id="6834f2805b2a45680a7ae789728955a4" category="paragraph">*例1 *：</block>
  <block id="c0fa2da2f469c0dff06ceac7e749b20d" category="paragraph">*例2 *：</block>
  <block id="e1a1ba8a7f91a9affe2c95b795610ca0" category="list-text">ボリュームインポートの場合、既存のボリュームに特定の形式のラベルがある場合にのみラベルが更新されます。例：<block ref="ac1133297b5ec16017c28f04387bb5c9" prefix=" " category="inline-code"></block>。</block>
  <block id="feddffabbdd5254f9975a1a26a73d651" category="list-text">管理対象ボリュームのインポートの場合、ボリューム名はバックエンド定義のルートレベルで定義された名前テンプレートの後に続きます。</block>
  <block id="1528ce5a07575a459060840bad194fe6" category="list-text">Astra Tridentでは、ストレージプレフィックスを含むスライス演算子の使用はサポートされていません。</block>
  <block id="93f2000967d406dcadf65b093b8888dd" category="list-text">テンプレートで一意のボリューム名が生成されない場合、Astra Tridentではいくつかのランダムな文字が追加されて一意のボリューム名が作成されます。</block>
  <block id="c73dc3ec81379dfd0590c03c083c4aa1" category="list-text">NASエコノミーボリュームのカスタム名が64文字を超えると、Astra Tridentは既存の命名規則に従ってボリュームに名前を付けます。他のすべてのONTAPドライバでは、ボリューム名が名前の上限を超えると、ボリュームの作成プロセスが失敗します。</block>
  <block id="ff342df7522d6b527768cc6bfe5f9fae" category="summary">Astra Trident により、 Kubernetes ユーザは作成後にボリュームを拡張できます。ここでは、 iSCSI ボリュームと NFS ボリュームの拡張に必要な設定について説明します。</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">iSCSI ボリュームを展開します</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">CSI プロビジョニングを使用して、 iSCSI Persistent Volume （ PV ）を拡張できます。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSIボリュームの拡張は、、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバでサポートされ<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ており、Kubernetes 1.16以降が必要です。</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">手順 1 ：ボリュームの拡張をサポートするようにストレージクラスを設定する</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">StorageClass定義を編集して、フィールドをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定し<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">既存のStorageClassの場合は、パラメータを含めるように編集します<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>。</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">手順 2 ：作成した StorageClass を使用して PVC を作成します</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">PVC定義を編集し、を更新して、<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>新しく希望するサイズ（元のサイズよりも大きくなければなりません）を反映させます。</block>
  <block id="8592e7b08d26d1aa2ef3c44409c736fa" category="paragraph">Astra Trident が、永続的ボリューム（ PV ）を作成し、この永続的ボリューム要求（ PVC ）に関連付けます。</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">手順 3 ： PVC を接続するポッドを定義します</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">サイズを変更するポッドにPVを接続します。iSCSI PV のサイズ変更には、次の 2 つのシナリオがあります。</block>
  <block id="7ac758b4597806f6880d9618fa093e52" category="list-text">PV がポッドに接続されている場合、 Astra Trident はストレージバックエンドのボリュームを拡張し、デバイスを再スキャンし、ファイルシステムのサイズを変更します。</block>
  <block id="7efffb2478ff651b7e45343b4e9f6fa8" category="list-text">未接続の PV のサイズを変更しようとすると、 Astra Trident がストレージバックエンドのボリュームを拡張します。PVC がポッドにバインドされると、 Trident はデバイスを再スキャンし、ファイルシステムのサイズを変更します。展開操作が正常に完了すると、 Kubernetes は PVC サイズを更新します。</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">この例では、を使用するポッドが作成されて<block ref="51288ffe0d65faa0df02b71bfa104041" prefix=" " category="inline-code"></block>います。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">ステップ4：PVを拡張する</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">作成されたPVのサイズを1Giから2Giに変更するには、PVC定義を編集してを2Giに更新します<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">手順5：拡張を検証する</block>
  <block id="28abbd693f528f04d0ff068b3013fcd6" category="paragraph">PVC 、 PV 、 Astra Trident のボリュームのサイズを確認することで、拡張が正しく機能しているかどうかを検証できます。</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">NFS ボリュームを拡張します</block>
  <block id="ec2577b4770848fd294d6ca069c34a43" category="paragraph">Astra Tridentでは、、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>バックエンドでプロビジョニングされるNFS PVのボリューム拡張がサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">NFS PVのサイズを変更するには、管理者はまず、フィールドをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定してボリュームの拡張を許可するようにストレージクラスを設定する必要があります。<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block></block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">このオプションを指定せずにストレージクラスを作成済みの場合は、を使用して既存のストレージクラスを編集するだけでボリュームを拡張できます<block ref="04e7749715e986f27d9cb67434b65b72" prefix=" " category="inline-code"></block>。</block>
  <block id="784f78e647973a0dcfa11b7a028c7eae" category="paragraph">Astra Trident が、この PVC に対して 20MiB の NFS PV を作成する必要があります。</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">ステップ3：PVを拡張する</block>
  <block id="f825c914a8659f5b0de8a9219ab365b6" category="paragraph">新しく作成した20MiB PVのサイズを1GiBに変更するには、PVCを編集して1GiBに設定し<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">手順4：拡張を検証する</block>
  <block id="c70f05fed7c73e0be4a0b24c8532a87c" category="paragraph">PVC 、 PV 、 Astra Trident のボリュームのサイズを確認することで、サイズ変更が正しく機能しているかどうかを検証できます。</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">を使用して、既存のストレージボリュームをKubernetes PVとしてインポートできます<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>。</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">ボリュームをインポート</block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">概要と考慮事項</block>
  <block id="df6f3bebb689d436041be7a75ee22542" category="paragraph">Astra Tridentにボリュームをインポートすると、次のことが可能になります。</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">アプリケーションをコンテナ化し、既存のデータセットを再利用する</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">一時的なアプリケーションにはデータセットのクローンを使用</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">障害が発生したKubernetesクラスタを再構築します</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">ディザスタリカバリ時にアプリケーションデータを移行</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">ボリュームをインポートする前に、次の考慮事項を確認してください。</block>
  <block id="3c65d97abe967081cd896f071baa434f" category="list-text">Astra TridentでインポートできるのはRW（読み取り/書き込み）タイプのONTAPボリュームのみです。DP（データ保護）タイプのボリュームはSnapMirrorデスティネーションボリュームです。ボリュームをAstra Tridentにインポートする前に、ミラー関係を解除する必要があります。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">アクティブな接続がないボリュームをインポートすることを推奨します。アクティブに使用されているボリュームをインポートするには、ボリュームのクローンを作成してからインポートを実行します。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">Kubernetesは以前の接続を認識せず、アクティブなボリュームをポッドに簡単に接続できるため、これはブロックボリュームで特に重要です。その結果、データが破損する可能性があります。</block>
  <block id="8cbc7a45d1e8d9d63beba7825c76f6ff" category="list-text">PVCには指定する必要がありますが<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>、Astra Tridentはインポート時にこのパラメータを使用しません。ストレージクラスは、ボリュームの作成時に、ストレージ特性に基づいて使用可能なプールから選択するために使用されます。ボリュームはすでに存在するため、インポート時にプールを選択する必要はありません。そのため、PVCで指定されたストレージクラスと一致しないバックエンドまたはプールにボリュームが存在してもインポートは失敗しません。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">既存のボリュームサイズはPVCで決定され、設定されます。ストレージドライバによってボリュームがインポートされると、 PV は ClaimRef を使用して PVC に作成されます。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">再利用ポリシーは、PVでは最初ににに設定されてい<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ます。Kubernetes が PVC と PV を正常にバインドすると、再利用ポリシーがストレージクラスの再利用ポリシーに合わせて更新されます。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">ストレージクラスの再利用ポリシーがの場合、<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>PVが削除されるとストレージボリュームが削除されます。</block>
  <block id="746af08b5a2da065387679e35fb75f55" category="list-text">デフォルトでは、Astra TridentがPVCを管理し、バックエンドでFlexVolとLUNの名前を変更します。フラグを渡して管理対象外のボリュームをインポートできます<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>。を使用している場合、<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>Astra Tridentはオブジェクトのライフサイクル全体にわたってPVCまたはPVに対して追加の処理を実行しません。PVが削除されてもストレージボリュームは削除されず、ボリュームのクローンやボリュームのサイズ変更などのその他の処理も無視されます。</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">このオプションは、コンテナ化されたワークロードに Kubernetes を使用するが、 Kubernetes 以外でストレージボリュームのライフサイクルを管理する場合に便利です。</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="list-text">PVC と PV にアノテーションが追加されます。このアノテーションは、ボリュームがインポートされたこと、および PVC と PV が管理されていることを示す二重の目的を果たします。このアノテーションは変更または削除しないでください。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">ボリュームをインポートします</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">を使用してボリュームをインポートできます<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">PVCの作成に使用するPersistent Volume Claim（PVC；永続的ボリューム要求）ファイル（など）を作成します<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>。PVCファイルには、、<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>、<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block>および<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>が含まれている必要があります<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>。必要に応じて、PVC定義でを指定できます<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block>。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">最小仕様の例を次に示します。</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">PV名やボリュームサイズなどの追加のパラメータは指定しないでください。これにより原因、インポートコマンドが失敗する可能性があります。</block>
  <block id="62baed444b3b0cdadb9d1c1ed6d56876" category="list-text">コマンドを使用し<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>て、ボリュームを含むAstra Tridentバックエンドの名前と、ストレージ上のボリュームを一意に識別する名前（ONTAP FlexVol、Element Volume、Cloud Volumes Serviceパスなど）を指定します。<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>PVCファイルへのパスを指定するには、引数が必要です。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">サポートされているドライバについて、次のボリュームインポートの例を確認してください。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NASおよびONTAP NAS FlexGroup</block>
  <block id="7a4c35874a7b87427d89cd3aecdcb443" category="paragraph">Astra Tridentでは、ドライバと<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバを使用したボリュームインポートがサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバはqtreeをインポートおよび管理できません。</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ドライバと<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバでは、ボリューム名の重複は許可されていません。</block>
  <block id="1b539ba5a07e124e582b2e4bfc489200" category="paragraph">ドライバを使用して作成される各ボリューム<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>は、ONTAPクラスタ上のFlexVolになります。ドライバを使用したFlexVolのインポート<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>も同様です。ONTAPクラスタにすでに存在するFlexVolは、PVCとしてインポートできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。同様に、FlexGroupボリュームはPVCとしてインポートできます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NASの例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">次の例は、管理対象ボリュームと管理対象外ボリュームのインポートを示しています。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">管理対象ボリューム</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">次の例は、という名前のバックエンドにある<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>という名前のボリュームをインポートし<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">管理対象外のボリューム</block>
  <block id="412d430c2de2722ad4f878fba9145e3f" category="paragraph">引数を使用した場合<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>、Astra Tridentはボリュームの名前を変更しません。</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">次に、バックエンドで<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>をインポートする例を示し<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block>ます。</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">ONTAP SAN</block>
  <block id="3e0f4d44c9c86926852e66ee127c5d3d" category="paragraph">Astra Tridentでは、ドライバを使用したボリュームインポートがサポートされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。ドライバを使用したボリュームのインポートはサポートされていませ<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ん。</block>
  <block id="30bb262b9fe2f6c714c560a0608899dc" category="paragraph">Astra Tridentでは、単一のLUNを含むONTAP SAN FlexVolをインポートできます。これは、ドライバと一致してい<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。ドライバは、PVCごとにFlexVolを作成し、FlexVol内にLUNを作成します。Astra TridentがFlexVolをインポートし、PVCの定義に関連付けます。</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SANの例</block>
  <block id="eb87428bc7ec6d211f503b31240aec94" category="paragraph">管理対象ボリュームの場合、Astra TridentはFlexVolの名前をの形式に、FlexVol内のLUNの名前をに<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>変更<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block>します。</block>
  <block id="c59e9e1ae2ff6860f6aa6f2d3dc9f872" category="paragraph">次に、バックエンドにあるFlexVol<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block>をインポートする例を示し<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block>ます。</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">次に、バックエンドで<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block>をインポートする例を示し<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block>ます。</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">次の例に示すように、KubernetesノードのIQNとIQNを共有するigroupにLUNをマッピングすると、というエラーが表示されます。<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>ボリュームをインポートするには、イニシエータを削除するか、LUNのマッピングを解除する必要があります。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">iqnおよびクラスタiqnにマッピングされたLUNのイメージ。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67cb0d15ee759f80dd6bde1ab60c32e1" category="paragraph">Astra Tridentでは、NetApp Elementソフトウェアとドライバを使用したNetApp HCIボリュームのインポートがサポートされます<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="00b0b4c3f91cc8ead8c7a1fac316cd43" category="admonition">Element ドライバではボリューム名の重複がサポートされます。ただし、ボリューム名が重複している場合はAstra Tridentからエラーが返されます。回避策としてボリュームをクローニングし、一意のボリューム名を指定して、クローンボリュームをインポートします。</block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">要素の例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">次の例は、バックエンドにボリュームを<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>インポートし<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform</block>
  <block id="cf31c490360937ec8a3ce1c25928d464" category="paragraph">Astra Tridentでは、ドライバを使用したボリュームインポートがサポートされます<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>。</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">NetApp Cloud Volumes Serviceから作成されたボリュームをGoogle Cloud Platformにインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、エクスポートパスがの場合、<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>ボリュームパスはになり<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>ます。</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Google Cloud Platformの例</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">次の例は、ボリュームパスがの<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>バックエンドにボリュームを<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block>インポートし<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5d935b9f26b929d94ae4b4f04c74ee28" category="paragraph">Astra Tridentでは、ドライバを使用したボリュームインポートがサポートされます<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">Azure NetApp Filesボリュームをインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、マウントパスがの場合、<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>ボリュームパスはになり<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Filesの例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">次の例は、ボリュームパスを持つ<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>バックエンドのボリューム<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block>をインポートし<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8682abd0ce083533bad141869c96ab2a" category="summary">Astra Trident は、ボリュームを管理するための機能を複数備えています。Trident がボリュームに提供している Astra の機能をご確認ください。</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">ボリューム操作を実行する</block>
  <block id="eb487790322c4b8e9b4953d60be1acee" category="paragraph">Trident がボリュームを管理するための各種機能をご紹介します。</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">ボリュームの管理</block>
  <block id="24da0fbaaa9930515c555e7019db09d2" category="paragraph">Astra Tridentを使用してボリュームを管理する方法については、以下を参照してください。</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">スナップショットを操作します</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">この例は、という名前のStorageClassに関連付けられたRWOアクセスを持つ基本的なPVCを示しています<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="973fab696ba8e345f617c87c4de97607" category="example-title">PODマニフェストのサンプル</block>
  <block id="15f15289009d52be4af3e9951853eee5" category="paragraph">次の例は、PVCをポッドに接続するための基本的な設定を示しています。</block>
  <block id="416206518e27ed2ec8b8e0876078af35" category="listing-title">キホンセツテイ</block>
  <block id="b9fa7c201e2dc76fe12c8bb436c212ee" category="listing-title">NVMe/TCPの基本構成</block>
  <block id="29b91846b4d21394034dc9b0f7414f8e" category="summary">永続ボリューム（PV）のKubernetesボリュームSnapshotを使用すると、ボリュームのポイントインタイムコピーを作成できます。Astra Tridentを使用して作成したボリュームのSnapshotの作成、Astra Trident外で作成したSnapshotのインポート、既存のSnapshotから新しいボリュームの作成、Snapshotからボリュームデータをリカバリできます。</block>
  <block id="ab12af74f48620acb3eaeb14535b6d02" category="paragraph">ボリュームSnapshotは、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、、、でサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>、および<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>ドライバ。</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="paragraph">スナップショットを操作するには、外部スナップショットコントローラとカスタムリソース定義（CRD）が必要です。Kubernetesオーケストレーションツール（例：Kubeadm、GKE、OpenShift）の役割を担っています。</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、を参照してください<block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">GKE環境でオンデマンドボリュームスナップショットを作成する場合は、スナップショットコントローラを作成しないでください。GKEでは、内蔵の非表示のスナップショットコントローラを使用します。</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">ボリューム Snapshot を作成します</block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">ボリュームSnapshotクラス</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">を作成し<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>ます。詳細については、を参照してください<block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block>。</block>
  <block id="d5677a436c4d202c4475253ae64255b0" category="list-text">はAstra Trident CSIドライバを示してい<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>には、または<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>を指定できます<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>。に設定する<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>と、オブジェクトが削除されても、ストレージクラスタの基盤となる物理Snapshotが保持され<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">既存のPVCのスナップショットを作成します。</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="list-text">次に、既存のPVCのスナップショットを作成する例を示します。</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">この例では、というPVCのボリュームSnapshotオブジェクトを作成し<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>、Snapshotの名前をに設定して<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>います。VolumeSnapshotはPVCに似ており、実際のSnapshotを表すオブジェクトに関連付けられて<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>います。</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">VolumeSnapshotのオブジェクト<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>を説明することで特定できます<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>。は<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block>、このSnapshotを提供するVolumeSnapshotContentオブジェクトを識別します。パラメータは、<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block>スナップショットを使用して新しいPVCを作成できることを示します。</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">ボリュームSnapshotからPVCを作成</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">を使用して、という名前のVolumeSnapshotをデータのソースとして使用してPVCを作成<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block>できます<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block>。作成された PVC は、ポッドに接続して、他の PVC と同様に使用できます。</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">KB：Trident PVCスナップショットからPVCを作成することは代替バックエンドではできない</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">PVCはソースボリュームと同じバックエンドに作成されます。を参照してください <block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>。</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">次に、をデータソースとして使用してPVCを作成する例を示し<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">ボリュームSnapshotのインポート</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Kubernetesの事前プロビジョニングされたSnapshotプロセス</block>
  <block id="2dd987ed7fd9d4bf9fb445cc7738223b" category="paragraph">Astra Tridentでは、がサポートされます<block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block>。クラスタ管理者は、Astra Tridentの外部で作成されたオブジェクトの作成やSnapshotのインポートを行うことができ<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="44028ad7f17b2bd495c04edf7e9e6b36" category="paragraph">Astra TridentでSnapshotの親ボリュームが作成またはインポートされている必要があります。</block>
  <block id="60f1523169568857649514e4ad6e4f40" category="list-text">*クラスタ管理者：*バックエンドSnapshotを参照するオブジェクトを作成します<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>。これにより、Astra TridentでSnapshotワークフローが開始されます。</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">にバックエンドスナップショットの名前を<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>指定します<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block>。</block>
  <block id="4f45cf3342acaba38e45ce6b09a79e04" category="list-text">で指定し<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block><block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>ます。この情報は、呼び出しで外部Snapshot者からAstra Tridentに提供される唯一の情報です<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>。</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">CRの名前の制約により、は<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block>バックエンドスナップショット名と常に一致しません。</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">次の例では、バックエンドスナップショットを参照するオブジェクトを<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block>作成し<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">*クラスタ管理者：*オブジェクトを参照するCR<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>を作成します<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>。これにより、指定された名前空間でを使用するためのアクセスが要求され<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">次の例では、という名前<block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block>を参照する<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>という名前のCRを<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>作成します<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>。</block>
  <block id="b44a9af30767857be583043a573285f8" category="list-text">*内部処理（アクション不要）：*外部スナップショットは、新しく作成されたを認識して<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>呼び出しを実行します<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>。Astra Tridentがを作成<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block></block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">外部スナップショットは、をに<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block>設定し、<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>をに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定し<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Tridentが戻ります<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>。</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">*任意のユーザー：*を作成し<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>て、新しいを参照します<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>。<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block>（または<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>）の名前は名前です<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>。</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">次に、という名前の<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>を参照するPVCを作成する例を示し<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">Snapshotを使用したボリュームデータのリカバリ</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">デフォルトでは、ドライバと<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバを使用してプロビジョニングされたボリュームの互換性を最大限に高めるため、snapshotディレクトリは非表示になってい<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。ディレクトリがスナップショットからデータを直接リカバリできるようにし<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">ボリュームを以前のSnapshotに記録されている状態にリストアするには、ボリュームSnapshotリストアONTAP CLIを使用します。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">Snapshotコピーをリストアすると、既存のボリューム設定が上書きされます。Snapshotコピーの作成後にボリュームデータに加えた変更は失われます。</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">Snapshotが関連付けられているPVを削除する</block>
  <block id="f28228f84cb57be6c4037bf94a6afbd2" category="paragraph">スナップショットが関連付けられている永続ボリュームを削除すると、対応する Trident ボリュームが「削除状態」に更新されます。ボリュームSnapshotを削除してAstra Tridentボリュームを削除します。</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">ボリュームSnapshotコントローラの導入</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、次のように導入できます。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">ボリュームのSnapshot作成</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">スナップショットコントローラを作成します。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">必要に応じて、名前空間を開い<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block>て更新し<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">関連リンク</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="964ea71824e902693c3ef56b57cf78be" category="summary">Tridentを使用すると、プライマリネームスペースにボリュームを作成し、1つ以上のセカンダリネームスペースで共有できます。</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">ネームスペース間でNFSボリュームを共有します</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">特徴</block>
  <block id="9553e9f0cb878601784cbe35c7767060" category="paragraph">Astra TridentVolumeReference CRを使用すると、1つ以上のKubernetesネームスペース間でReadWriteMany（RWX）NFSボリュームをセキュアに共有できます。このKubernetesネイティブ解決策 には、次のようなメリットがあります。</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">セキュリティを確保するために、複数のレベルのアクセス制御が可能です</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">すべてのTrident NFSボリュームドライバで動作</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">tridentctlやその他の非ネイティブのKubernetes機能に依存しません</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">この図は、2つのKubernetesネームスペース間でのNFSボリュームの共有を示しています。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">ネームスペース間共有の概念図。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">クイックスタート</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">NFSボリューム共有はいくつかの手順で設定できます。</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>ボリュームを共有するように送信元PVCを設定する</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">ソースネームスペースの所有者は、ソースPVCのデータにアクセスする権限を付与します。</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>宛先名前空間にCRを作成する権限を付与する</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">クラスタ管理者が、デスティネーションネームスペースの所有者にTridentVolumeReference CRを作成する権限を付与します。</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block>デスティネーションネームスペースにTridentVolumeReferenceを作成</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">宛先名前空間の所有者は、送信元PVCを参照するためにTridentVolumeReference CRを作成します。</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>宛先ネームスペースに下位PVCを作成します。</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">宛先名前空間の所有者は、送信元PVCからのデータソースを使用する下位PVCを作成します。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">ソースネームスペースとデスティネーションネームスペースを設定します</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">セキュリティを確保するために、ネームスペース間共有では、ソースネームスペースの所有者、クラスタ管理者、および宛先ネームスペースの所有者によるコラボレーションとアクションが必要です。ユーザロールは各手順で指定します。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*ソースネームスペースの所有者：* pvc<block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>を作成します）<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>。注釈を使用して、デスティネーションネームスペースとの共有権限を付与します。<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block></block>
  <block id="3c2d838391ba40c10d124535dfb833e2" category="paragraph">Astra TridentがPVとバックエンドのNFSストレージボリュームを作成</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">カンマ区切りリストを使用して、複数の名前空間にPVCを共有できます。たとえば、<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>です。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">を使用して、すべてのネームスペースと共有できます<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例えば、<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">PVCはいつでも更新してアノテーションを含めることができます<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block>。</block>
  <block id="512fce88fc641bb15b14b72474159acd" category="list-text">*クラスタ管理者：*カスタムロールとkubeconfigを作成して、デスティネーションネームスペースの所有者にTridentVolumeReference CRを作成する権限を付与します。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*デスティネーションネームスペースの所有者：*ソースネームスペースを参照するTridentVolumeReference CRをデスティネーションネームスペースに作成します<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*宛先ネームスペース所有者：*<block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>宛先ネームスペースにPVCを作成<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）。注釈を使用して送信元PVCを指定します。<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block></block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">宛先PVCのサイズは、送信元PVCのサイズ以下である必要があります。</block>
  <block id="c6e8d7b047a148bcf2aeae743c286bbb" category="paragraph">Astra TridentはデスティネーションPVCのアノテーションを読み取り<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block>、ソースPVストレージリソースを共有する独自のストレージリソースのない下位ボリュームとしてデスティネーションPVを作成します。宛先PVCとPVは、通常どおりバインドされているように見えます。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">共有ボリュームを削除</block>
  <block id="2b71b549a21992aba927484a35ad72f6" category="paragraph">複数のネームスペースで共有されているボリュームは削除できます。Tridentが、ソースネームスペースのボリュームへのアクセスを削除し、ボリュームを共有する他のネームスペースへのアクセスを維持します。ボリュームを参照するすべてのネームスペースが削除されると、Astra Tridentによってボリュームが削除されます。</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">下位ボリュームのクエリに使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block></block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">ユーティリティを使用する<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>と、コマンドを実行して従属ボリュームを取得できます<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>。詳細については、リンク:../ Trident -reference/tridentctl.htmlコマンドとオプション]を参照して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block>ください。</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">フラグ：</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：ボリュームのヘルプ。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：クエリを下位のソースボリュームに制限します。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>:クエリをボリュームの下位に限定します。</block>
  <block id="3ad6cc2d4a6ad6fbd07574653275a161" category="list-text">Astra Tridentでは、デスティネーションネームスペースが共有ボリュームに書き込まれるのを防ぐことはできません。共有ボリュームのデータの上書きを防止するには、ファイルロックなどのプロセスを使用する必要があります。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">または<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block>注釈を削除したり、CRを削除したりし<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block>て、送信元PVCへのアクセスを取り消すことはできません<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block>。アクセスを取り消すには、下位PVCを削除する必要があります。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">Snapshot、クローン、およびミラーリングは下位のボリュームでは実行できません。</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">ネームスペース間のボリュームアクセスの詳細については、次の資料を参照してください。</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">ネームスペース間でのボリュームの共有：ネームスペース間のボリュームアクセスを許可する場合は「Hello」と入力します</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">にアクセスします<block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">ネットアップTV</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">のデモをご覧ください <block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>。</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes クラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。いずれかのバックエンドに ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-flexgroup ドライバを使用している場合は、ワーカーノードに NFS ツールが必要です。それ以外の場合は iSCSI ツールが必要です。</block>
  <block id="cedfb4d575651cbf026e87084c68731c" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。ワーカーノードを準備するには、ドライバの選択に基づいて、NFS、iSCSI、またはNVMe/TCPのいずれかのツールをインストールする必要があります。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">適切なツールを選択する</block>
  <block id="2994aa6a94d7af57a2fb9663129866a9" category="paragraph">ドライバを組み合わせて使用している場合は、ドライバに必要なすべてのツールをインストールする必要があります。最新バージョンのRedHat CoreOSには、デフォルトでツールがインストールされています。</block>
  <block id="33176aeb27c41088051f460946356423" category="inline-link-macro">NFSツールのインストール</block>
  <block id="a0b90bbc60c78003c8f066892446e127" category="paragraph"><block ref="5dac8bb8705e3a30615e678be90a7f1d" category="inline-link-macro-rx"></block>を使用している場合：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、、<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>。</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="inline-link-macro">iSCSIツールをインストール</block>
  <block id="dd1774ab705fcc0738f7d5cfa8176115" category="paragraph"><block ref="918981963bb555a1b3a006c12fd13637" category="inline-link-macro-rx"></block>を使用している場合：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="e007fb329975dfac9458f3defd0f7fc1" category="inline-link-macro">NVMeツールをインストールする</block>
  <block id="fd7af40a7e3f81bfb0a51eac257dc730" category="paragraph"><block ref="8ac92b41418caf5b4c74c2a77a0c349a" category="inline-link-macro-rx"></block>をNon-Volatile Memory Express（NVMe）over TCP（NVMe/TCP）プロトコルに使用している場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。</block>
  <block id="bfd6781963e74cc6cfd1f864a28a5b5b" category="admonition">NVMe/TCPにはONTAP 9.12以降を推奨します。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">ノードサービスの検出</block>
  <block id="b5a99bc586551f60f1fa102fcf3a90de" category="paragraph">Astra Tridentは、ノードでiSCSIサービスやNFSサービスを実行できるかどうかを自動的に検出しようとします。</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">ノードサービス検出で検出されたサービスが特定されますが、サービスが適切に設定されていることは保証されませ逆に、検出されたサービスがない場合も、ボリュームのマウントが失敗する保証はありません。</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">イベントを確認します</block>
  <block id="331ef15228e3a5548d228c3aea284e38" category="paragraph">Astra Tridentが、検出されたサービスを特定するためのイベントをノードに対して作成次のイベントを確認するには、を実行します。</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">検出されたサービスを確認</block>
  <block id="ce31bc8e7fc118dd3b337bcf4c41e399" category="paragraph">Astra Tridentは、TridentノードCRの各ノードで有効になっているサービスを識別します。検出されたサービスを表示するには、を実行します。</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFSボリューム</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">オペレーティングシステム用のコマンドを使用して、NFSツールをインストールします。ブート時にNFSサービスが開始されていることを確認します。</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI ボリューム</block>
  <block id="66ccc45f9958fe5f1a0ef0427d36d4c3" category="paragraph">Astra Tridentを使用すると、iSCSIセッションを自動的に確立し、LUNをスキャンし、マルチパスデバイスを検出してフォーマットし、ポッドにマウントできます。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSIの自己回復機能</block>
  <block id="f0621bdb4caa030dcd0bb9924891842e" category="paragraph">ONTAP システムでは、Astra TridentがiSCSIの自己修復機能を5分ごとに実行し、以下を実現します。</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*希望するiSCSIセッションの状態と現在のiSCSIセッションの状態を識別します</block>
  <block id="fdb53d548f3fa1b93129b49ad4bc7990" category="list-text">*希望する状態と現在の状態を比較して、必要な修理を特定します。Astra Tridentが、修理の優先順位と、修理に先手を打つタイミングを判断</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*現在のiSCSIセッションの状態を希望するiSCSIセッションの状態に戻すために必要な修復*を実行します。</block>
  <block id="aa66c6c24f8a8540d1582c79e4534c94" category="admonition">自己修復アクティビティのログは、それぞれのデーモンセットポッドのコンテナにあり<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>ます。ログを表示するには、Astra Tridentのインストール時に「true」に設定しておく必要があり<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0be81019f18cde342a2e6728cbcb66cc" category="paragraph">Astra Tridentの自動修復機能は、次のような問題を防止します。</block>
  <block id="4b42deda281d95aafb0896a44484007a" category="list-text">ネットワーク接続問題 後に発生する可能性がある古いiSCSIセッションまたは正常でないiSCSIセッション。古いセッションの場合、Astra Tridentは7分待機してからログアウトし、ポータルとの接続を再確立します。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">たとえば、ストレージコントローラでCHAPシークレットがローテーションされた場合にネットワークが接続を失うと、古い（_stale_）CHAPシークレットが保持されることがあります。自己修復では、これを認識し、自動的にセッションを再確立して、更新されたCHAPシークレットを適用できます。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">iSCSIセッションがありません</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">LUNが見つかりません</block>
  <block id="eb80be396693610ba21c23b6b222bb73" category="paragraph">* Tridentをアップグレードする前に考慮すべきポイント*</block>
  <block id="b100864b32a36993557470c9854e7e3a" category="list-text">ノード単位のigroup（23.04以降で導入）のみを使用している場合、iSCSIの自己修復によってSCSIバス内のすべてのデバイスに対してSCSI再スキャンが開始されます。</block>
  <block id="284bb2f9d2596017aa72985df760fdb3" category="list-text">バックエンドを対象としたigroup（23.04で廃止）のみを使用している場合、iSCSIの自己修復によってSCSIバス内の正確なLUN IDのSCSI再スキャンが開始されます。</block>
  <block id="0d6cf1de077f00140ee25c03f94e4805" category="list-text">ノード単位のigroupとバックエンドを対象としたigroupが混在している場合、iSCSIの自己修復によってSCSIバス内の正確なLUN IDのSCSI再スキャンが開始されます。</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes クラスタ内の各ノードには一意の IQN を割り当てる必要があります。* これは必須の前提条件です * 。</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">ドライバとElement OS 12.5以前でRHCOSバージョン4.5以降またはその他のRHEL互換Linuxディストリビューションを使用している場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>は、でCHAP認証アルゴリズムがMD5に設定されていることを確認し<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>てください。セキュアなFIPS準拠のCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256はElement 12.7で使用できます。</block>
  <block id="cd9179614936afe6f50612f0cf8c5615" category="inline-link">Red Hat のドキュメント</block>
  <block id="65a83523719e1f7b2daf393eda16321a" category="list-text">iSCSI PVSでRHEL / RedHat CoreOSを実行するワーカーノードを使用する場合は、StorageClassでmountOptionを指定し<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block>てインラインのスペース再生を実行します。を参照してください<block ref="cef8948c7b8e90d5be591e67d93555a7" category="inline-link-rx"></block>。</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">Ubuntu 18.04の場合は、iSCSIデーモンを開始する前に<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block>でターゲットポートを検出する必要があります<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block>。または、サービスを変更して自動的に開始する<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>こともできます<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>。</block>
  <block id="d03a790fb20fccc8b27cff74c7a10709" category="section-title">iSCSI自己回復の設定または無効化</block>
  <block id="1c804f3ccd207f84562f1fad6c4d35f5" category="paragraph">次のAstra TridentのiSCSI自己修復設定を使用して、古いセッションを修正できます。</block>
  <block id="160cc91d68e6399b864fe236e7a6d11e" category="list-text">* iSCSIの自己修復間隔*：iSCSIの自己修復を実行する頻度を指定します（デフォルト：5分）。小さい数値を設定することで実行頻度を高めるか、大きい数値を設定することで実行頻度を下げることができます。</block>
  <block id="af6999fe88eb0d5f3cf5f3c7570bf014" category="paragraph">iSCSIの自己修復間隔を0に設定すると、iSCSIの自己修復が完全に停止します。iSCSIの自己修復を無効にすることは推奨しません。iSCSIの自己修復が意図したとおりに機能しない、またはデバッグ目的で機能しない特定のシナリオでのみ無効にする必要があります。</block>
  <block id="fe240a869a7a9e3bdc68d460aa116db2" category="list-text">* iSCSI自己回復待機時間*：正常でないセッションからログアウトして再ログインを試みるまでのiSCSI自己回復の待機時間を決定します（デフォルト：7分）。健全でないと識別されたセッションがログアウトされてから再度ログインしようとするまでの待機時間を長くするか、またはログアウトしてログインしてからログインするまでの時間を短くするように設定できます。</block>
  <block id="7c3dfaf40c8f6c1208932661e70ca6b2" category="paragraph">iSCSIの自己修復設定を設定または変更するには、Helmのインストール時またはHelmの更新時にパラメータと<block ref="85fc372a514da766ce84a222668f8e62" prefix=" " category="inline-code"></block>パラメータを渡します<block ref="a1edaea62dbed344534369e9668223b1" prefix=" " category="inline-code"></block>。</block>
  <block id="ba53a946a5e7dedfdc75a569107f3a66" category="paragraph">次の例では、iSCSIの自己修復間隔を3分、自己修復の待機時間を6分に設定しています。</block>
  <block id="c67fd1b99934afa248dfeb285a9a4191" category="open-title">Tridentctl</block>
  <block id="03c688458c87383f238f17223a52f7bd" category="paragraph">iSCSIの自己修復設定を構成または変更するには、tridentctlのインストールまたは更新時にパラメータと<block ref="4ad3b66813348b71002bd232a403581c" prefix=" " category="inline-code"></block>パラメータを渡します<block ref="95df96489cc6481c74d24c1397e3edd9" prefix=" " category="inline-code"></block>。</block>
  <block id="4771a9c521a7d39c2dcf6ee71d0ef032" category="section-title">NVMe/TCPホリユウム</block>
  <block id="b15a013c4977a2a96afedafe316664b2" category="section-title">インストールの確認</block>
  <block id="d777ba5e4b1ff43d3668b14ef7200bad" category="paragraph">インストールが完了したら、次のコマンドを使用して、Kubernetesクラスタ内の各ノードに一意のNQNが割り当てられていることを確認します。</block>
  <block id="d219e1bd43b705f449fcb0352bd589ab" category="admonition">Astra Tridentでは、NVMeがダウンしたときにパスがあきらめないように値を変更し<block ref="f0523c4334dbbc70205de4279475561a" prefix=" " category="inline-code"></block>ます。この設定は変更しないでください。</block>
  <block id="b928e0aee19c1e2cc91c85e8a0856936" category="summary">Astra Trident のインストール中および使用中に発生する可能性のある問題のトラブルシューティングには、ここに記載されているポインタを使用してください。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">トラブルシューティング</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">全般的なトラブルシューティング</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">Tridentポッドが適切に起動しない場合（たとえば、Tridentポッドが使用可能なコンテナが3つ未満でフェーズで停止した<block ref="8627ca3ad23f4fb9adc6ba05047004c6" prefix=" " category="inline-code"></block>場合）は、実行中で<block ref="d8ff0b6a743c3e367651a5670557e628" prefix=" " category="inline-code"></block>、追加の分析情報が得られます。<block ref="a4b328a3b4da8017033a2fedd18d09fa" prefix=" " category="inline-code"></block>kubeletログ（たとえば、経由）を取得すること<block ref="15860ae6633dd5eb60d2266c2a6fc03f" prefix=" " category="inline-code"></block>も役立ちます。</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">Tridentログに十分な情報がない場合は、インストールオプションに基づいてinstallパラメータにフラグを渡して、Tridentのデバッグモードを有効にしてみて<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block>ください。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">次に、を使用してデバッグが設定されていることを確認し、<block ref="84c78f6343bea2c18a8ded36d1ac1572" prefix=" " category="inline-code"></block>ログでを検索し<block ref="53df56868ef061c403e1b925399eeac6" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">オペレータとともにインストールされます</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">すべての Trident ポッドが再起動されます。これには数秒かかることがあります。これを確認するには、の出力にある「age」列を確認し<block ref="ae7c84a6e027b78ae530cc1b0b98ac3c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="6a304a6cf7cd8c90bac892ab0fb9c134" category="paragraph">Astra Trident 20.07および20.10では、の代わりに<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block>使用します<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block>。</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">Helm とともにインストールされます</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">tridentctl を使用してインストールされます</block>
  <block id="87248f7afe198418bdbedd919695631e" category="list-text">バックエンド定義にを含めることで、各バックエンドのデバッグログを取得することもできます<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>。たとえば、TridentログでAPI呼び出しとメソッドトラバーサルを取得するためにを指定します<block ref="4974488c28ddbbc84e45d213810267be" prefix=" " category="inline-code"></block>。既存のバックエンドはで構成<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>できます<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>。</block>
  <block id="6cc37a0664d7f97f87d34eadef23dbad" category="list-text">RedHat CoreOSを使用している場合は、ワーカーノードでが有効になっていて、デフォルトで起動されていることを確認して<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>ください。この設定には、 OpenShift MachineConfig を使用するか、イグニッションテンプレートを変更します。</block>
  <block id="154244be43a4ba50080a256f5657b29a" category="list-text">でTridentを使用するときによく発生する問題<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block>は、権限が不十分なアプリケーション登録にテナントシークレットとクライアントシークレットが含まれている場合です。Tridentの要件の一覧については、構成を参照して<block ref="afedf4ee56554ea6e6b54e6aa206680c" category="inline-link-macro-rx"></block>ください。</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">コンテナへのPVのマウントに問題がある場合は、がインストールされて実行されていることを確認して<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>ください。ホストOSに必要なパッケージマネージャを使用して、が実行されているかどうかを確認します<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>。サービスのステータスは、または同等のを実行して<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block>確認できます<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block>。</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">以前は機能していたにもかかわらずTridentバックエンドが状態であると報告された場合は<block ref="26934eb377001f66e37289a5c93fe284" prefix=" " category="inline-code"></block>、バックエンドに関連付けられているSVM /管理者クレデンシャルの変更が原因である可能性があります。Tridentポッドを使用してバックエンド情報を更新<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>またはバウンスすると、この問題が修正されます。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">コンテナランタイムとしてDockerを使用してTridentをインストールするときに権限の問題が発生した場合は、フラグを指定してTridentのインストールを試行し<block ref="acbc9344b624715d4749280f7e4a5b49" prefix=" " category="inline-code"></block>ます。これはインストーラポッドを使用せず、ユーザーによるアクセス許可の問題を回避します<block ref="c84ef67352bb6783ff2881f9f2821c2a" prefix=" " category="inline-code"></block>。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">を使用して、<block ref="9a259632da28fe06c1ce5125984d3597" prefix=" " category="inline-code"></block>実行に失敗した後のクリーンアップを実行します。デフォルトでは、スクリプトは Trident によって作成された CRD を削除しないため、実行中の導入環境でも安全にアンインストールしてインストールできます。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident のバージョン</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">以前のバージョンのTridentにダウングレードする場合は、最初にコマンドを実行し<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block>てTridentを削除します。コマンドを使用して目的のものをダウンロードし<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block>てインストールし<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>ます。</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">インストールが正常に完了した後、PVCがフェーズで停止した場合、<block ref="2d13df6f8b5e4c5af9f87e0dc39df69d" prefix=" " category="inline-code"></block>を実行すると、<block ref="703698f580eb41aee04574750a78238d" prefix=" " category="inline-code"></block>TridentがこのPVCのPVのプロビジョニングに失敗した理由に関する追加情報が提供されます。</block>
  <block id="c966bdf80a661ce3909786b6f622340b" category="section-title">オペレータを使用したTridentの導入に失敗</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">オペレータを使用してTridentを展開する場合は、のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>がからに<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>変わります<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block>。ステータスを確認し、オペレータが単独で回復できない場合は<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>、次のコマンドを実行してオペレータのログを確認する必要があります。</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">trident-operator コンテナのログの末尾には、問題のある場所を示すことができます。たとえば、このような問題の 1 つは、エアーギャップ環境のアップストリームレジストリから必要なコンテナイメージをプルできないことです。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">Tridentのインストールが失敗した理由を理解するには、ステータスを確認する必要があり<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">このエラーは、Tridentのインストールに使用されたがすでに存在することを示します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。各KubernetesクラスタはTridentのインスタンスを1つだけ持つことができるため、常に作成可能なアクティブなインスタンスが1つだけ存在するようにします<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">また、 Trident ポッドのステータスを確認することで、適切でないものがあるかどうかを確認できます。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">1 つ以上のコンテナイメージがフェッチされなかったため、ポッドが完全に初期化できないことがわかります。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">この問題に対処するには、CRを編集する必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。または、削除して、修正された正確な定義を使用して新しいものを作成することもできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="ccfca578972ee86c982797bc2898fe5b" category="section-title">シヨウシテTridentヲトウニユウテキナイ<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">何がうまくいかなかったのかを理解するために、引数を使用してインストーラを再度実行すると、<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>デバッグモードがオンになり、問題の内容を理解するのに役立ちます。</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">問題に対処したら、次のようにインストールをクリーンアップし、コマンドを再度実行し<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>ます。</block>
  <block id="de752588132c292a8a12ad2441fbf43c" category="paragraph">Astra Tridentと作成されたCRDと関連するカスタムリソースをすべて完全に削除できます。</block>
  <block id="94f75721cb4928d9162f1fecff93c8fd" category="admonition">この操作は元に戻すことはできません。Astra Tridentを完全に新規にインストールする場合を除き、この作業は行わないでください。CRDを削除せずにAstra Tridentをアンインストールする方法については、を参照してください<block ref="3ac8f1f328a77d784290ca23df4860e6" category="inline-link-macro-rx"></block>。</block>
  <block id="f4508049a2ac2bdb5cb9fde92120497a" category="paragraph">Astra Tridentをアンインストールし、Tridentオペレータを使用してCRDを完全に削除するには、次の手順を実行します。</block>
  <block id="96ce7a69bf578e9c3915fb876cad6dd9" category="paragraph">Astra Tridentをアンインストールし、Helmを使用してCRDを完全に削除する手順は次のとおりです。</block>
  <block id="cc40bbe559f5f0b7306a8ae2941647b5" category="paragraph">Astra Tridentのアンインストール後にCRDを完全に削除するには<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="35f748582b65670a3f27a7f93c685560" category="section-title">RWX rawブロックネームスペースo Kubernetes 1.26でNVMeノードのステージング解除が失敗する</block>
  <block id="02c0c037ba3f051d21fbf3a2f370eb72" category="paragraph">Kubernetes 1.26を実行している場合、RWX rawブロックネームスペースでNVMe/TCPを使用すると、ノードのステージング解除が失敗することがあります。次のシナリオは、障害に対する回避策を提供します。または、Kubernetesを1.27にアップグレードすることもできます。</block>
  <block id="14b443235c9f911289e8e2d0bad3eaf2" category="section-title">ネームスペースとポッドが削除されました</block>
  <block id="c982f8f2da7d1bbded29b75f706e5f25" category="paragraph">Astra Tridentで管理されるネームスペース（NVMeの永続的ボリューム）をポッドに接続したシナリオを考えてみましょう。ネームスペースをONTAPバックエンドから直接削除すると、ポッドを削除しようとすると、ステージング解除プロセスが停止します。このシナリオは、Kubernetesクラスタやその他の機能には影響しません。</block>
  <block id="31accf88e60e15e200ac055e6344c912" category="paragraph">該当するノードから永続的ボリューム（そのネームスペースに対応するボリューム）をアンマウントして削除します。</block>
  <block id="5d84bf099896e3a304a067d7c5f71db1" category="section-title">ブロックされたデータLIF</block>
  <block id="e80aabfb35c98e66a71baf6a3c90a7df" category="paragraph">すべての機能を復元するには、dataLIFSを起動します。</block>
  <block id="5afe86ac983ac04ac6d9268beb2bc024" category="section-title">ネームスペースマッピングが削除され</block>
  <block id="9b0dbff182f270b33423b281f92bddc2" category="paragraph">をサブシステムに再度追加し<block ref="a564a902c12941efa27c1d2ea4a19f8e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ea3d51fb2b16acb7cb260f25bc8965b1" category="sidebar">Astra Trident は、ネットアップが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">リリースノート</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">以前のバージョン</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">Trident オペレータとともに導入</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">tridentctl を使用して導入します</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">Trident のオペレータにアップグレード</block>
  <block id="eb1f347fa6176ae2c9175df3bc414954" category="sidebar">Astra Trident を使用</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">デモとチュートリアル</block>
  <block id="28348a71bed382b86fa6de4d3a307715" category="sidebar">Astra Trident のビデオ</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">ブログとコミュニティ</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">切断</block>
  <block id="d327e8f24b63b83e091dccdc48dd7b1b" category="sidebar">Astra Trident のドキュメント</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新機能</block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知識とサポート</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="sidebar">FAQ</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">ヘルプを表示します</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">Trident をアップグレードまたはアンインストールする</block>
  <block id="143c9ea21ac76ba425aa94411fbba07b" category="sidebar">Astra Tridentの概要</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">インストールの概要</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">Tridentオペレータを使用してインストール</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">Tridentオペレータを手動で導入（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">Tridentオペレータを手動で導入（オフライン）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">Trident Helmチャートを使用（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">Trident Helmチャートを使用（オフライン）</block>
  <block id="ab09b43d2faaea1b49257d5a973eae0e" category="sidebar">Astra Tridentの管理と監視</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">アップグレードの概要</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="sidebar">オペレータにアップグレードしてください</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">ベストプラクティスと推奨事項</block>
  <block id="c91cf7abea9584bc1edbc8ff4948ada0" category="sidebar">Trident を統合</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">セキュリティに関する推奨事項</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">参考文献</block>
  <block id="324fb1352ffffb105d10013810c42896" category="sidebar">Kubernetes と Astra Trident オブジェクト</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">バックエンドの構成と管理</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">設定を準備</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="sidebar">設定オプションと例</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI またはSolidFire</block>
  <block id="53f64465dc89ebfc8f426b3cdf4d1614" category="sidebar">IAMロールとAWSシークレットを作成する</block>
  <block id="0a3c6c3b1b9418c792ec73b934ca8fdd" category="sidebar">ストレージバックエンドの設定</block>
  <block id="50399b7d6597b32502708277dd2be03c" category="sidebar">ストレージクラスとPVCを設定</block>
  <block id="c6861e88433ccd90f1ce8143d7e5fed0" category="sidebar">EKSクラスタでのAstra Trident EKSアドオンの設定</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">バックエンドの管理</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">kubectlでバックエンドを管理</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">tridentctlによるバックエンドの管理</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">ストレージクラスの作成と管理</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">ボリュームのプロビジョニングと管理</block>
  <block id="e8ce47501426b8525633fc30daf17d7a" category="sidebar">ボリューム名をカスタマイズ</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">ネームスペース間でNFSボリュームを共有します</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">スナップショットの使用</block>
</blocks>